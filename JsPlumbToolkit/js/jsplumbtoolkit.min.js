(function(){void 0===Math.sgn&&(Math.sgn=function(_){return 0==_?0:0<_?1:-1});function o(_,n){for(var o=[],i=l(_,n),w=n.length-1,t=u(i,2*w-1,o,0),e=f(_,n[0]),d=s(e),$=0,j=0;j<t;j++){e=f(_,v(n,w,o[j],null,null));var r=s(e);r<d&&(d=r,$=o[j])}return e=f(_,n[w]),(r=s(e))<d&&(d=r,$=1),{location:$,distance:d}}function e(n){var _=y[n];if(!_){function o(n){return function(_){return n}}function i(){return function(_){return _}}function w(){return function(_){return 1-_}}function t(i){return function(_){for(var n=1,o=0;o<i.length;o++)n*=i[o](_);return n}}(_=[]).push(new function(){return function(_){return Math.pow(_,n)}});for(var e=1;e<n;e++){for(var d=[new o(n)],$=0;$<n-e;$++)d.push(new i);for($=0;$<e;$++)d.push(new w);_.push(new t(d))}_.push(new function(){return function(_){return Math.pow(1-_,n)}}),y[n]=_}return _}function $(_,n){for(var o=e(_.length-1),i=0,w=0,t=0;t<_.length;t++)i+=_[t].x*o[t](n),w+=_[t].y*o[t](n);return{x:i,y:w}}function j(_,n){return Math.sqrt(Math.pow(_.x-n.x,2)+Math.pow(_.y-n.y,2))}function r(_){return _[0].x===_[1].x&&_[0].y===_[1].y}function w(_,n,o){if(r(_))return{point:_[0],location:n};for(var i=$(_,n),w=0,t=n,e=0<o?1:-1,d=null;w<Math.abs(o);)d=$(_,t+=.005*e),w+=j(d,i),i=d;return{point:d,location:t}}function t(_,n){var o=$(_,n),n=(_=$(_.slice(0,_.length-1),n)).y-o.y,o=_.x-o.x;return 0==n?1/0:Math.atan(n/o)}function d(_,n,o,i,w){var t=i-n,e=_-o,d=_*(n-i)+n*(o-_),$=[b(w=w,"x"),b(w,"y")],d=[t*$[0][0]+e*$[1][0],t*$[0][1]+e*$[1][1],t*$[0][2]+e*$[1][2],t*$[0][3]+e*$[1][3]+d],j=function(_,n,o,i){var w=n/_,n=o/_,o=i/_,i=(3*n-Math.pow(w,2))/9,_=(9*w*n-27*o-2*Math.pow(w,3))/54,n=Math.pow(i,3)+Math.pow(_,2),t=[];0<=n?(o=P(_+Math.sqrt(n))*Math.pow(Math.abs(_+Math.sqrt(n)),1/3),n=P(_-Math.sqrt(n))*Math.pow(Math.abs(_-Math.sqrt(n)),1/3),t[0]=-w/3+(o+n),t[1]=-w/3-(o+n)/2,t[2]=-w/3-(o+n)/2,0!==Math.abs(Math.sqrt(3)*(o-n)/2)&&(t[1]=-1,t[2]=-1)):(_=Math.acos(_/Math.sqrt(-Math.pow(i,3))),t[0]=2*Math.sqrt(-i)*Math.cos(_/3)-w/3,t[1]=2*Math.sqrt(-i)*Math.cos((_+2*Math.PI)/3)-w/3,t[2]=2*Math.sqrt(-i)*Math.cos((_+4*Math.PI)/3)-w/3);for(var e=0;e<3;e++)(t[e]<0||1<t[e])&&(t[e]=-1);return t}.apply(null,d),r=[];if(null!=j)for(var s=0;s<3;s++){var a=j[s],l=Math.pow(a,2),u=Math.pow(a,3),u=[$[0][0]*u+$[0][1]*l+$[0][2]*a+$[0][3],$[1][0]*u+$[1][1]*l+$[1][2]*a+$[1][3]],l=o-_!=0?(u[0]-_)/(o-_):(u[1]-n)/(i-n);0<=a&&a<=1&&0<=l&&l<=1&&r.push(u)}return r}var f=function(_,n){return{x:_.x-n.x,y:_.y-n.y}},g=function(_,n){return _.x*n.x+_.y*n.y},s=function(_){return Math.sqrt(_.x*_.x+_.y*_.y)},m=function(_,n){return{x:_.x*n,y:_.y*n}},a=Math.pow(2,-65),l=function(_,n){for(var o=n.length-1,i=2*o-1,w=[],t=[],e=[],d=[],$=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],j=0;j<=o;j++)w[j]=f(n[j],_);for(j=0;j<=o-1;j++)t[j]=f(n[j+1],n[j]),t[j]=m(t[j],3);for(var r=0;r<=o-1;r++)for(var s=0;s<=o;s++)e[r]||(e[r]=[]),e[r][s]=g(t[r],w[s]);for(j=0;j<=i;j++)d[j]||(d[j]=[]),d[j].y=0,d[j].x=parseFloat(j)/i;for(var a=o,l=o-1,u=0;u<=a+l;u++){var c=Math.max(0,u-l),h=Math.min(u,a);for(j=c;j<=h;j++){var p=u-j;d[j+p].y+=e[p][j]*$[p][j]}}return d},u=function(_,n,o,i){var w,t,e=[],d=[],$=[],j=[];switch(c(_,n)){case 0:return 0;case 1:if(64<=i)return o[0]=(_[0].x+_[n].x)/2,1;if(h(_,n))return o[0]=p(_,n),1}v(_,n,.5,e,d),w=u(e,n,$,i+1),t=u(d,n,j,i+1);for(var r=0;r<w;r++)o[r]=$[r];for(r=0;r<t;r++)o[r+w]=j[r];return w+t},c=function(_,n){for(var o,i=0,w=o=Math.sgn(_[0].y),t=1;t<=n;t++)(w=Math.sgn(_[t].y))!=o&&i++,o=w;return i},h=function(_,n){for(var o,i,w,t,e=_[0].y-_[n].y,d=_[n].x-_[0].x,$=_[0].x*_[n].y-_[n].x*_[0].y,j=t=0,r=1;r<n;r++){var s=e*_[r].x+d*_[r].y+$;j<s?j=s:s<t&&(t=s)}return o=($-j-0*(w=d))*(1/(0*w-e)),i=($-t-0*(w=d))*(1/(0*w-e)),w=Math.min(o,i),Math.max(o,i)-w<a?1:0},p=function(_,n){var o=_[n].x-_[0].x,i=_[n].y-_[0].y,n=+_[0].x;return 0+(o*+_[0].y-i*n)*(1/(0*o-i))},v=function(_,n,o,i,w){for(var t=[[]],e=0;e<=n;e++)t[0][e]=_[e];for(var d=1;d<=n;d++)for(e=0;e<=n-d;e++)t[d]||(t[d]=[]),t[d][e]||(t[d][e]={}),t[d][e].x=(1-o)*t[d-1][e].x+o*t[d-1][e+1].x,t[d][e].y=(1-o)*t[d-1][e].y+o*t[d-1][e+1].y;if(null!=i)for(e=0;e<=n;e++)i[e]=t[e][0];if(null!=w)for(e=0;e<=n;e++)w[e]=t[n-e][e];return t[n][0]},y={};function b(_,n){return[-_[0][n]+3*_[1][n]+-3*_[2][n]+_[3][n],3*_[0][n]-6*_[1][n]+3*_[2][n],-3*_[0][n]+3*_[1][n],_[0][n]]}function P(_){return _<0?-1:0<_?1:0}var _=this.jsBezier={distanceFromCurve:o,gradientAtPoint:t,gradientAtPointAlongCurveFrom:function(_,n,o){o=w(_,n,o);return 1<o.location&&(o.location=1),o.location<0&&(o.location=0),t(_,o.location)},nearestPointOnCurve:function(_,n){_=o(_,n);return{point:v(n,n.length-1,_.location,null,null),location:_.location}},pointOnCurve:$,pointAlongCurveFrom:function(_,n,o){return w(_,n,o).point},perpendicularToCurveAt:function(_,n,o,i){n=w(_,n,i=null==i?0:i),i=t(_,n.location),_=Math.atan(-1/i),i=o/2*Math.sin(_),_=o/2*Math.cos(_);return[{x:n.point.x+_,y:n.point.y+i},{x:n.point.x-_,y:n.point.y-i}]},locationAlongCurveFrom:function(_,n,o){return w(_,n,o).location},getLength:function(_){if(r(_))return 0;for(var n,o=$(_,0),i=0,w=0;w<1;)n=$(_,w+=.005),i+=j(n,o),o=n;return i},lineIntersection:d,boxIntersection:function(_,n,o,i,w){var t=[];return t.push.apply(t,d(_,n,_+o,n,w)),t.push.apply(t,d(_+o,n,_+o,n+i,w)),t.push.apply(t,d(_+o,n+i,_,n+i,w)),t.push.apply(t,d(_,n+i,_,n,w)),t},boundingBoxIntersection:function(_,n){var o=[];return o.push.apply(o,d(_.x,_.y,_.x+_.w,_.y,n)),o.push.apply(o,d(_.x+_.w,_.y,_.x+_.w,_.y+_.h,n)),o.push.apply(o,d(_.x+_.w,_.y+_.h,_.x,_.y+_.h,n)),o.push.apply(o,d(_.x,_.y+_.h,_.x,_.y,n)),o},version:"0.9.0"};"undefined"!=typeof exports&&(exports.jsBezier=_)}).call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function u(){return function(){var _=[];return Array.prototype.push.apply(_,arguments),_.item=function(_){return this[_]},_}(function(_,n,o,i,w,t,e,d){return new Touch({target:n,identifier:A(),pageX:o,pageY:i,screenX:w,screenY:t,clientX:e||w,clientY:d||t})}.apply(null,arguments))}function l(_,n,o){for(var i=(o=o||_.parentNode).querySelectorAll(n),w=0;w<i.length;w++)if(i[w]===_)return 1}function c(_){return"string"==typeof _||_.constructor===String?document.getElementById(_):_}function h(_){return _.srcElement||_.target}function p(_,n,o,i){if(i){if(void 0!==_.path&&_.path.indexOf)return{path:_.path,end:_.path.indexOf(o)};var w={path:[],end:-1},t=function(_){w.path.push(_),_===o?w.end=w.path.length-1:null!=_.parentNode&&t(_.parentNode)};return t(n),w}return{path:[n],end:1}}function w(_,n){for(var o=0,i=_.length;o<i&&_[o]!=n;o++);o<_.length&&_.splice(o,1)}function d(_,n,o){var i=e++;return _.__ta=_.__ta||{},_.__ta[n]=_.__ta[n]||{},(_.__ta[n][i]=o).__tauid=i}function $(e,d,$,_){if(null==e)return $;var j=e.split(","),r=function(_){r.__tauid=$.__tauid;var n,o=h(_),i=p(_,o,d,null!=e);if(-1!=i.end)for(var w=0;w<i.end;w++){n=i.path[w];for(var t=0;t<j.length;t++)l(n,j[t],d)&&$.apply(n,arguments)}};return s($,_,r),r}function f(_,n,o,i){var w;v&&b[n]&&(w=$(i,_,o,b[n]),S(_,b[n],w,o)),"focus"===n&&null==_.getAttribute("tabindex")&&_.setAttribute("tabindex","1"),S(_,n,$(i,_,o,n),o)}function r(o,_,n,i){null==o.__taSmartClicks&&(f(o,"mousedown",function(_){o.__tad=P(_)},i),f(o,"mouseup",function(_){o.__tau=P(_)},i),f(o,"click",function(_){if(o.__tad&&o.__tau&&o.__tad[0]===o.__tau[0]&&o.__tad[1]===o.__tau[1])for(var n=0;n<o.__taSmartClicks.length;n++)o.__taSmartClicks[n].apply(h(_),[_])},i),o.__taSmartClicks=[]),o.__taSmartClicks.push(n),n.__taUnstore=function(){w(o.__taSmartClicks,n)}}function i(s,a){return function(j,_,n,e){var r,d,$;"contextmenu"==_&&y?f(j,_,n,e):(null==j.__taTapHandler&&(r=j.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},d=function(){r.down=!1},$=function(){r.taps=0},f(j,"mousedown",function(_){for(var n=h(_),o=p(_,n,j,null!=e),i=!1,w=0;w<o.end;w++){if(i)return;n=o.path[w];for(var t=0;t<r.downSelectors.length;t++)if(null==r.downSelectors[t]||l(n,r.downSelectors[t],j)){r.down=!0,setTimeout(d,s),setTimeout($,a),i=!0;break}}}),f(j,"mouseup",function(_){if(r.down){var n,o,i=h(_);r.taps++;var w,t=C(_);for(w in m)if(m.hasOwnProperty(w)){var e=m[w];if(e.touches===t&&(1===e.taps||e.taps===r.taps))for(var d=0;d<r[w].length;d++){o=p(_,i,j,null!=r[w][d][1]);for(var $=0;$<o.end;$++)if(n=o.path[$],null==r[w][d][1]||l(n,r[w][d][1],j)){r[w][d][0].apply(n,[_]);break}}}}})),j.__taTapHandler.downSelectors.push(e),j.__taTapHandler[_].push([n,e]),n.__taUnstore=function(){w(j.__taTapHandler[_],n)})}}function j(_,n,o,i){for(var w in o.__tamee[_])o.__tamee[_].hasOwnProperty(w)&&o.__tamee[_][w].apply(i,[n])}function t(){var e=[];return function(i,_,n,o){var w,t;i.__tamee||(i.__tamee={over:!1,mouseenter:[],mouseexit:[]},t=function(_){for(var n=h(_),o=0;o<e.length;o++)n!=e[o]||l(_.relatedTarget||_.toElement,"*",n)||(n.__tamee.over=!1,e.splice(o,1),j("mouseexit",_,i,n))},S(i,"mouseover",$(o,i,w=function(_){var n=h(_);(null!=o||n!=i||i.__tamee.over)&&(!l(n,o,i)||null!=n.__tamee&&n.__tamee.over)||(j("mouseenter",_,i,n),n.__tamee=n.__tamee||{},n.__tamee.over=!0,e.push(n))},"mouseover"),w),S(i,"mouseout",$(o,i,t,"mouseout"),t)),n.__taUnstore=function(){delete i.__tamee[_][n.__tauid]},d(i,_,n),i.__tamee[_][n.__tauid]=n}}function g(_,n){return null==_?[0,0]:(_=x(_),[(_=E(_,0))[n+"X"],_[n+"Y"]])}var _,n,o=this,e=1,s=function(_,n,o){_.__taExtra=_.__taExtra||[],_.__taExtra.push([n,o])},m={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},v="ontouchstart"in document.documentElement||navigator.maxTouchPoints,y="onmousedown"in document.documentElement,b={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},n=(n=-1,"Microsoft Internet Explorer"==navigator.appName&&(_=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(_)&&(n=parseFloat(RegExp.$1))),n),a=-1<n&&n<9,P=function(_){return null==_?[0,0]:a?[_.clientX+document.documentElement.scrollLeft,_.clientY+document.documentElement.scrollTop]:g(_,"page")},E=function(_,n){return _.item?_.item(n):_[n]},x=function(_){return _.touches&&0<_.touches.length?_.touches:_.changedTouches&&0<_.changedTouches.length?_.changedTouches:_.targetTouches&&0<_.targetTouches.length?_.targetTouches:[_]},C=function(_){return x(_).length},S=function(_,n,o,i){var w;d(_,n,o),i.__tauid=o.__tauid,_.addEventListener?_.addEventListener(n,o,!1):_.attachEvent&&(w=n+o.__tauid,_["e"+w]=o,_[w]=function(){_["e"+w]&&_["e"+w](window.event)},_.attachEvent("on"+n,_[w]))},I=function(o,i,w){null!=w&&k(o,function(){var _,n=c(this);!function(_,n,o){if(_.__ta&&_.__ta[n]&&delete _.__ta[n][o.__tauid],o.__taExtra){for(var i=0;i<o.__taExtra.length;i++)I(_,o.__taExtra[i][0],o.__taExtra[i][1]);o.__taExtra.length=0}o.__taUnstore&&o.__taUnstore()}(n,i,w),null!=w.__tauid&&(n.removeEventListener?(n.removeEventListener(i,w,!1),v&&b[i]&&n.removeEventListener(b[i],w,!1)):this.detachEvent&&(n[_=i+w.__tauid]&&n.detachEvent("on"+i,n[_]),n[_]=null,n["e"+_]=null)),w.__taTouchProxy&&I(o,w.__taTouchProxy[1],w.__taTouchProxy[0])})},k=function(_,n){if(null!=_){_="undefined"!=typeof Window&&"unknown"!=typeof _.top&&_==_.top?[_]:"string"!=typeof _&&null==_.tagName&&null!=_.length?_:"string"==typeof _?document.querySelectorAll(_):[_];for(var o=0;o<_.length;o++)n.apply(_[o])}},A=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_){var n=16*Math.random()|0;return("x"==_?n:3&n|8).toString(16)})};o.Mottle=function(_){var n=(_=_||{}).clickThreshold||250,o=_.dblClickThreshold||450,d=new t,$=new i(n,o),j=_.smartClicks;this.remove=function(_){return k(_,function(){var _=c(this);if(_.__ta)for(var n in _.__ta)if(_.__ta.hasOwnProperty(n))for(var o in _.__ta[n])_.__ta[n].hasOwnProperty(o)&&I(_,n,_.__ta[n][o]);_.parentNode&&_.parentNode.removeChild(_)}),this},this.on=function(_,n,o,i){var w,t,e;return _=_,w=n,e=4==arguments.length?o:null,null!=(t=arguments[arguments.length-1])&&k(_,function(){var _=c(this);j&&"click"===w?r(_,0,t,e):("tap"===w||"dbltap"===w||"contextmenu"===w?$:"mouseenter"===w||"mouseexit"==w?d:f)(_,w,t,e)}),this},this.off=function(_,n,o){return I(_,n,o),this},this.trigger=function(_,t,e,d){var $=y&&("undefined"==typeof MouseEvent||null==e||e.constructor===MouseEvent),j=v&&!y&&b[t]?b[t]:t,r=!(v&&!y&&b[t]),s=P(e),a=g(e,"screen"),l=g(e,"client");return k(_,function(){var o=c(this);e=e||{screenX:a[0],screenY:a[1],clientX:l[0],clientY:l[1]};function _(_){d&&(_.payload=d)}var n,i,w={TouchEvent:function(_){var n=u(window,o,0,s[0],s[1],a[0],a[1],l[0],l[1]);(_.initTouchEvent||_.initEvent)(j,!0,!0,window,null,a[0],a[1],l[0],l[1],!1,!1,!1,!1,n,n,n,1,0)},MouseEvents:function(_){_.initMouseEvent(j,!0,!0,window,0,a[0],a[1],l[0],l[1],!1,!1,!1,!1,1,o)}};document.createEvent?(n=!r&&!$&&v&&b[t]?"TouchEvent":"MouseEvents",i=document.createEvent(n),w[n](i),_(i),o.dispatchEvent(i)):document.createEventObject&&((i=document.createEventObject()).eventType=i.eventName=j,i.screenX=a[0],i.screenY=a[1],i.clientX=l[0],i.clientY=l[1],_(i),o.fireEvent("on"+j,i))}),this}},o.Mottle.consume=function(_,n){_.stopPropagation?_.stopPropagation():_.returnValue=!1,!n&&_.preventDefault&&_.preventDefault()},o.Mottle.pageLocation=P,o.Mottle.setForceTouchEvents=function(_){v=_},o.Mottle.setForceMouseEvents=function(_){y=_},o.Mottle.version="0.8.0","undefined"!=typeof exports&&(exports.Mottle=o.Mottle)}.call("undefined"==typeof window?this:window),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var _=this.Biltong={version:"0.4.0"};"undefined"!=typeof exports&&(exports.Biltong=_);function i(_){return"[object Array]"===Object.prototype.toString.call(_)}function o(_,n,o){return o(_=i(_)?_:[_.x,_.y],n=i(n)?n:[n.x,n.y])}var t=_.gradient=function(_,n){return o(_,n,function(_,n){return n[0]==_[0]?n[1]>_[1]?1/0:-1/0:n[1]==_[1]?n[0]>_[0]?0:-0:(n[1]-_[1])/(n[0]-_[0])})},e=(_.normal=function(_,n){return-1/t(_,n)},_.lineLength=function(_,n){return o(_,n,function(_,n){return Math.sqrt(Math.pow(n[1]-_[1],2)+Math.pow(n[0]-_[0],2))})},_.quadrant=function(_,n){return o(_,n,function(_,n){return n[0]>_[0]||n[0]==_[0]?n[1]>_[1]?2:1:n[1]>_[1]?3:4})}),d=(_.theta=function(_,n){return o(_,n,function(_,n){var o=t(_,n),o=Math.atan(o),n=e(_,n);return 4!=n&&3!=n||(o+=Math.PI),o<0&&(o+=2*Math.PI),o})},_.intersects=function(_,n){var o=_.x,i=_.x+_.w,w=_.y,t=_.y+_.h,e=n.x,d=n.x+n.w,_=n.y,n=n.y+n.h;return o<=e&&e<=i&&w<=_&&_<=t||o<=d&&d<=i&&w<=_&&_<=t||o<=e&&e<=i&&w<=n&&n<=t||o<=d&&e<=i&&w<=n&&n<=t||e<=o&&o<=d&&_<=w&&w<=n||e<=i&&i<=d&&_<=w&&w<=n||e<=o&&o<=d&&_<=t&&t<=n||e<=i&&o<=d&&_<=t&&t<=n},_.encloses=function(_,n,w){var o=_.x,i=_.x+_.w,t=_.y,e=_.y+_.h,d=n.x,$=n.x+n.w,j=n.y,_=n.y+n.h,n=function(_,n,o,i){return w?_<=n&&i<=o:_<n&&i<o};return n(o,d,i,$)&&n(t,j,e,_)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),$=[null,[-1,-1],[-1,1],[1,1],[1,-1]];_.pointOnLine=function(_,n,o){var i=t(_,n),w=e(_,n),n=(0<o?d:$)[w],w=Math.atan(i),i=Math.abs(o*Math.sin(w))*n[1],n=Math.abs(o*Math.cos(w))*n[0];return{x:_.x+n,y:_.y+i}},_.perpendicularLineTo=function(_,n,o){var i=t(_,n),_=Math.atan(-1/i),i=o/2*Math.sin(_),_=o/2*Math.cos(_);return[{x:n.x+_,y:n.y+i},{x:n.x-_,y:n.y-i}]}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function g(_,n,o){return-1===_.indexOf(n)&&(o?_.unshift(n):_.push(n),!0)}function m(_,n){-1!==(n=_.indexOf(n))&&_.splice(n,1)}function G(_){return null!=_&&("string"==typeof _||_.constructor===String)}function z(_,n,o){for(var i=(o=o||_.parentNode).querySelectorAll(n),w=0;w<i.length;w++)if(i[w]===_)return!0;return!1}function U(_,n,o){for(var i,w=n.getAttribute("katavorio-draggable"),t=null!=w?"[katavorio-draggable='"+w+"'] ":"",e=0;e<_.length;e++)if(null!=(i=function(_,n,o){if(z(n,o,_))return n;for(var i=n.parentNode;null!=i&&i!==_;){if(z(i,o,_))return i;i=i.parentNode}}(n,o,t+_[e].selector))){if(_[e].filter){var d=z(o,_[e].filter,i);if(!0===_[e].filterExclude&&!d||d)return null}return[_[e],i]}return null}function B(_){return o?[_.clientX+document.documentElement.scrollLeft,_.clientY+document.documentElement.scrollTop]:(_=t(_),_=w(_,0),i?[_.pageX||_.clientX,_.pageY||_.clientY]:[_.pageX,_.pageY])}function v(){}function V(){return!0}function y(_,n,o){for(var i=0;i<_.length;i++)_[i]!=o&&n(_[i])}function H(_,n,o,i){y(_,function(_){_.setActive(n),n&&_.updatePosition(),o&&_.setHover(i,n)})}function b(_,n){if(null!=_){_=G(_)||null!=_.tagName||null==_.length?[_]:_;for(var o=0;o<_.length;o++)n.apply(_[o],[_[o]])}}function W(_){_.stopPropagation?(_.stopPropagation(),_.preventDefault()):_.returnValue=!1}function X(_,n,o,i){this.params=n||{},this.el=_,this.params.addClass(this.el,this._class),this.uuid=J();var w=!0;return this.setEnabled=function(_){w=_},this.isEnabled=function(){return w},this.toggleEnabled=function(){w=!w},this.setScope=function(_){this.scopes=_?_.split(/\s+/):[i]},this.addScope=function(_){var n,o={};for(n in b(this.scopes,function(_){o[_]=!0}),b(_?_.split(/\s+/):[],function(_){o[_]=!0}),this.scopes=[],o)this.scopes.push(n)},this.removeScope=function(_){var n,o={};for(n in b(this.scopes,function(_){o[_]=!0}),b(_?_.split(/\s+/):[],function(_){delete o[_]}),this.scopes=[],o)this.scopes.push(n)},this.toggleScope=function(_){var n,o={};for(n in b(this.scopes,function(_){o[_]=!0}),b(_?_.split(/\s+/):[],function(_){o[_]?delete o[_]:o[_]=!0}),this.scopes=[],o)this.scopes.push(n)},this.setScope(n.scope),this.k=n.katavorio,n.katavorio}function Y(){return!0}function Z(){return!1}function P(w,r,d,_){this._class=d.draggable;var $=X.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var o,s,a,l,u,j=[0,0],c=null,h=[0,0],e=!1,p=[0,0],f=!1!==this.params.consumeStartEvent,g=this.el,m=this.params.clone,v=(this.params.scroll,!1!==r.multipleDrop),y=!1,b=null,P=[],E=null,x=r.ghostProxyParent,C=!0===r.ghostProxy?Y:r.ghostProxy&&"function"==typeof r.ghostProxy?r.ghostProxy:function(_,n){return!(!E||!E.useGhostProxy)&&E.useGhostProxy(_,n)},S=r.makeGhostProxy||function(_){return E&&E.makeGhostProxy?E.makeGhostProxy(_):_.cloneNode(!0)};function t(_,n,o,i,w){var t=n*Math.floor(_[0]/n),n=t+n,i=Math.abs(_[0]-t)<=i?t:Math.abs(n-_[0])<=i?n:_[0],o=(n=o*Math.floor(_[1]/o))+o;return[i,Math.abs(_[1]-n)<=w?n:Math.abs(o-_[1])<=w?o:_[1]]}r.selector&&(null==(D=w.getAttribute("katavorio-draggable"))&&(D=""+(new Date).getTime(),w.setAttribute("katavorio-draggable",D)),P.push(r));var I,k=r.snapThreshold;function A(_){return!1===r.allowNegative?[Math.max(0,_[0]),Math.max(0,_[1])]:_}this.posses=[],this.posseRoles={},this.toGrid=function(_){if(null==this.params.grid)return _;var n=this.params.grid?this.params.grid[0]/2:k||5,o=this.params.grid?this.params.grid[1]/2:k||5;return t(_,this.params.grid[0],this.params.grid[1],n,o)},this.snap=function(_,n){if(null!=g){_=_||(this.params.grid?this.params.grid[0]:10),n=n||(this.params.grid?this.params.grid[1]:10);var o=this.params.getPosition(g),i=this.params.grid?this.params.grid[0]/2:k,w=this.params.grid?this.params.grid[1]/2:k,w=t(o,_,n,i,w);return this.params.setPosition(g,w),w}},this.setUseGhostProxy=function(_){C=_?Y:Z};var n,i=function(_){I="function"==typeof _?_:_?function(_,n,o,i){return A([Math.max(0,Math.min(o.w-i[0],_[0])),Math.max(0,Math.min(o.h-i[1],_[1]))])}.bind(this):A}.bind(this);i("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(_){i(_)},this.setRevert=function(_){n=_},this.params.revert&&(n=this.params.revert);var T={},D=this.setFilter=function(i,_){var n;i&&(n="function"==typeof(n=i)?(n._katavorioId=J(),n._katavorioId):n,T[n]=[function(_){var n,o=_.srcElement||_.target;return G(i)?n=z(o,i,w):"function"==typeof i&&(n=i(_,w)),n},!1!==_])};this.addFilter=D,this.removeFilter=function(_){_="function"==typeof _?_._katavorioId:_;delete T[_]},this.clearAllFilters=function(){T={}},this.canDrag=this.params.canDrag||V;var M,N=[],O=[];this.addSelector=function(_){_.selector&&P.push(_)},this.downListener=function(_){if(!_.defaultPrevented){var n,o,i,w,t=this.rightButtonCanDrag||3!==_.which&&2!==_.button;if(t&&this.isEnabled()&&this.canDrag())if(function(_){for(var n in T){var o=T[n],i=o[0](_);if(!(i=o[1]?!i:i))return!1}return!0}(_)&&function(_,n,o){_=_.srcElement||_.target;return!z(_,o.getInputFilterSelector(),n)}(_,this.el,this.k)){if(b=E=null,0<P.length){var e=U(P,this.el,_.target||_.srcElement);if(null!=e&&(E=e[0],b=e[1]),null==b)return}else b=this.el;m?(g=b.cloneNode(!0),this.params.addClass(g,q.clonedDrag),g.setAttribute("id",null),g.style.position="absolute",null!=this.params.parent?(w=this.params.getPosition(this.el),g.style.left=w[0]+"px",g.style.top=w[1]+"px",this.params.parent.appendChild(g)):(o=(n=b).getBoundingClientRect(),i=document.body,t=document.documentElement,e=window.pageYOffset||t.scrollTop||i.scrollTop,w=window.pageXOffset||t.scrollLeft||i.scrollLeft,n=t.clientTop||i.clientTop||0,i=t.clientLeft||i.clientLeft||0,n=o.top+e-n,i=o.left+w-i,i={top:Math.round(n),left:Math.round(i)},g.style.left=i.left+"px",g.style.top=i.top+"px",document.body.appendChild(g))):g=b,f&&W(_),j=B(_),g&&g.parentNode&&(p=[g.parentNode.scrollLeft,g.parentNode.scrollTop]),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),$.markSelection(this),$.markPosses(this),this.params.addClass(document.body,d.noSelect),R("beforeStart",{el:this.el,pos:c,e:_,drag:this})}else this.params.consumeFilteredEvents&&W(_)}}.bind(this),this.moveListener=function(_){if(j){var n,o,i;if(!e)if(!1!==R("start",{el:this.el,pos:c,e:_,drag:this})){if(!j)return;this.mark(!0),e=!0}else this.abort();j&&(O.length=0,n=(i=B(_))[0]-j[0],o=i[1]-j[1],i=this.params.ignoreZoom?1:$.getZoom(),g&&g.parentNode&&(n+=g.parentNode.scrollLeft-p[0],o+=g.parentNode.scrollTop-p[1]),n/=i,o/=i,this.moveBy(n,o,_),$.updateSelection(n,o,this),$.updatePosses(n,o,this))}}.bind(this),this.upListener=function(_){j&&(j=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,d.noSelect),this.unmark(_),$.unmarkSelection(this,_),$.unmarkPosses(this,_),this.stop(_),$.notifyPosseDragStop(this,_),e=!1,O.length=0,m?(g&&g.parentNode&&g.parentNode.removeChild(g),g=null):n&&!0===n(g,this.params.getPosition(g))&&(this.params.setPosition(g,c),R("revert",g)))}.bind(this),this.getFilters=function(){return T},this.abort=function(){null!=j&&this.upListener()},this.getDragElement=function(_){return _?b||this.el:g||this.el};var F={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};r.events.start&&F.start.push(r.events.start),r.events.beforeStart&&F.beforeStart.push(r.events.beforeStart),r.events.stop&&F.stop.push(r.events.stop),r.events.drag&&F.drag.push(r.events.drag),r.events.revert&&F.revert.push(r.events.revert),this.on=function(_,n){F[_]&&F[_].push(n)},this.off=function(_,n){if(F[_]){for(var o=[],i=0;i<F[_].length;i++)F[_][i]!==n&&o.push(F[_][i]);F[_]=o}};var L,R=function(_,n){var o=null;if(E&&E[_])o=E[_](n);else if(F[_])for(var i=0;i<F[_].length;i++)try{var w=F[_][i](n);null!=w&&(o=w)}catch(_){}return o};this.notifyStart=function(_){R("start",{el:this.el,pos:this.params.getPosition(g),e:_,drag:this})},this.stop=function(_,n){if(n||e){var o=[],i=$.getSelection(),n=this.params.getPosition(g);if(0<i.length)for(var w=0;w<i.length;w++){var t=this.params.getPosition(i[w].el);o.push([i[w].el,{left:t[0],top:t[1]},i[w]])}else o.push([g,{left:n[0],top:n[1]},this]);R("stop",{el:g,pos:L||n,finalPos:n,e:_,drag:this,selection:o})}},this.mark=function(_){var n;c=this.params.getPosition(g),o=this.params.getPosition(g,!0),h=[o[0]-c[0],o[1]-c[1]],this.size=this.params.getSize(g),N=$.getMatchingDroppables(this),H(N,!0,!1,this),this.params.addClass(g,this.params.dragClass||d.drag),n=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(g):this.params.getSize(g.parentNode),M={w:n[0],h:n[1]},u=l=0,_&&$.notifySelectionDragStart(this)},this.unmark=function(_,n){if(H(N,!1,!0,this),y&&C(b,g)?(L=[g.offsetLeft-l,g.offsetTop-u],g.parentNode.removeChild(g),g=b):L=null,this.params.removeClass(g,this.params.dragClass||d.drag),N.length=0,y=!1,!n){0<O.length&&L&&r.setPosition(b,L),O.sort(K);for(var o=0;o<O.length;o++)if(!0===O[o].drop(this,_))break}},this.moveBy=function(_,n,o){O.length=0;var i,w,t=this.toGrid([c[0]+_,c[1]+n]),_=(i=t,w=g,_=M,n=this.size,null!=E&&E.constrain&&"function"==typeof E.constrain?E.constrain(i,w,_,n):I(i,w,_,n));C(this.el,g)&&(t[0]!==_[0]||t[1]!==_[1]?(y||(n=S(b),r.addClass(n,q.ghostProxy),x?(x.appendChild(n),s=r.getPosition(b.parentNode,!0),a=r.getPosition(r.ghostProxyParent,!0),l=s[0]-a[0],u=s[1]-a[1]):b.parentNode.appendChild(n),g=n,y=!0),_=t):y&&(g.parentNode.removeChild(g),g=b,y=!1,a=s=null,u=l=0));var t={x:_[0],y:_[1],w:this.size[0],h:this.size[1]},e={x:t.x+h[0],y:t.y+h[1],w:t.w,h:t.h},d=null;this.params.setPosition(g,[_[0]+l,_[1]+u]);for(var $=0;$<N.length;$++){var j={x:N[$].pagePosition[0],y:N[$].pagePosition[1],w:N[$].size[0],h:N[$].size[1]};this.params.intersects(e,j)&&(v||null==d||d===N[$].el)&&N[$].canDrop(this)?(d=d||N[$].el,O.push(N[$]),N[$].setHover(this,!0,o)):N[$].isHover()&&N[$].setHover(this,!1,o)}R("drag",{el:this.el,pos:_,e:o,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?D(this.params.handle,!1):D(this.params.filter,this.params.filterExclude)}function E(_,n,o,i){this._class=o.droppable,this.params=n||{},this.rank=n.rank||0,this._activeClass=this.params.activeClass||o.active,this._hoverClass=this.params.hoverClass||o.hover,X.apply(this,arguments);var w=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(_){this.params[_?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(_){return!0},this.isHover=function(){return w},this.setHover=function(_,n,o){!n&&null!=this.el._katavorioDragHover&&this.el._katavorioDragHover!==_.el._katavorio||(this.params[n?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=n?_.el._katavorio:null,w!==n&&this.params.events[n?"over":"out"]({el:this.el,e:o,drag:_,drop:this}),w=n)},this.drop=function(_,n){return this.params.events.drop({drag:_,e:n,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,w=null}}function x(_){return null==_||null==(_="string"==typeof _||_.constructor===String?document.getElementById(_):_)?null:(_._katavorio=_._katavorio||J(),_)}var _,n,n=(n=-1,"Microsoft Internet Explorer"===navigator.appName&&(_=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(_)&&(n=parseFloat(RegExp.$1))),n),o=-1<n&&n<9,i=9===n,w=function(_,n){return _.item?_.item(n):_[n]},t=function(_){return _.touches&&0<_.touches.length?_.touches:_.changedTouches&&0<_.changedTouches.length?_.changedTouches:_.targetTouches&&0<_.targetTouches.length?_.targetTouches:[_]},q={delegatedDraggable:"katavorio-delegated-draggable",draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},C=["stop","start","drag","drop","over","out","beforeStart"],J=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_){var n=16*Math.random()|0;return("x"===_?n:3&n|8).toString(16)})},K=function(_,n){return _.rank<n.rank?1:_.rank>n.rank?-1:0};this.Katavorio=function(t){var w=[],i={};this._dragsByScope={},this._dropsByScope={};function e(_,o){b(_,function(_){for(var n=0;n<_.scopes.length;n++)o[_.scopes[n]]=o[_.scopes[n]]||[],o[_.scopes[n]].push(_)})}function d(_,i){var w=0;return b(_,function(_){for(var n,o=0;o<_.scopes.length;o++)!i[_.scopes[o]]||-1!==(n=t.indexOf(i[_.scopes[o]],_))&&(i[_.scopes[o]].splice(n,1),w++)}),0<w}var _,n=1,$=(this.getMatchingDroppables=function(_){for(var n=[],o={},i=0;i<_.scopes.length;i++){var w=this._dropsByScope[_.scopes[i]];if(w)for(var t=0;t<w.length;t++)!w[t].canDrop(_)||o[w[t].uuid]||!w[t].allowLoopback&&w[t].el===_.el||(o[w[t].uuid]=!0,n.push(w[t]))}return n.sort(K),n},function(_){_=_||{};var n,o={events:{}};for(n in t)o[n]=t[n];for(n in _)o[n]=_[n];for(n=0;n<C.length;n++)o.events[C[n]]=_[C[n]]||v;return o.katavorio=this,o}.bind(this)),j=function(_,n){for(var o=0;o<C.length;o++)n[C[o]]&&_.on(C[o],n[C[o]])}.bind(this),r={},o=t.css||{},s=t.scope||"katavorio-drag-scope";for(_ in q)r[_]=q[_];for(_ in o)r[_]=o[_];var a=t.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return a},this.setInputFilterSelector=function(_){return a=_,this},this.draggable=function(_,o){var i=[];return b(_,function(_){var n;null!=(_=x(_))&&(null==_._katavorioDrag?(n=$(o),_._katavorioDrag=new P(_,n,r,s),e(_._katavorioDrag,this._dragsByScope),i.push(_._katavorioDrag),t.addClass(_,n.selector?r.delegatedDraggable:r.draggable)):j(_._katavorioDrag,o))}.bind(this)),i},this.droppable=function(_,o){var i=[];return b(_,function(_){var n;null!=(_=x(_))&&(n=new E(_,$(o),r,s),_._katavorioDrop=_._katavorioDrop||[],_._katavorioDrop.push(n),e(n,this._dropsByScope),i.push(n),t.addClass(_,r.droppable))}.bind(this)),i},this.select=function(_){return b(_,function(){var _=x(this);_&&_._katavorioDrag&&(i[_._katavorio]||(w.push(_._katavorioDrag),i[_._katavorio]=[_,w.length-1],t.addClass(_,r.selected)))}),this},this.deselect=function(_){return b(_,function(){var _=x(this);if(_&&_._katavorio&&i[_._katavorio]){for(var n=[],o=0;o<w.length;o++)w[o].el!==_&&n.push(w[o]);w=n,delete i[_._katavorio],t.removeClass(_,r.selected)}}),this},this.deselectAll=function(){for(var _ in i){var n=i[_];t.removeClass(n[0],r.selected)}w.length=0,i={}},this.markSelection=function(_){y(w,function(_){_.mark()},_)},this.markPosses=function(n){n.posses&&b(n.posses,function(_){n.posseRoles[_]&&f[_]&&y(f[_].members,function(_){_.mark()},n)})},this.unmarkSelection=function(_,n){y(w,function(_){_.unmark(n)},_)},this.unmarkPosses=function(n,o){n.posses&&b(n.posses,function(_){n.posseRoles[_]&&f[_]&&y(f[_].members,function(_){_.unmark(o,!0)},n)})},this.getSelection=function(){return w.slice(0)},this.updateSelection=function(n,o,_){y(w,function(_){_.moveBy(n,o)},_)};function l(n,o){o.posses&&b(o.posses,function(_){o.posseRoles[_]&&f[_]&&y(f[_].members,function(_){n(_)},o)})}this.updatePosses=function(n,o,_){l(function(_){_.moveBy(n,o)},_)},this.notifyPosseDragStop=function(_,n){l(function(_){_.stop(n,!0)},_)},this.notifySelectionDragStop=function(_,n){y(w,function(_){_.stop(n,!0)},_)},this.notifySelectionDragStart=function(_,n){y(w,function(_){_.notifyStart(n)},_)},this.setZoom=function(_){n=_},this.getZoom=function(){return n};function u(_,n,o,i){b(_,function(_){d(_,o),_[i](n),e(_,o)})}b(["set","add","remove","toggle"],function(o){this[o+"Scope"]=function(_,n){u(_._katavorioDrag,n,this._dragsByScope,o+"Scope"),u(_._katavorioDrop,n,this._dropsByScope,o+"Scope")}.bind(this),this[o+"DragScope"]=function(_,n){u(_.constructor===P?_:_._katavorioDrag,n,this._dragsByScope,o+"Scope")}.bind(this),this[o+"DropScope"]=function(_,n){u(_.constructor===E?_:_._katavorioDrop,n,this._dropsByScope,o+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(n,o){for(var _ in this._dragsByScope)y(this._dragsByScope[_],function(_){_.snap(n,o)})},this.getDragsForScope=function(_){return this._dragsByScope[_]},this.getDropsForScope=function(_){return this._dropsByScope[_]};function c(_,n,o){var i;(_=x(_))[n]&&(0<=(i=w.indexOf(_[n]))&&w.splice(i,1),d(_[n],o)&&b(_[n],function(_){_.destroy()}),delete _[n])}function h(_,n,o,i){(_=x(_))[n]&&_[n].off(o,i)}this.elementRemoved=function(_){_._katavorioDrag&&this.destroyDraggable(_),_._katavorioDrop&&this.destroyDroppable(_)},this.destroyDraggable=function(_,n,o){1===arguments.length?c(_,"_katavorioDrag",this._dragsByScope):h(_,"_katavorioDrag",n,o)},this.destroyDroppable=function(_,n,o){1===arguments.length?c(_,"_katavorioDrop",this._dropsByScope):h(_,"_katavorioDrop",n,o)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},w=[],i={},f={}};function p(_,n,o){var i=G(n)?n:n.id,w=!!G(n)||!1!==n.active,t=f[i]||(n={name:i,members:[]},f[i]=n);return b(_,function(_){_._katavorioDrag&&(o&&null!=_._katavorioDrag.posseRoles[t.name]||(g(t.members,_._katavorioDrag),g(_._katavorioDrag.posses,t.name),_._katavorioDrag.posseRoles[t.name]=w))}),t}var f={};this.addToPosse=function(_,n){for(var o=[],i=1;i<arguments.length;i++)o.push(p(_,arguments[i]));return 1===o.length?o[0]:o},this.setPosse=function(_,n){for(var i=[],o=1;o<arguments.length;o++)i.push(p(_,arguments[o],!0).name);return b(_,function(_){if(_._katavorioDrag){var n=function(_,n){for(var o=[],i=0;i<_.length;i++)-1===n.indexOf(_[i])&&o.push(_[i]);return o}(_._katavorioDrag.posses,i);Array.prototype.push.apply([],_._katavorioDrag.posses);for(var o=0;o<n.length;o++)this.removeFromPosse(_,n[o])}}.bind(this)),1===i.length?i[0]:i},this.removeFromPosse=function(_,o){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var n=1;n<arguments.length;n++)o=arguments[n],b(_,function(_){var n;_._katavorioDrag&&_._katavorioDrag.posses&&(n=_._katavorioDrag,b(o,function(_){m(f[_].members,n),m(n.posses,_),delete n.posseRoles[_]}))})},this.removeFromAllPosses=function(_){b(_,function(_){var n;_._katavorioDrag&&_._katavorioDrag.posses&&(n=_._katavorioDrag,b(n.posses,function(_){m(f[_].members,n)}),n.posses.length=0,n.posseRoles={})})},this.setPosseState=function(_,n,o){var i=f[n];i&&b(_,function(_){_._katavorioDrag&&_._katavorioDrag.posses&&(_._katavorioDrag.posseRoles[i.name]=o)})}},this.Katavorio.version="1.0.0","undefined"!=typeof exports&&(exports.Katavorio=this.Katavorio)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var i=this.jsPlumbUtil;function r(_){return"[object Array]"===Object.prototype.toString.call(_)}function s(_){return"string"==typeof _}function a(_){return"boolean"==typeof _}function l(_){return null!=_&&"[object Object]"===Object.prototype.toString.call(_)}function t(_){return"[object Date]"===Object.prototype.toString.call(_)}function j(_){return"[object Function]"===Object.prototype.toString.call(_)}function u(_){if(s(_))return""+_;if(a(_))return!!_;if(t(_))return new Date(_.getTime());if(j(_))return _;if(r(_)){for(var n=[],o=0;o<_.length;o++)n.push(u(_[o]));return n}if(l(_)){var i,w={};for(i in _)w[i]=u(_[i]);return w}return _}function d(_,n,o,i){var w,t,e={},d={};for(o=o||[],i=i||[],t=0;t<o.length;t++)e[o[t]]=!0;for(t=0;t<i.length;t++)d[i[t]]=!0;var $=u(_);for(t in n)if(null==$[t]||d[t])$[t]=n[t];else if(s(n[t])||a(n[t]))e[t]?((w=[]).push.apply(w,r($[t])?$[t]:[$[t]]),w.push.apply(w,a(n[t])?n[t]:[n[t]]),$[t]=w):$[t]=n[t];else if(r(n[t]))w=[],r($[t])&&w.push.apply(w,$[t]),w.push.apply(w,n[t]),$[t]=w;else if(l(n[t]))for(var j in l($[t])||($[t]={}),n[t])$[t][j]=n[t][j];return $}function w(_,n){if(_)for(var o=0;o<_.length;o++)if(n(_[o]))return o;return-1}function e(_,n){n=_.indexOf(n);return-1<n&&_.splice(n,1),-1!==n}function $(_,n,o,i){var w=_[n];return null==w&&(w=[],_[n]=w),w[i?"unshift":"push"](o),w}"undefined"!=typeof exports&&(exports.jsPlumbUtil=i),i.isArray=r,i.isNumber=function(_){return"[object Number]"===Object.prototype.toString.call(_)},i.isString=s,i.isBoolean=a,i.isNull=function(_){return null==_},i.isObject=l,i.isDate=t,i.isFunction=j,i.isNamedFunction=function(_){return j(_)&&null!=_.name&&0<_.name.length},i.isEmpty=function(_){for(var n in _)if(_.hasOwnProperty(n))return!1;return!0},i.clone=u,i.merge=d,i.replace=function(_,n,e){if(null!=_){var d=_;return n.replace(/([^\.])+/g,function(_,n,o,i){var w=_.match(/([^\[0-9]+){1}(\[)([0-9+])/),t=function(){return d[w[1]]||(d[w[1]]=[],d[w[1]])};return o+_.length>=i.length?w?t()[w[3]]=e:d[_]=e:d=w?(t=t())[w[3]]||(t[w[3]]={},t[w[3]]):d[_]||(d[_]={},d[_]),""}),_}},i.functionChain=function(_,n,o){for(var i=0;i<o.length;i++){var w=o[i][0][o[i][1]].apply(o[i][0],o[i][2]);if(w===n)return w}return _},i.populate=function(_,t,e,d){var $=function(_){if(null!=_){if(s(_))return function(_){var n=_.match(/(\${.*?})/g);if(null!=n)for(var o=0;o<n.length;o++){var i=t[n[o].substring(2,n[o].length-1)]||"";null!=i&&(_=_.replace(n[o],i))}return _}(_);if(!j(_)||d||null!=e&&0!==(_.name||"").indexOf(e)){if(r(_)){for(var n=[],o=0;o<_.length;o++)n.push($(_[o]));return n}if(l(_)){var i,w={};for(i in _)w[i]=$(_[i]);return w}return _}return _(t)}};return $(_)},i.findWithFunction=w,i.removeWithFunction=function(_,n){return-1<(n=w(_,n))&&_.splice(n,1),-1!==n},i.remove=e,i.addWithFunction=function(_,n,o){-1===w(_,o)&&_.push(n)},i.addToList=$,i.suggest=function(_,n,o){return-1===_.indexOf(n)&&(o?_.unshift(n):_.push(n),!0)},i.extend=function(o,i,_){i=r(i)?i:[i];for(var w=0;w<i.length;w++){for(var n in i[w].prototype)i[w].prototype.hasOwnProperty(n)&&!o.prototype.hasOwnProperty(n)&&(o.prototype[n]=i[w].prototype[n]);!function(){for(var _=i[w].__proto__;null!=_;)if(null!=_.prototype){for(var n in _.prototype)_.prototype.hasOwnProperty(n)&&!o.prototype.hasOwnProperty(n)&&(o.prototype[n]=_.prototype[n]);_=_.prototype.__proto__}else _=null}()}function t(_){for(var n in _)o.prototype[n]=function(_,n){return function(){for(w=0;w<i.length;w++)i[w].prototype[_]&&i[w].prototype[_].apply(this,arguments);return n.apply(this,arguments)}}(n,_[n])}if(2<arguments.length)for(w=2;w<arguments.length;w++)t(arguments[w]);return o};for(var c=[],_=0;_<256;_++)c[_]=(_<16?"0":"")+_.toString(16);function h(){var _=4294967295*Math.random()|0,n=4294967295*Math.random()|0,o=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return c[255&_]+c[_>>8&255]+c[_>>16&255]+c[_>>24&255]+"-"+c[255&n]+c[n>>8&255]+"-"+c[n>>16&15|64]+c[n>>24&255]+"-"+c[63&o|128]+c[o>>8&255]+"-"+c[o>>16&255]+c[o>>24&255]+c[255&i]+c[i>>8&255]+c[i>>16&255]+c[i>>24&255]}function p(){for(var _=[],n=0;n<arguments.length;n++)_[n]=arguments[n];if(i.logEnabled&&"undefined"!=typeof console)try{var o=arguments[arguments.length-1];console.log(o)}catch(_){}}i.uuid=h,i.fastTrim=function(_){if(null==_)return null;for(var n=_.replace(/^\s\s*/,""),o=/\s/,i=n.length;o.test(n.charAt(--i)););return n.slice(0,i+1)},i.each=function(_,n){_=null==_.length||"string"==typeof _?[_]:_;for(var o=0;o<_.length;o++)n(_[o])},i.map=function(_,n){for(var o=[],i=0;i<_.length;i++)o.push(n(_[i]));return o},i.mergeWithParents=function(_,n,o){function w(_){return _?n[_]:null}function i(_){return _?w(_[o]):null}o=o||"parent";var t=function(_,n){if(null==_)return n;var o=["anchor","anchors","cssClass","connector","paintStyle","hoverPaintStyle","endpoint","endpoints"];"override"===n.mergeStrategy&&Array.prototype.push.apply(o,["events","overlays"]);o=d(_,n,[],o);return t(i(_),o)},e=function(_){if(null==_)return{};if("string"==typeof _)return w(_);if(_.length){for(var n=!1,o=0,i=void 0;!n&&o<_.length;)(i=e(_[o]))?n=!0:o++;return i}};return(_=e(_))?t(i(_),_):{}},i.logEnabled=!0,i.log=p,i.wrap=function(n,o,i){return function(){var _=null;try{null!=o&&(_=o.apply(this,arguments))}catch(_){p("jsPlumb function failed : "+_)}if(null!=n&&(null==i||_!==i))try{_=n.apply(this,arguments)}catch(_){p("wrapped function failed : "+_)}return _}};function n(){var t=this;this._listeners={},this.eventsSuspended=!1,this.tick=!1,this.eventsToDieOn={ready:!0},this.queue=[],this.bind=function(_,n,o){function i(_){$(t._listeners,_,n,o),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[h()]=_}if("string"==typeof _)i(_);else if(null!=_.length)for(var w=0;w<_.length;w++)i(_[w]);return t},this.fire=function(n,_,o){if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[n]){var i=this._listeners[n].length,w=0,t=!1,e=null;if(!this.shouldFireEvent||this.shouldFireEvent(n,_,o))for(;!t&&w<i&&!1!==e;){if(this.eventsToDieOn[n])this._listeners[n][w].apply(this,[_,o]);else try{e=this._listeners[n][w].apply(this,[_,o])}catch(_){p("jsPlumb: fire failed for event "+n+" : "+_)}w++,null!=this._listeners&&null!=this._listeners[n]||(t=!0)}}this.tick=!1,this._drain()}return this},this._drain=function(){var _=t.queue.pop();_&&t.fire.apply(t,_)},this.unbind=function(_,n){if(0===arguments.length)this._listeners={};else if(1===arguments.length){if("string"==typeof _)delete this._listeners[_];else if(_.__jsPlumb){var o,i;for(i in _.__jsPlumb)o=_.__jsPlumb[i],e(this._listeners[o]||[],_)}}else 2===arguments.length&&e(this._listeners[_]||[],n);return this},this.getListener=function(_){return t._listeners[_]},this.setSuspendEvents=function(_){t.eventsSuspended=_},this.isSuspendEvents=function(){return t.eventsSuspended},this.silently=function(_){t.setSuspendEvents(!0);try{_()}catch(_){p("Cannot execute silent function "+_)}t.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var _ in t._listeners)t._listeners[_]=null}}function o(_,n,o){var i=[_[0]-n[0],_[1]-n[1]],_=Math.cos(o/360*Math.PI*2),o=Math.sin(o/360*Math.PI*2);return[i[0]*_-i[1]*o+n[0],i[1]*_+i[0]*o+n[1],_,o]}i.EventGenerator=n,i.rotatePoint=o,i.rotateAnchorOrientation=function(_,n){return n=o(_,[0,0],n),[Math.round(n[0]),Math.round(n[1])]}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";this.jsPlumbUtil.matchesSelector=function(_,n,o){for(var i=(o=o||_.parentNode).querySelectorAll(n),w=0;w<i.length;w++)if(i[w]===_)return!0;return!1},this.jsPlumbUtil.consume=function(_,n){_.stopPropagation?_.stopPropagation():_.returnValue=!1,!n&&_.preventDefault&&_.preventDefault()},this.jsPlumbUtil.sizeElement=function(_,n,o,i,w){_&&(_.style.height=w+"px",_.height=w,_.style.width=i+"px",_.width=i,_.style.left=n+"px",_.style.top=o+"px")}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){function _(_,n){this.count=0,this.instance=_,this.lists={},this.options=n||{},this.instance.addList=function(_,n){return this.listManager.addList(_,n)},this.instance.removeList=function(_){this.listManager.removeList(_)},this.instance.bind("manageElement",function(_){for(var n=this.instance.getSelector(_.el,"[jtk-scrollable-list]"),o=0;o<n.length;o++)this.addList(n[o])}.bind(this)),this.instance.bind("unmanageElement",function(_){this.removeList(_.el)}),this.instance.bind("connection",function(_,n){null==n&&(this._maybeUpdateParentList(_.source),this._maybeUpdateParentList(_.target))}.bind(this))}var i={deriveAnchor:function(_,n,o,i){return{top:["TopRight","TopLeft"],bottom:["BottomRight","BottomLeft"]}[_][n]}};(this.jsPlumbListManager=_).prototype={addList:function(_,n){var o=this.instance.extend({},i);this.instance.extend(o,this.options),n=this.instance.extend(o,n||{});o=[this.instance.getInstanceIndex(),this.count++].join("_");this.lists[o]=new w(this.instance,_,n,o)},removeList:function(_){var n=this.lists[_._jsPlumbList];n&&(n.destroy(),delete this.lists[_._jsPlumbList])},_maybeUpdateParentList:function(_){for(var n=_.parentNode,o=this.instance.getContainer();null!=n&&n!==o;){if(null!=n._jsPlumbList&&null!=this.lists[n._jsPlumbList])return void n._jsPlumbScrollHandler();n=n.parentNode}}};var w=function(t,e,w,_){function d(_,n,o,i){return w.anchor||w.deriveAnchor(_,n,o,i)}function $(_,n,o,i){return w.deriveEndpoint?w.deriveEndpoint(_,n,o,i):w.endpoint||o.type}e._jsPlumbList=_;function j(_){for(var n=t.getSelector(e,".jtk-managed"),o=t.getId(e),i=0;i<n.length;i++){if(n[i].offsetTop<e.scrollTop)n[i]._jsPlumbProxies||(n[i]._jsPlumbProxies=n[i]._jsPlumbProxies||[],t.select({source:n[i]}).each(function(_){t.proxyConnection(_,0,e,o,function(){return $("top",0,_.endpoints[0],_)},function(){return d("top",0,_.endpoints[0],_)}),n[i]._jsPlumbProxies.push([_,0])}),t.select({target:n[i]}).each(function(_){t.proxyConnection(_,1,e,o,function(){return $("top",1,_.endpoints[1],_)},function(){return d("top",1,_.endpoints[1],_)}),n[i]._jsPlumbProxies.push([_,1])}));else if(n[i].offsetTop+n[i].offsetHeight>e.scrollTop+e.offsetHeight)n[i]._jsPlumbProxies||(n[i]._jsPlumbProxies=n[i]._jsPlumbProxies||[],t.select({source:n[i]}).each(function(_){t.proxyConnection(_,0,e,o,function(){return $("bottom",0,_.endpoints[0],_)},function(){return d("bottom",0,_.endpoints[0],_)}),n[i]._jsPlumbProxies.push([_,0])}),t.select({target:n[i]}).each(function(_){t.proxyConnection(_,1,e,o,function(){return $("bottom",1,_.endpoints[1],_)},function(){return d("bottom",1,_.endpoints[1],_)}),n[i]._jsPlumbProxies.push([_,1])}));else if(n[i]._jsPlumbProxies){for(var w=0;w<n[i]._jsPlumbProxies.length;w++)t.unproxyConnection(n[i]._jsPlumbProxies[w][0],n[i]._jsPlumbProxies[w][1],o);delete n[i]._jsPlumbProxies}t.revalidate(n[i])}!function(){for(var _=e.parentNode,n=t.getContainer();null!=_&&_!==n;){if(t.hasClass(_,"jtk-managed"))return t.recalculateOffsets(_);_=_.parentNode}}()}t.setAttribute(e,"jtk-scrollable-list","true"),e._jsPlumbScrollHandler=j,t.on(e,"scroll",j),j(),this.destroy=function(){t.off(e,"scroll",j),delete e._jsPlumbScrollHandler;for(var _=t.getSelector(e,".jtk-managed"),n=t.getId(e),o=0;o<_.length;o++)if(_[o]._jsPlumbProxies){for(var i=0;i<_[o]._jsPlumbProxies.length;i++)t.unproxyConnection(_[o]._jsPlumbProxies[i][0],_[o]._jsPlumbProxies[i][1],n);delete _[o]._jsPlumbProxies}}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function o(_){var n;_._jsPlumb.paintStyle&&_._jsPlumb.hoverPaintStyle&&(n={},$_.extend(n,_._jsPlumb.paintStyle),$_.extend(n,_._jsPlumb.hoverPaintStyle),delete _._jsPlumb.hoverPaintStyle,n.gradient&&_._jsPlumb.paintStyle.fill&&delete n.gradient,_._jsPlumb.hoverPaintStyle=n)}function $(_){return null==_?null:_.split(" ")}function l(_,n,o){for(var i in n)_[i]=o}function j(_,n,o){if(_.getDefaultType){var i=_.getTypeDescriptor(),w={},t=_.getDefaultType(),e=w_.merge({},t);l(w,t,"__default");for(var d=0,$=_._jsPlumb.types.length;d<$;d++){var j,r,s,a=_._jsPlumb.types[d];"__default"===a||null!=(j=_._jsPlumb.instance.getType(a,i))&&(r=["anchor","anchors","connector","paintStyle","hoverPaintStyle","endpoint","endpoints","connectorOverlays","connectorStyle","connectorHoverStyle","endpointStyle","endpointHoverStyle"],s=[],"override"===j.mergeStrategy?Array.prototype.push.apply(r,["events","overlays","cssClass"]):s.push("cssClass"),e=w_.merge(e,j,s,r),l(w,j,a))}n&&(e=w_.populate(e,n,"_")),_.applyType(e,o,w),o||_.repaint()}}function r(_,n){n=_._jsPlumb.types[n],null!=(n=_._jsPlumb.instance.getType(n,_.getTypeDescriptor()))&&n.cssClass&&_.canvas&&_._jsPlumb.instance.removeClass(_.canvas,n.cssClass)}var i_=this,w_=i_.jsPlumbUtil,t_=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],e_=i_.jsPlumbUIComponent=function(_){w_.EventGenerator.apply(this,arguments);var n=arguments,o=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:_._jsPlumb,parameters:_.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:_.beforeDetach,beforeDrop:_.beforeDrop,overlayPlacements:[],hoverClass:_.hoverClass||_._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(_,n,o){this._jsPlumb.typeCache[o]=this._jsPlumb.typeCache[o]||{},this._jsPlumb.typeCache[o][_]=n},this.getCachedTypeItem=function(_,n){return this._jsPlumb.typeCache[n]?this._jsPlumb.typeCache[n][_]:null},this.getId=function(){return o};var i=_.overlays||[],w={};if(this.defaultOverlayKeys){for(var t=0;t<this.defaultOverlayKeys.length;t++)Array.prototype.push.apply(i,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[t]]||[]);for(t=0;t<i.length;t++){var e=$_.convertToFullOverlaySpec(i[t]);w[e[1].id]=e}}var d={overlays:w,parameters:_.parameters||{},scope:_.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return d},this.appendToDefaultType=function(_){for(var n in _)d[n]=_[n]},_.events)for(var $ in _.events)this.bind($,_.events[$]);this.clone=function(){var _=Object.create(this.constructor.prototype);return this.constructor.apply(_,n),_}.bind(this),this.isDetachAllowed=function(_){var n=!0;if(this._jsPlumb.beforeDetach)try{n=this._jsPlumb.beforeDetach(_)}catch(_){w_.log("jsPlumb: beforeDetach callback failed",_)}return n},this.isDropAllowed=function(_,n,o,i,w,t,e){var d=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:_,targetId:n,scope:o,connection:i,dropEndpoint:w,source:t,target:e});if(this._jsPlumb.beforeDrop)try{d=this._jsPlumb.beforeDrop({sourceId:_,targetId:n,scope:o,connection:i,dropEndpoint:w,source:t,target:e})}catch(_){w_.log("jsPlumb: beforeDrop callback failed",_)}return d};var j=[];this.setListenerComponent=function(_){for(var n=0;n<j.length;n++)j[n][3]=_}};w_.extend(i_.jsPlumbUIComponent,w_.EventGenerator,{getParameter:function(_){return this._jsPlumb.parameters[_]},setParameter:function(_,n){this._jsPlumb.parameters[_]=n},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(_){this._jsPlumb.parameters=_},getClass:function(){return $_.getClass(this.canvas)},hasClass:function(_){return $_.hasClass(this.canvas,_)},addClass:function(_){$_.addClass(this.canvas,_)},removeClass:function(_){$_.removeClass(this.canvas,_)},updateClasses:function(_,n){$_.updateClasses(this.canvas,_,n)},setType:function(_,n,o){this.clearTypes(),this._jsPlumb.types=$(_)||[],j(this,n,o)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(_,n){j(this,_,n)},hasType:function(_){return-1!==this._jsPlumb.types.indexOf(_)},addType:function(_,n,o){var i=$(_),w=!1;if(null!=i){for(var t=0,e=i.length;t<e;t++)this.hasType(i[t])||(this._jsPlumb.types.push(i[t]),w=!0);w&&j(this,n,o)}},removeType:function(_,n,o){var i=$(_),w=!1,t=function(_){_=this._jsPlumb.types.indexOf(_);return-1!==_&&(r(this,_),this._jsPlumb.types.splice(_,1),!0)}.bind(this);if(null!=i){for(var e=0,d=i.length;e<d;e++)w=t(i[e])||w;w&&j(this,n,o)}},clearTypes:function(_,n){for(var o=this._jsPlumb.types.length,i=0;i<o;i++)r(this,0),this._jsPlumb.types.splice(0,1);j(this,_,n)},toggleType:function(_,n,o){var i=$(_);if(null!=i){for(var w=0,t=i.length;w<t;w++){var e=this._jsPlumb.types.indexOf(i[w]);-1!==e?(r(this,e),this._jsPlumb.types.splice(e,1)):this._jsPlumb.types.push(i[w])}j(this,n,o)}},applyType:function(_,n){if(this.setPaintStyle(_.paintStyle,n),this.setHoverPaintStyle(_.hoverPaintStyle,n),_.parameters)for(var o in _.parameters)this.setParameter(o,_.parameters[o]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(_,n){this._jsPlumb.paintStyle=_,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,o(this),n||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(_,n){this._jsPlumb.hoverPaintStyle=_,o(this),n||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(_){!_&&null!=this.typeId||(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(_,n,o){var i;!this._jsPlumb||this._jsPlumb.instance.currentlyDragging||this._jsPlumb.instance.isHoverSuspended()||(i=(this._jsPlumb.hover=_)?"addClass":"removeClass",null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=_?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(o=o||jsPlumbUtil.uuid(),this.repaint({timestamp:o,recalc:!1}))),this.getAttachedElements&&!n&&function(_,n,o,i){var w=_.getAttachedElements();if(w)for(var t=0,e=w.length;t<e;t++)i&&i===w[t]||w[t].setHover(n,!0,o)}(this,_,jsPlumbUtil.uuid(),this))}});var d_=0,w=i_.jsPlumbInstance=function(_){this.version="<% pkg.version %>",this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},ListStyle:{},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},_&&$_.extend(this.Defaults,_),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},w_.EventGenerator.apply(this);function a(_){if(null==_)return null;if(3===_.nodeType||8===_.nodeType)return{el:_,text:!0};var n=f.getElement(_);return{el:n,id:w_.isString(_)&&null==n?_:T(n)}}var n,f=this,w=(_=d_+1,d_++,_),o=f.bind,i={},g=1;for(n in this.getInstanceIndex=function(){return w},this.setZoom=function(_,n){return g=_,f.fire("zoom",g),n&&f.repaintEverything(),!0},this.getZoom=function(){return g},this.Defaults)i[n]=this.Defaults[n];var $,j=[];this.unbindContainer=function(){if(null!=$&&0<j.length)for(var _=0;_<j.length;_++)f.off($,j[_][0],j[_][1])},this.setContainer=function(n){this.unbindContainer(),n=this.getElement(n),this.select().each(function(_){_.moveParent(n)}),this.selectEndpoints().each(function(_){_.moveParent(n)});var _=$;$=n,j.length=0;for(var o,w={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},i=function(_,n,o){var i=n.srcElement||n.target,i=(i&&i.parentNode?i.parentNode._jsPlumb:null)||(i?i._jsPlumb:null)||(i&&i.parentNode&&i.parentNode.parentNode?i.parentNode.parentNode._jsPlumb:null);i&&(i.fire(_,i,n),_=o&&w[o+_]||_,f.fire(_,i.component||i,n))},t=function(_,n,o){j.push([_,o]),f.on($,_,n,o)},e=0;e<t_.length;e++)!function(n){t(n,".jtk-connector",function(_){i(n,_)}),t(n,".jtk-endpoint",function(_){i(n,_,"endpoint")}),t(n,".jtk-overlay",function(_){i(n,_)})}(t_[e]);for(o in h){var d=h[o].el;d.parentNode===_&&(_.removeChild(d),$.appendChild(d))}},this.getContainer=function(){return $},this.bind=function(_,n){"ready"===_&&l?n():o.apply(f,[_,n])},f.importDefaults=function(_){for(var n in _)f.Defaults[n]=_[n];return _.Container&&f.setContainer(_.Container),f},f.restoreDefaults=function(){return f.Defaults=$_.extend({},i),f};function e(){return""+C++}function t(_,n,o,i){var w={c:[],e:[]};if(!P&&null!=(_=f.getElement(_))){var t=T(_),e=_.querySelectorAll(".jtk-managed");null==o&&(o=jsPlumbUtil.uuid());Y({elId:t,offset:n,recalc:!1,timestamp:o});for(var d=0;d<e.length;d++)Y({elId:e[d].getAttribute("id"),recalc:!0,timestamp:o});var $=f.router.redraw(t,n,o,null,i);if(Array.prototype.push.apply(w.c,$.c),Array.prototype.push.apply(w.e,$.e),e)for(var j=0;j<e.length;j++)$=f.router.redraw(e[j].getAttribute("id"),null,o,null,i,!0),Array.prototype.push.apply(w.c,$.c),Array.prototype.push.apply(w.e,$.e)}return w}function d(_){return u[_]}function r(_,n,o){var i=m[_];if(i&&i.length)for(var w=0,t=i.length;w<t;w++){for(var e=0,d=i[w].connections.length;e<d;e++)if(n(i[w].connections[e]))return;o&&o(i[w])}}function s(_,o,i){o="block"===o;var n=null;i&&(n=function(_){_.setVisible(o,!0,!0)});var w=a(_);r(w.id,function(_){var n;o&&i?(n=_.sourceId===w.id?1:0,_.endpoints[n].isVisible()&&_.setVisible(!0)):_.setVisible(o)},n)}var l=!1,c=[],m={},u={},h={},p={},v={},y=!1,b=[],P=!1,E=null,x=this.Defaults.Scope,C=1,_=function(_,n){$?$.appendChild(_):n?this.getElement(n).appendChild(_):this.appendToRoot(_)}.bind(this),S=function(_,n){var t=$_.extend({},_);if(n&&$_.extend(t,n),t.source&&(t.source.endpoint?t.sourceEndpoint=t.source:t.source=f.getElement(t.source)),t.target&&(t.target.endpoint?t.targetEndpoint=t.target:t.target=f.getElement(t.target)),_.uuids&&(t.sourceEndpoint=d(_.uuids[0]),t.targetEndpoint=d(_.uuids[1])),t.sourceEndpoint&&t.sourceEndpoint.isFull())w_.log(f,"could not add connection; source endpoint is full");else if(t.targetEndpoint&&t.targetEndpoint.isFull())w_.log(f,"could not add connection; target endpoint is full");else{if(!t.type&&t.sourceEndpoint&&(t.type=t.sourceEndpoint.connectionType),t.sourceEndpoint&&t.sourceEndpoint.connectorOverlays){t.overlays=t.overlays||[];for(var o=0,i=t.sourceEndpoint.connectorOverlays.length;o<i;o++)t.overlays.push(t.sourceEndpoint.connectorOverlays[o])}t.sourceEndpoint&&t.sourceEndpoint.scope&&(t.scope=t.sourceEndpoint.scope),!t["pointer-events"]&&t.sourceEndpoint&&t.sourceEndpoint.connectorPointerEvents&&(t["pointer-events"]=t.sourceEndpoint.connectorPointerEvents);var e=function(_,n,o){o=function(_,n){var o,i=$_.extend({},_);for(o in n)n[o]&&(i[o]=n[o]);return i}(n,{anchor:t.anchors?t.anchors[o]:t.anchor,endpoint:t.endpoints?t.endpoints[o]:t.endpoint,paintStyle:t.endpointStyles?t.endpointStyles[o]:t.endpointStyle,hoverPaintStyle:t.endpointHoverStyles?t.endpointHoverStyles[o]:t.endpointHoverStyle});return f.addEndpoint(_,o)},_=function(_,n,o,i){if(t[_]&&!t[_].endpoint&&!t[_+"Endpoint"]&&!t.newConnection){var w=o[T(t[_])];if(w=w?w[i]:null){if(!w.enabled)return!1;o=$_.extend({},w.def);delete o.label;i=null!=w.endpoint&&w.endpoint._jsPlumb?w.endpoint:e(t[_],o,n);if(i.isFull())return!1;t[_+"Endpoint"]=i,!t.scope&&o.scope&&(t.scope=o.scope),w.uniqueEndpoint?w.endpoint?i.finalEndpoint=w.endpoint:(w.endpoint=i).setDeleteOnEmpty(!1):i.setDeleteOnEmpty(!0),0===n&&w.def.connectorOverlays&&(t.overlays=t.overlays||[],Array.prototype.push.apply(t.overlays,w.def.connectorOverlays))}}};if(!1!==_("source",0,this.sourceEndpointDefinitions,t.type||"default")&&!1!==_("target",1,this.targetEndpointDefinitions,t.type||"default"))return t=t.sourceEndpoint&&t.targetEndpoint&&!function(_,n){for(var o=_.scope.split(/\s/),i=n.scope.split(/\s/),w=0;w<o.length;w++)for(var t=0;t<i.length;t++)if(i[t]===o[w])return!0;return!1}(t.sourceEndpoint,t.targetEndpoint)?null:t}}.bind(f),I=function(_){var n=f.Defaults.ConnectionType||f.getDefaultConnectionType();_._jsPlumb=f,_.newConnection=I,_.newEndpoint=A,_.endpointsByUUID=u,_.endpointsByElement=m,_.finaliseConnection=k,_.id="con_"+e();_=new n(_);return _.isDetachable()&&(_.endpoints[0].initDraggable("_jsPlumbSource"),_.endpoints[1].initDraggable("_jsPlumbTarget")),_},k=f.finaliseConnection=function(_,n,o,i){n=n||{},_.suspendedEndpoint||c.push(_),_.pending=null,(_.endpoints[0].isTemporarySource=!1)!==i&&f.router.newConnection(_),t(_.source),n.doNotFireConnectionEvent||!1===n.fireEvent||(_={connection:_,source:_.source,target:_.target,sourceId:_.sourceId,targetId:_.targetId,sourceEndpoint:_.endpoints[0],targetEndpoint:_.endpoints[1]},f.fire("connection",_,o))},A=function(_,n){var o=f.Defaults.EndpointType||$_.Endpoint,_=$_.extend({},_);_._jsPlumb=f,_.newConnection=I,_.newEndpoint=A,_.endpointsByUUID=u,_.endpointsByElement=m,_.fireDetachEvent=N,_.elementId=n||T(_.source);o=new o(_);return o.id="ep_"+e(),X(_.elementId,_.source),$_.headless||f.getDragManager().endpointAdded(_.source,n),o},T=function(_,n,o){if(w_.isString(_))return _;if(null==_)return null;var i=f.getAttribute(_,"id");return i&&"undefined"!==i||(2===arguments.length&&void 0!==n?i=n:1!==arguments.length&&(3!==arguments.length||o)||(i="jsPlumb_"+w+"_"+e()),o||f.setAttribute(_,"id",i)),i};this.setConnectionBeingDragged=function(_){y=_},this.isConnectionBeingDragged=function(){return y},this.getManagedElements=function(){return h},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(_,n,o){o=o||{};var i=$_.extend({},o);$_.extend(i,n),i.endpoint=i.endpoint||f.Defaults.Endpoint,i.paintStyle=i.paintStyle||f.Defaults.EndpointStyle;for(var w=[],t=w_.isArray(_)||null!=_.length&&!w_.isString(_)?_:[_],e=0,d=t.length;e<d;e++){i.source=f.getElement(t[e]),W(i.source);var $=T(i.source),j=A(i,$),r=X($,i.source,null,!P).info.o;w_.addToList(m,$,j),P||j.paint({anchorLoc:j.anchor.compute({xy:[r.left,r.top],wh:b[$],element:j,timestamp:E,rotation:this.getRotation($)}),timestamp:E}),w.push(j)}return 1===w.length?w[0]:w},this.addEndpoints=function(_,n,o){for(var i=[],w=0,t=n.length;w<t;w++){var e=f.addEndpoint(_,n[w],o);w_.isArray(e)?Array.prototype.push.apply(i,e):i.push(e)}return i},this.animate=function(_,n,o){if(!this.animationSupported)return!1;o=o||{};var i=f.getElement(_),w=T(i),t=$_.animEvents.step,_=$_.animEvents.complete;o[t]=w_.wrap(o[t],function(){f.revalidate(w)}),o[_]=w_.wrap(o[_],function(){f.revalidate(w)}),f.doAnimate(i,n,o)},this.checkCondition=function(n,_){var o=f.getListener(n),i=!0;if(o&&0<o.length){var w=Array.prototype.slice.call(arguments,1);try{for(var t=0,e=o.length;t<e;t++)i=i&&o[t].apply(o[t],w)}catch(_){w_.log(f,"cannot check condition ["+n+"]"+_)}}return i},this.connect=function(_,n){var o,n=S(_,n);if(n){if(null==n.source&&null==n.sourceEndpoint)return void w_.log("Cannot establish connection - source does not exist");if(null==n.target&&null==n.targetEndpoint)return void w_.log("Cannot establish connection - target does not exist");W(n.source),o=I(n),k(o,n)}return o};var D=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],M=function(_,n,o,i){var w,t,e=D[o],d=_[e.elId],$=(_[e.el],_.endpoints[o]),j={index:o,originalSourceId:0===o?d:_.sourceId,newSourceId:_.sourceId,originalTargetId:1===o?d:_.targetId,newTargetId:_.targetId,connection:_};if(n.constructor===$_.Endpoint)(w=n).addConnection(_),n=w.element;else if(d=T(n),t=this[e.epDefs][d],d===_[e.elId])w=null;else if(t)for(var r in t){if(!t[r].enabled)return;w=null!=t[r].endpoint&&t[r].endpoint._jsPlumb?t[r].endpoint:this.addEndpoint(n,t[r].def),t[r].uniqueEndpoint&&(t[r].endpoint=w),w.addConnection(_)}else w=_.makeEndpoint(0===o,n,d);return null!=w&&($.detachFromConnection(_),_.endpoints[o]=w,_[e.el]=w.element,_[e.elId]=w.elementId,j[0===o?"newSourceId":"newTargetId"]=w.elementId,O(j),i||_.repaint()),j.element=n,j}.bind(this);this.setSource=function(_,n,o){o=M(_,n,0,o);this.router.sourceOrTargetChanged(o.originalSourceId,o.newSourceId,_,o.el,0)},this.setTarget=function(_,n,o){o=M(_,n,1,o);this.router.sourceOrTargetChanged(o.originalTargetId,o.newTargetId,_,o.el,1)},this.deleteEndpoint=function(_,n,o){_="string"==typeof _?u[_]:_;return _&&f.deleteObject({endpoint:_,dontUpdateHover:n,deleteAttachedObjects:o}),f},this.deleteEveryEndpoint=function(){var _,n=f.setSuspendDrawing(!0);for(_ in m){var o=m[_];if(o&&o.length)for(var i=0,w=o.length;i<w;i++)f.deleteEndpoint(o[i],!0)}m={},h={},u={},p={},v={},f.router.reset();var t=f.getDragManager();return t&&t.reset(),n||f.setSuspendDrawing(!1),f};var N=function(_,n,o){var i=f.Defaults.ConnectionType||f.getDefaultConnectionType(),_=_.constructor===i?{connection:_,source:_.source,target:_.target,sourceId:_.sourceId,targetId:_.targetId,sourceEndpoint:_.endpoints[0],targetEndpoint:_.endpoints[1]}:_;n&&f.fire("connectionDetached",_,o),f.fire("internal.connectionDetached",_,o),f.router.connectionDetached(_)},O=f.fireMoveEvent=function(_,n){f.fire("connectionMoved",_,n)};this.unregisterEndpoint=function(_){for(var n in _._jsPlumb.uuid&&(u[_._jsPlumb.uuid]=null),f.router.deleteEndpoint(_),m){var o=m[n];if(o){for(var i=[],w=0,t=o.length;w<t;w++)o[w]!==_&&i.push(o[w]);m[n]=i}m[n].length<1&&delete m[n]}};var F="isDetachAllowed";this.deleteConnection=function(n,_){return!(null==n||!(_=_||{}).force&&!w_.functionChain(!0,!1,[[n.endpoints[0],F,[n]],[n.endpoints[1],F,[n]],[n,F,[n]],[f,"checkCondition",["beforeDetach",n]]]))&&(n.setHover(!1),N(n,!n.pending&&!1!==_.fireEvent,_.originalEvent),n.endpoints[0].detachFromConnection(n),n.endpoints[1].detachFromConnection(n),w_.removeWithFunction(c,function(_){return n.id===_.id}),n.cleanup(),n.destroy(),!0)},this.deleteEveryConnection=function(n){n=n||{};var o=c.length,i=0;return f.batch(function(){for(var _=0;_<o;_++)i+=f.deleteConnection(c[0],n)?1:0}),i},this.deleteConnectionsForElement=function(_,n){n=n||{},_=f.getElement(_);var _=T(_),o=m[_];if(o&&o.length)for(var i=0,w=o.length;i<w;i++)o[i].deleteEveryConnection(n);return f},this.deleteObject=function(i){function w(_){null!=_&&null==t.connections[_.id]&&(i.dontUpdateHover||null==_._jsPlumb||_.setHover(!1),t.connections[_.id]=_,t.connectionCount++)}var _,n,t={endpoints:{},connections:{},endpointCount:0,connectionCount:0},e=!1!==i.deleteAttachedObjects;for(_ in i.connection?w(i.connection):function(_){if(null!=_&&null==t.endpoints[_.id]&&(i.dontUpdateHover||null==_._jsPlumb||_.setHover(!1),t.endpoints[_.id]=_,t.endpointCount++,e))for(var n=0;n<_.connections.length;n++){var o=_.connections[n];w(o)}}(i.endpoint),t.connections){var o,d=t.connections[_];d._jsPlumb&&(w_.removeWithFunction(c,function(_){return d.id===_.id}),N(d,!1!==i.fireEvent&&!d.pending,i.originalEvent),o=null==i.deleteAttachedObjects?null:!i.deleteAttachedObjects,d.endpoints[0].detachFromConnection(d,null,o),d.endpoints[1].detachFromConnection(d,null,o),d.cleanup(!0),d.destroy(!0))}for(n in t.endpoints){var $=t.endpoints[n];$._jsPlumb&&(f.unregisterEndpoint($),$.cleanup(!0),$.destroy(!0))}return t};function L(_,n,o){return function(){return function(_,n,o,i){for(var w=0,t=_.length;w<t;w++)_[w][n].apply(_[w],o);return i(_)}(_,n,arguments,o)}}function R(_,n){return function(){return function(_,n,o){for(var i=[],w=0,t=_.length;w<t;w++)i.push([_[w][n].apply(_[w],o),_[w]]);return i}(_,n,arguments)}}function G(_,n){var o=[];if(_)if("string"==typeof _){if("*"===_)return _;o.push(_)}else if(n)o=_;else if(_.length)for(var i=0,w=_.length;i<w;i++)o.push(a(_[i]).id);else o.push(a(_).id);return o}function z(_,n,o){return"*"===_||(0<_.length?-1!==_.indexOf(n):!o)}this.getConnections=function(_,n){_?_.constructor===String&&(_={scope:_}):_={};for(var o,i,w,t=_.scope||f.getDefaultScope(),e=G(t,!0),d=G(_.source),$=G(_.target),j=!n&&1<e.length?{}:[],r=0,s=c.length;r<s;r++){var a=c[r],l=a.proxies&&a.proxies[0]?a.proxies[0].originalEp.elementId:a.sourceId,u=a.proxies&&a.proxies[1]?a.proxies[1].originalEp.elementId:a.targetId;z(e,a.scope)&&z(d,l)&&z($,u)&&(o=a.scope,i=a,w=void 0,(!n&&1<e.length?w=null==(w=j[o])?j[o]=[]:w:j).push(i))}return j};function U(_,n){for(var o,i,w,t={length:_.length,each:(w=n,function(_){for(var n=0,o=i.length;n<o;n++)_(i[n]);return w(i)}),get:(o=i=_,function(_){return o[_]})},e=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],d=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"],$=0,j=e.length;$<j;$++)t[e[$]]=L(_,e[$],n);for($=0,j=d.length;$<j;$++)t[d[$]]=R(_,d[$]);return t}var B=function(o){var _=U(o,B);return $_.extend(_,{setDetachable:L(o,"setDetachable",B),setReattach:L(o,"setReattach",B),setConnector:L(o,"setConnector",B),delete:function(){for(var _=0,n=o.length;_<n;_++)f.deleteConnection(o[_])},isDetachable:R(o,"isDetachable"),isReattach:R(o,"isReattach")})},V=function(o){var _=U(o,V);return $_.extend(_,{setEnabled:L(o,"setEnabled",V),setAnchor:L(o,"setAnchor",V),isEnabled:R(o,"isEnabled"),deleteEveryConnection:function(){for(var _=0,n=o.length;_<n;_++)o[_].deleteEveryConnection()},delete:function(){for(var _=0,n=o.length;_<n;_++)f.deleteEndpoint(o[_])}})};this.select=function(_){return(_=_||{}).scope=_.scope||"*",B(_.connections||f.getConnections(_,!0))},this.selectEndpoints=function(_){(_=_||{}).scope=_.scope||"*";var n,o=!_.element&&!_.source&&!_.target,i=o?"*":G(_.element),w=o?"*":G(_.source),t=o?"*":G(_.target),e=G(_.scope,!0),d=[];for(n in m){var $=z(i,n,!0),j=z(w,n,!0),r="*"!==w,s=z(t,n,!0),a="*"!==t;if($||j||s)for(var l=0,u=m[n].length;l<u;l++){var c,h,p=m[n][l];z(e,p.scope,!0)&&(c=r&&0<w.length&&!p.isSource,h=a&&0<t.length&&!p.isTarget,c||h||d.push(p))}}return V(d)},this.getAllConnections=function(){return c},this.getDefaultScope=function(){return x},this.getEndpoint=d,this.getEndpoints=function(_){return m[a(_).id]||[]},this.getDefaultEndpointType=function(){return $_.Endpoint},this.getDefaultConnectionType=function(){return $_.Connection},this.getId=T,this.draw=t,this.info=a,this.appendElement=_;var H=!1;this.isHoverSuspended=function(){return H},this.setHoverSuspended=function(_){H=_},this.hide=function(_,n){return s(_,"none",n),f},this.idstamp=e;var W=function(_){$||!_||(_=f.getElement(_)).offsetParent&&f.setContainer(_.offsetParent)},X=f.manage=function(_,n,o,i){return h[_]?i&&(h[_].info=Y({elId:_,timestamp:E,recalc:!0})):(h[_]={el:n,endpoints:[],connections:[],rotation:0},h[_].info=Y({elId:_,timestamp:E}),f.addClass(n,"jtk-managed"),o||f.fire("manageElement",{id:_,info:h[_].info,el:n})),h[_]};this.unmanage=function(_){var n;h[_]&&(n=h[_].el,f.removeClass(n,"jtk-managed"),delete h[_],f.fire("unmanageElement",{id:_,el:n}))},this.rotate=function(_,n,o){return h[_]&&(h[_].rotation=n,h[_].el.style.transform="rotate("+n+"deg)",h[_].el.style.transformOrigin="center center",!0!==o)?this.revalidate(_):{c:[],e:[]}},this.getRotation=function(_){return h[_]&&h[_].rotation||0};var Y=function(_){var n,o=_.timestamp,i=_.recalc,w=_.offset,t=_.elId;return P&&!o&&(o=E),!i&&o&&o===v[t]?{o:_.offset||p[t],s:b[t]}:(i||!w&&null==p[t]?null!=(n=h[t]?h[t].el:null)&&(b[t]=f.getSize(n),p[t]=f.getOffset(n),v[t]=o):(p[t]=w||p[t],null==b[t]&&null!=(n=h[t].el)&&(b[t]=f.getSize(n)),v[t]=o),p[t]&&!p[t].right&&(p[t].right=p[t].left+b[t][0],p[t].bottom=p[t].top+b[t][1],p[t].width=b[t][0],p[t].height=b[t][1],p[t].centerx=p[t].left+p[t].width/2,p[t].centery=p[t].top+p[t].height/2),{o:p[t],s:b[t]})};this.updateOffset=Y,this.init=function(){l||(f.Defaults.Container&&f.setContainer(f.Defaults.Container),f.router=new i_.jsPlumb.DefaultRouter(f),f.anchorManager=f.router.anchorManager,l=!0,f.fire("ready",f))}.bind(this),this.log=null,this.jsPlumbUIComponent=e_,this.makeAnchor=function(){function _(_,n){if(i_.jsPlumb.Anchors[_])return new i_.jsPlumb.Anchors[_](n);if(!f.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+_+"'"}}var n;if(0===arguments.length)return null;var o,i=arguments[0],w=arguments[1],t=null;return i.compute&&i.getOrientation?i:("string"==typeof i?t=_(arguments[0],{elementId:w,jsPlumbInstance:f}):w_.isArray(i)&&(w_.isArray(i[0])||w_.isString(i[0])?t=2===i.length&&w_.isObject(i[1])?w_.isString(i[0])?(n=i_.jsPlumb.extend({elementId:w,jsPlumbInstance:f},i[1]),_(i[0],n)):(n=i_.jsPlumb.extend({elementId:w,jsPlumbInstance:f,anchors:i[0]},i[1]),new i_.jsPlumb.DynamicAnchor(n)):new $_.DynamicAnchor({anchors:i,selector:null,elementId:w,jsPlumbInstance:f}):(o={x:i[0],y:i[1],orientation:4<=i.length?[i[2],i[3]]:[0,0],offsets:6<=i.length?[i[4],i[5]]:[0,0],elementId:w,jsPlumbInstance:f,cssClass:7===i.length?i[6]:null},(t=new i_.jsPlumb.Anchor(o)).clone=function(){return new i_.jsPlumb.Anchor(o)})),t.id||(t.id="anchor_"+e()),t)},this.makeAnchors=function(_,n,o){for(var i=[],w=0,t=_.length;w<t;w++)"string"==typeof _[w]?i.push(i_.jsPlumb.Anchors[_[w]]({elementId:n,jsPlumbInstance:o})):w_.isArray(_[w])&&i.push(f.makeAnchor(_[w],n,o));return i},this.makeDynamicAnchor=function(_,n){return new i_.jsPlumb.DynamicAnchor({anchors:_,selector:n,elementId:null,jsPlumbInstance:f})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};function Z(w,t,_,n,o){var i=new e_(t),e=t._jsPlumb.EndpointDropHandler({jsPlumb:f,enabled:function(){return w.def.enabled},isFull:function(){var _=f.select({target:w.id}).length;return 0<w.def.maxConnections&&_>=w.def.maxConnections},element:w.el,elementId:w.id,isSource:n,isTarget:o,addClass:function(_){f.addClass(w.el,_)},removeClass:function(_){f.removeClass(w.el,_)},onDrop:function(_){_.endpoints[0].anchor.locked=!1},isDropAllowed:function(){return i.isDropAllowed.apply(i,arguments)},isRedrop:function(_){return null!=_.suspendedElement&&null!=_.suspendedEndpoint&&_.suspendedEndpoint.element===w.el},getEndpoint:function(_){var n,o,i=w.def.endpoint;return null!=i&&null!=i._jsPlumb||(o=(n=f.deriveEndpointAndAnchorSpec(_.getType().join(" "),!0)).endpoints?i_.jsPlumb.extend(t,{endpoint:w.def.def.endpoint||n.endpoints[1]}):t,n.anchors&&(o=i_.jsPlumb.extend(o,{anchor:w.def.def.anchor||n.anchors[1]})),(i=f.addEndpoint(w.el,o))._mtNew=!0),t.uniqueEndpoint&&(w.def.endpoint=i),i.setDeleteOnEmpty(!0),_.isDetachable()&&i.initDraggable(),null!=i.anchor.positionFinder&&(n=f.getUIPosition(arguments,f.getZoom()),o=f.getOffset(w.el),_=f.getSize(w.el),_=null==n?[0,0]:i.anchor.positionFinder(n,o,_,i.anchor.constructorParams),i.anchor.x=_[0],i.anchor.y=_[1]),i},maybeCleanup:function(_){_._mtNew&&0===_.connections.length?f.deleteObject({endpoint:_}):delete _._mtNew}}),n=i_.jsPlumb.dragEvents.drop;return _.scope=_.scope||t.scope||f.Defaults.Scope,_[n]=w_.wrap(_[n],e,!0),_.rank=t.rank||0,o&&(_[i_.jsPlumb.dragEvents.over]=function(){return!0}),!1===t.allowLoopback&&(_.canDrop=function(_){return _.getDragElement()._jsPlumbRelatedElement!==w.el}),f.initDroppable(w.el,_,"internal"),e}this.makeTarget=function(_,n,o){var e=i_.jsPlumb.extend({_jsPlumb:this},o);i_.jsPlumb.extend(e,n);for(var d=e.maxConnections||-1,i=function(_){var n=a(_),o=n.id,i=i_.jsPlumb.extend({},e.dropOptions||{}),w=e.connectionType||"default";this.targetEndpointDefinitions[o]=this.targetEndpointDefinitions[o]||{},W(o),n.el._isJsPlumbGroup&&null==i.rank&&(i.rank=-1);var t={def:i_.jsPlumb.extend({},e),uniqueEndpoint:e.uniqueEndpoint,maxConnections:d,enabled:!0};e.createEndpoint&&(t.uniqueEndpoint=!0,t.endpoint=f.addEndpoint(_,t.def),t.endpoint.setDeleteOnEmpty(!1)),n.def=t,this.targetEndpointDefinitions[o][w]=t,Z(n,e,i,!0===e.isSource,!0),n.el._katavorioDrop[n.el._katavorioDrop.length-1].targetDef=t}.bind(this),w=_.length&&_.constructor!==String?_:[_],t=0,$=w.length;t<$;t++)i(w[t]);return this},this.unmakeTarget=function(_,n){_=a(_);return f.destroyDroppable(_.el,"internal"),n||delete this.targetEndpointDefinitions[_.id],this},this.makeSource=function(w,_,n){var u=i_.jsPlumb.extend({_jsPlumb:this},n);i_.jsPlumb.extend(u,_);var c=u.connectionType||"default",_=f.deriveEndpointAndAnchorSpec(c);u.endpoint=u.endpoint||_.endpoints[0],u.anchor=u.anchor||_.anchors[0];for(var h=u.maxConnections||-1,p=u.onMaxConnections,o=function($){var j=$.id,r=this.getElement($.el);this.sourceEndpointDefinitions[j]=this.sourceEndpointDefinitions[j]||{},W(j);var _={def:i_.jsPlumb.extend({},u),uniqueEndpoint:u.uniqueEndpoint,maxConnections:h,enabled:!0};u.createEndpoint&&(_.uniqueEndpoint=!0,_.endpoint=f.addEndpoint(w,_.def),_.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[j][c]=_,$.def=_;var n=i_.jsPlumb.dragEvents.stop,o=i_.jsPlumb.dragEvents.drag,s=i_.jsPlumb.extend({},u.dragOptions||{}),i=s.drag,t=s.stop,a=null,l=!1;s.scope=s.scope||u.scope,s[o]=w_.wrap(s[o],function(){i&&i.apply(this,arguments),l=!1}),s[n]=w_.wrap(s[n],function(){var _,n,o,i,w;t&&t.apply(this,arguments),this.currentlyDragging=!1,null!=a._jsPlumb&&(o=u.anchor||this.Defaults.Anchor,i=a.anchor,_=a.connections[0],n=this.makeAnchor(o,j,this),w=a.element,null!=n.positionFinder&&(o=f.getOffset(w),w=this.getSize(w),i={left:o.left+i.x*w[0],top:o.top+i.y*w[1]},w=n.positionFinder(i,o,w,n.constructorParams),n.x=w[0],n.y=w[1]),a.setAnchor(n,!0),a.repaint(),this.repaint(a.elementId),null!=_&&this.repaint(_.targetId))}.bind(this));n=function(_){if(3!==_.which&&2!==_.button){j=this.getId(this.getElement($.el));var n=this.sourceEndpointDefinitions[j][c];if(n.enabled){if(u.filter)if(!1===(w_.isString(u.filter)?function(_,n,o,i,w){for(var t=_.target||_.srcElement,e=!1,d=i.getSelector(n,o),$=0;$<d.length;$++)if(d[$]===t){e=!0;break}return w?!e:e}(_,$.el,u.filter,this,u.filterExclude):u.filter(_,$.el)))return;var o=this.select({source:j}).length;if(0<=n.maxConnections&&o>=n.maxConnections)return p&&p({element:$.el,maxConnections:h},_),!1;var i=i_.jsPlumb.getPositionOnElement(_,r,g),o={};i_.jsPlumb.extend(o,n.def),o.isTemporarySource=!0,o.anchor=[i[0],i[1],0,0],o.dragOptions=s,n.def.scope&&(o.scope=n.def.scope),a=this.addEndpoint(j,o),l=!0,a.setDeleteOnEmpty(!0),n.uniqueEndpoint&&(n.endpoint?a.finalEndpoint=n.endpoint:(n.endpoint=a).setDeleteOnEmpty(!1));var w=function(){f.off(a.canvas,"mouseup",w),f.off($.el,"mouseup",w),l&&(l=!1,f.deleteEndpoint(a))};f.on(a.canvas,"mouseup",w),f.on($.el,"mouseup",w);var t={};if(n.def.extract)for(var e in n.def.extract){var d=(_.srcElement||_.target).getAttribute(e);d&&(t[n.def.extract[e]]=d)}f.trigger(a.canvas,"mousedown",_,t),w_.consume(_)}}}.bind(this);this.on($.el,"mousedown",n),_.trigger=n,u.filter&&(w_.isString(u.filter)||w_.isFunction(u.filter))&&f.setDragFilter($.el,u.filter);n=i_.jsPlumb.extend({},u.dropOptions||{});Z($,u,n,!0,!0===u.isTarget)}.bind(this),i=w.length&&w.constructor!==String?w:[w],t=0,e=i.length;t<e;t++)o(a(i[t]));return this},this.unmakeSource=function(_,n,o){var i=a(_);f.destroyDroppable(i.el,"internal");var w,t=this.sourceEndpointDefinitions[i.id];if(t)for(var e in t)null!=n&&n!==e||((w=t[e].trigger)&&f.off(i.el,"mousedown",w),o||delete this.sourceEndpointDefinitions[i.id][e]);return this},this.unmakeEverySource=function(){for(var _ in this.sourceEndpointDefinitions)f.unmakeSource(_,null,!0);return this.sourceEndpointDefinitions={},this};var q=function(_,n,o){n=w_.isArray(n)?n:[n];var i=T(_);o=o||"default";for(var w=0;w<n.length;w++){var t=this[n[w]][i];if(t&&t[o])return t[o].def.scope||this.Defaults.Scope}}.bind(this),J=function(_,n,o,i){o=w_.isArray(o)?o:[o];var w=T(_);i=i||"default";for(var t=0;t<o.length;t++){var e=this[o[t]][w];e&&e[i]&&(e[i].def.scope=n)}}.bind(this);this.getScope=function(_,n){return q(_,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(_){return q(_,"sourceEndpointDefinitions")},this.getTargetScope=function(_){return q(_,"targetEndpointDefinitions")},this.setScope=function(_,n,o){this.setSourceScope(_,n,o),this.setTargetScope(_,n,o)},this.setSourceScope=function(_,n,o){J(_,n,"sourceEndpointDefinitions",o),this.setDragScope(_,n)},this.setTargetScope=function(_,n,o){J(_,n,"targetEndpointDefinitions",o),this.setDropScope(_,n)},this.unmakeEveryTarget=function(){for(var _ in this.targetEndpointDefinitions)f.unmakeTarget(_,!0);return this.targetEndpointDefinitions={},this};var K=function(_,n,o,i,w){var t,e,d,$="source"===_?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(w=w||"default",n.length&&!w_.isString(n)){t=[];for(var j=0,r=n.length;j<r;j++)$[(e=a(n[j])).id]&&$[e.id][w]&&(t[j]=$[e.id][w].enabled,d=i?!t[j]:o,$[e.id][w].enabled=d,f[d?"removeClass":"addClass"](e.el,"jtk-"+_+"-disabled"))}else{var s=(e=a(n)).id;$[s]&&$[s][w]&&(t=$[s][w].enabled,d=i?!t:o,$[s][w].enabled=d,f[d?"removeClass":"addClass"](e.el,"jtk-"+_+"-disabled"))}return t}.bind(this),Q=function(_,n){if(null!=_)return w_.isString(_)||!_.length?n.apply(this,[_]):_.length?n.apply(this,[_[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(_,n){return K("source",_,null,!0,n),this.isSourceEnabled(_,n)},this.setSourceEnabled=function(_,n,o){return K("source",_,n,null,o)},this.isSource=function(_,n){return n=n||"default",Q(_,function(_){_=this.sourceEndpointDefinitions[a(_).id];return null!=_&&null!=_[n]}.bind(this))},this.isSourceEnabled=function(_,n){return n=n||"default",Q(_,function(_){_=this.sourceEndpointDefinitions[a(_).id];return _&&_[n]&&!0===_[n].enabled}.bind(this))},this.toggleTargetEnabled=function(_,n){return K("target",_,null,!0,n),this.isTargetEnabled(_,n)},this.isTarget=function(_,n){return n=n||"default",Q(_,function(_){_=this.targetEndpointDefinitions[a(_).id];return null!=_&&null!=_[n]}.bind(this))},this.isTargetEnabled=function(_,n){return n=n||"default",Q(_,function(_){_=this.targetEndpointDefinitions[a(_).id];return _&&_[n]&&!0===_[n].enabled}.bind(this))},this.setTargetEnabled=function(_,n,o){return K("target",_,n,null,o)},this.ready=function(_){f.bind("ready",_)};this.repaint=function(_,n,o){return function(_,n){if("object"==typeof _&&_.length)for(var o=0,i=_.length;o<i;o++)n(_[o]);else n(_);return f}(_,function(_){t(_,n,o)})},this.revalidate=function(_,n,o){var i=o?_:f.getId(_);f.updateOffset({elId:i,recalc:!0,timestamp:n});o=f.getDragManager();return o&&o.updateOffsets(i),t(_,null,n)},this.repaintEverything=function(){var _,n=jsPlumbUtil.uuid();for(_ in m)f.updateOffset({elId:_,recalc:!0,timestamp:n});for(_ in m)t(_,null,n);return this},this.removeAllEndpoints=function(_,t,e){e=e||[];var d=function(_){var n,o,i=a(_),w=m[i.id];if(w)for(e.push(i),n=0,o=w.length;n<o;n++)f.deleteEndpoint(w[n],!1);if(delete m[i.id],t&&i.el&&3!==i.el.nodeType&&8!==i.el.nodeType)for(n=0,o=i.el.childNodes.length;n<o;n++)d(i.el.childNodes[n])};return d(_),this};function __(_,n){f.removeAllEndpoints(_.id,!0,n);for(var o=f.getDragManager(),i=function(_){o&&o.elementRemoved(_.id),f.router.elementRemoved(_.id),f.isSource(_.el)&&f.unmakeSource(_.el),f.isTarget(_.el)&&f.unmakeTarget(_.el),f.destroyDraggable(_.el),f.destroyDroppable(_.el),delete f.floatingConnections[_.id],delete h[_.id],delete p[_.id],_.el&&(f.removeElement(_.el),_.el._jsPlumb=null)},w=1;w<n.length;w++)i(n[w]);i(_)}this.remove=function(_,n){var o=a(_),i=[];return o.text&&o.el.parentNode?o.el.parentNode.removeChild(o.el):o.id&&f.batch(function(){__(o,i)},!0===n),f},this.empty=function(_,n){var i=[],w=function(_,n){var o=a(_);if(o.text)o.el.parentNode.removeChild(o.el);else if(o.el){for(;0<o.el.childNodes.length;)w(o.el.childNodes[0]);n||__(o,i)}};return f.batch(function(){w(_,!0)},!1===n),f},this.reset=function(_){f.silently(function(){H=!1,f.removeAllGroups(),f.removeGroupManager(),f.deleteEveryEndpoint(),_||f.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},c.length=0,this.doReset&&this.doReset()}.bind(this))},this.destroy=function(){this.reset(),j=$=null};function n_(_){_.canvas&&_.canvas.parentNode&&_.canvas.parentNode.removeChild(_.canvas),_.cleanup(),_.destroy()}this.clear=function(){f.select().each(n_),f.selectEndpoints().each(n_),m={},u={}},this.setDefaultScope=function(_){return x=_,f},this.deriveEndpointAndAnchorSpec=function(_,n){for(var o=((n?"":"default ")+_).split(/[\s]/),i=null,w=null,t=null,e=null,d=0;d<o.length;d++){var $=f.getType(o[d],"connection");$&&($.endpoints&&(i=$.endpoints),$.endpoint&&(w=$.endpoint),$.anchors&&(e=$.anchors),$.anchor&&(t=$.anchor))}return{endpoints:i||[w,w],anchors:e||[t,t]}},this.setId=function(t,e,_){var n=w_.isString(t)?t:(t=this.getElement(t),this.getId(t)),o=this.getConnections({source:n,scope:"*"},!0),i=this.getConnections({target:n,scope:"*"},!0);e=""+e,_?t=this.getElement(e):(t=this.getElement(n),this.setAttribute(t,"id",e)),m[e]=m[n]||[];for(var w=0,d=m[e].length;w<d;w++)m[e][w].setElementId(e),m[e][w].setReferenceElement(t);delete m[n],this.sourceEndpointDefinitions[e]=this.sourceEndpointDefinitions[n],delete this.sourceEndpointDefinitions[n],this.targetEndpointDefinitions[e]=this.targetEndpointDefinitions[n],delete this.targetEndpointDefinitions[n],this.router.changeId(n,e);_=this.getDragManager();_&&_.changeId(n,e),h[e]=h[n],delete h[n];n=function(_,n,o){for(var i=0,w=_.length;i<w;i++)_[i].endpoints[n].setElementId(e),_[i].endpoints[n].setReferenceElement(t),_[i][o+"Id"]=e,_[i][o]=t};n(o,0,"source"),n(i,1,"target"),this.repaint(e)},this.setDebugLog=function(_){0},this.setSuspendDrawing=function(_,n){var o=P;return E=(P=_)?(new Date).getTime():null,n&&this.repaintEverything(),o},this.isSuspendDrawing=function(){return P},this.getSuspendedAt=function(){return E},this.batch=function(_,n){var o=this.isSuspendDrawing();o||this.setSuspendDrawing(!0);try{_()}catch(_){w_.log("Function run while suspended failed",_)}o||this.setSuspendDrawing(!1,!n)},this.doWhileSuspended=this.batch,this.getCachedData=function(_){var n=p[_];return n?{o:n,s:b[_]}:Y({elId:_})},this.show=function(_,n){return s(_,"block",n),f},this.toggleVisible=function(_,n){r(_,function(_){var n=_.isVisible();_.setVisible(!n)},n?function(_){var n=_.isVisible();_.setVisible(!n)}:null)},this.addListener=this.bind;var o_=[];this.registerFloatingConnection=function(_,n,o){o_[_.id]=n,w_.addToList(m,_.id,o)},this.getFloatingConnectionFor=function(_){return o_[_]},this.listManager=new i_.jsPlumbListManager(this,this.Defaults.ListStyle)};w_.extend(i_.jsPlumbInstance,w_.EventGenerator,{setAttribute:function(_,n,o){this.setAttribute(_,n,o)},getAttribute:function(_,n){return this.getAttribute(i_.jsPlumb.getElement(_),n)},convertToFullOverlaySpec:function(_){return(_=w_.isString(_)?[_,{}]:_)[1].id=_[1].id||w_.uuid(),_},registerConnectionType:function(_,n){if(this._connectionTypes[_]=i_.jsPlumb.extend({},n),n.overlays){for(var o={},i=0;i<n.overlays.length;i++){var w=this.convertToFullOverlaySpec(n.overlays[i]);o[w[1].id]=w}this._connectionTypes[_].overlays=o}},registerConnectionTypes:function(_){for(var n in _)this.registerConnectionType(n,_[n])},registerEndpointType:function(_,n){if(this._endpointTypes[_]=i_.jsPlumb.extend({},n),n.overlays){for(var o={},i=0;i<n.overlays.length;i++){var w=this.convertToFullOverlaySpec(n.overlays[i]);o[w[1].id]=w}this._endpointTypes[_].overlays=o}},registerEndpointTypes:function(_){for(var n in _)this.registerEndpointType(n,_[n])},getType:function(_,n){return("connection"===n?this._connectionTypes:this._endpointTypes)[_]},setIdChanged:function(_,n){this.setId(_,n,!0)},setParent:function(_,n){var o=this.getElement(_),i=this.getId(o),w=this.getElement(n),_=this.getId(w),n=this.getDragManager();o.parentNode.removeChild(o),w.appendChild(o),n&&n.setParent(o,i,w,_)},extend:function(_,n,o){if(o)for(i=0;i<o.length;i++)_[o[i]]=n[o[i]];else for(var i in n)_[i]=n[i];return _},floatingConnections:{},getFloatingAnchorIndex:function(_){return _.endpoints[0].isFloating()?0:_.endpoints[1].isFloating()?1:-1},proxyConnection:function(_,n,o,i,w,t){var e=_.endpoints[n].elementId,d=_.endpoints[n];_.proxies=_.proxies||[],(t=_.proxies[n]?_.proxies[n].ep:this.addEndpoint(o,{endpoint:w(_,n),anchor:t(_,n),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),_.proxies[n]={ep:t,originalEp:d},0===n?this.router.sourceOrTargetChanged(e,i,_,o,0):this.router.sourceOrTargetChanged(e,i,_,o,1),d.detachFromConnection(_,null,!0),t.connections=[_],_.endpoints[n]=t,d.setVisible(!1),_.setVisible(!0),this.revalidate(o)},unproxyConnection:function(_,n,o){var i,w;null!=_._jsPlumb&&null!=_.proxies&&null!=_.proxies[n]&&(i=_.proxies[n].originalEp.element,w=_.proxies[n].originalEp.elementId,_.endpoints[n]=_.proxies[n].originalEp,0===n?this.router.sourceOrTargetChanged(o,w,_,i,0):this.router.sourceOrTargetChanged(o,w,_,i,1),_.proxies[n].ep.detachFromConnection(_,null),_.proxies[n].originalEp.addConnection(_),_.isVisible()&&_.proxies[n].originalEp.setVisible(!0),delete _.proxies[n])}});var $_=new w;(i_.jsPlumb=$_).getInstance=function(_,n){var o=new w(_);if(n)for(var i in n)o[i]=n[i];return o.init(),o},$_.each=function(_,n){if(null!=_)if("string"==typeof _)n($_.getElement(_));else if(null!=_.length)for(var o=0;o<_.length;o++)n($_.getElement(_[o]));else n(_)},"undefined"!=typeof exports&&(exports.jsPlumb=$_)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var n=this,d=n.jsPlumb,$=n.jsPlumbUtil,w="__label";d.OverlayCapableJsPlumbUIComponent=function(_){n.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},_.label&&(this.getDefaultType().overlays[w]=["Label",{label:_.label,location:_.labelLocation||this.defaultLabelLocation||.5,labelStyle:_.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:w}]),this.setListenerComponent=function(_){if(this._jsPlumb)for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].setListenerComponent(_)}},d.OverlayCapableJsPlumbUIComponent.applyType=function(_,n){if(n.overlays){var o,i={};for(o in n.overlays){var w=_._jsPlumb.overlays[n.overlays[o][1].id];w?(w.updateFrom(n.overlays[o][1]),i[n.overlays[o][1].id]=!0,w.reattach(_._jsPlumb.instance,_)):(null!=(w=_.getCachedTypeItem("overlay",n.overlays[o][1].id))?(w.reattach(_._jsPlumb.instance,_),w.setVisible(!0),w.updateFrom(n.overlays[o][1]),_._jsPlumb.overlays[w.id]=w):w=_.addOverlay(n.overlays[o],!0),i[w.id]=!0)}for(o in _._jsPlumb.overlays)null==i[_._jsPlumb.overlays[o].id]&&_.removeOverlay(_._jsPlumb.overlays[o].id,!0)}},$.extend(d.OverlayCapableJsPlumbUIComponent,n.jsPlumbUIComponent,{setHover:function(_,n){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var o in this._jsPlumb.overlays)this._jsPlumb.overlays[o][_?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(_,n){var o,i,w,t,e,o=(o=this,i=_,e=null,(e=$.isArray(i)?(w=i[0],t=d.extend({component:o,_jsPlumb:o._jsPlumb.instance},i[1]),3===i.length&&d.extend(t,i[2]),new d.Overlays[o._jsPlumb.instance.getRenderMode()][w](t)):i.constructor===String?new d.Overlays[o._jsPlumb.instance.getRenderMode()][i]({component:o,_jsPlumb:o._jsPlumb.instance}):i).id=e.id||$.uuid(),o.cacheTypeItem("overlay",e,e.id),o._jsPlumb.overlays[e.id]=e);return this.getData&&"Label"===o.type&&$.isArray(_)&&(e=this.getData(),_=_[1],e&&(_=_.labelLocationAttribute||"labelLocation",(_=e?e[_]:null)&&(o.loc=_))),n||this.repaint(),o},getOverlay:function(_){return this._jsPlumb.overlays[_]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(_){_=this.getOverlay(_);_&&_.hide()},hideOverlays:function(){for(var _ in this._jsPlumb.overlays)this._jsPlumb.overlays[_].hide()},showOverlay:function(_){_=this.getOverlay(_);_&&_.show()},showOverlays:function(){for(var _ in this._jsPlumb.overlays)this._jsPlumb.overlays[_].show()},removeAllOverlays:function(_){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].cleanup&&this._jsPlumb.overlays[n].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,this._jsPlumb.overlayPlacements={},_||this.repaint()},removeOverlay:function(_,n){var o=this._jsPlumb.overlays[_];o&&(o.setVisible(!1),!n&&o.cleanup&&o.cleanup(),delete this._jsPlumb.overlays[_],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[_],this._jsPlumb.overlayPlacements&&delete this._jsPlumb.overlayPlacements[_])},removeOverlays:function(){for(var _=0,n=arguments.length;_<n;_++)this.removeOverlay(arguments[_])},moveParent:function(_){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),_.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var n in this.canvas.parentNode.removeChild(this.canvas),_.appendChild(this.canvas),this._jsPlumb.overlays){var o;this._jsPlumb.overlays[n].isAppendedAtTopLevel&&((o=this._jsPlumb.overlays[n].getElement()).parentNode.removeChild(o),_.appendChild(o))}},getLabel:function(){var _=this.getOverlay(w);return null!=_?_.getLabel():null},getLabelOverlay:function(){return this.getOverlay(w)},setLabel:function(_){var n,o,i=this.getOverlay(w);i?_.constructor===String||_.constructor===Function?i.setLabel(_):(_.label&&i.setLabel(_.label),_.location&&i.setLocation(_.location)):(o=_.constructor===String||_.constructor===Function?{label:_}:_,n=this,o={cssClass:(_=o).cssClass,labelStyle:n.labelStyle,id:w,component:n,_jsPlumb:n._jsPlumb.instance},_=d.extend(o,_),i=new d.Overlays[n._jsPlumb.instance.getRenderMode()].Label(_),this._jsPlumb.overlays[w]=i),this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(_){for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n].cleanup(_),this._jsPlumb.overlays[n].destroy(_);_&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(_){this[_?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(_,n){this._jsPlumb.overlayPositions[_.id]=n},getAbsoluteOverlayPosition:function(_){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[_.id]:null},_clazzManip:function(_,n,o){if(!o)for(var i in this._jsPlumb.overlays)this._jsPlumb.overlays[i][_+"Class"](n)},addClass:function(_,n){this._clazzManip("add",_,n)},removeClass:function(_,n){this._clazzManip("remove",_,n)}})}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var y=this.jsPlumb,b=this.jsPlumbUtil,w=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"];y.Endpoint=function(f){var g=f._jsPlumb,m=f.newConnection,v=f.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],y.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:f.connectionType,maxConnections:null==f.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:f.maxConnections,paintStyle:f.endpointStyle||f.paintStyle||f.style||this._jsPlumb.instance.Defaults.EndpointStyle||y.Defaults.EndpointStyle,hoverPaintStyle:f.endpointHoverStyle||f.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||y.Defaults.EndpointHoverStyle,connectorStyle:f.connectorStyle,connectorHoverStyle:f.connectorHoverStyle,connectorClass:f.connectorClass,connectorHoverClass:f.connectorHoverClass,connectorOverlays:f.connectorOverlays,connector:f.connector,connectorTooltip:f.connectorTooltip}),this._jsPlumb.enabled=!(!1===f.enabled),this._jsPlumb.visible=!0,this.element=y.getElement(f.source),this._jsPlumb.uuid=f.uuid;this._jsPlumb.floatingEndpoint=null;this._jsPlumb.uuid&&(f.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=f.elementId,this.dragProxy=f.dragProxy,this._jsPlumb.connectionCost=f.connectionCost,this._jsPlumb.connectionsDirected=f.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var i=!0===f.deleteOnEmpty;this.setDeleteOnEmpty=function(_){i=_};var o=function(){var _=g.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var n=g.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(_),this.addClass(n),y.updateClasses(this.element,n,_)}.bind(this);this.prepareAnchor=function(_){_=this._jsPlumb.instance.makeAnchor(_,this.elementId,g);return _.bind("anchorChanged",function(_){this.fire("anchorChanged",{endpoint:this,anchor:_}),o()}.bind(this)),_},this.setPreparedAnchor=function(_,n){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=_,o(),n||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(_,n){_=this.prepareAnchor(_);return this.setPreparedAnchor(_,n),this};var _=function(_){if(0<this.connections.length)for(var n=0;n<this.connections.length;n++)this.connections[n].setHover(_,!1);else this.setHover(_)}.bind(this);this.bind("mouseover",function(){_(!0)}),this.bind("mouseout",function(){_(!1)}),f._transient||this._jsPlumb.instance.router.addEndpoint(this,this.elementId),this.prepareEndpoint=function(_,n){function o(_,n){var o=g.getRenderMode();if(y.Endpoints[o][_])return new y.Endpoints[o][_](n);if(!g.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+_+"'"}}var i={_jsPlumb:this._jsPlumb.instance,cssClass:f.cssClass,container:f.container,tooltip:f.tooltip,connectorTooltip:f.connectorTooltip,endpoint:this},w=b.isString(_)?o(_,i):b.isArray(_)?(i=b.merge(_[1],i),o(_[0],i)):_.clone();return w.clone=function(){return b.isString(_)?o(_,i):b.isArray(_)?(i=b.merge(_[1],i),o(_[0],i)):void 0}.bind(this),w.typeId=n,w},this.setEndpoint=function(_,n){_=this.prepareEndpoint(_);this.setPreparedEndpoint(_,!0)},this.setPreparedEndpoint=function(_,n){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=_,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},y.extend(this,f,w),this.isSource=f.isSource||!1,this.isTemporarySource=f.isTemporarySource||!1,this.isTarget=f.isTarget||!1,this.connections=f.connections||[],this.connectorPointerEvents=f["connector-pointer-events"],this.scope=f.scope||g.getDefaultScope(),this.timestamp=null,this.reattachConnections=f.reattach||g.Defaults.ReattachConnections,this.connectionsDetachable=g.Defaults.ConnectionsDetachable,!1!==f.connectionsDetachable&&!1!==f.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==f.dragAllowedWhenFull,f.onMaxConnections&&this.bind("maxConnections",f.onMaxConnections),this.addConnection=function(_){this.connections.push(_),this[(0<this.connections.length?"add":"remove")+"Class"](g.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](g.endpointFullClass)},this.detachFromConnection=function(_,n,o){0<=(n=null==n?this.connections.indexOf(_):n)&&(this.connections.splice(n,1),this[(0<this.connections.length?"add":"remove")+"Class"](g.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](g.endpointFullClass)),!o&&i&&0===this.connections.length&&g.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==o})},this.deleteEveryConnection=function(_){for(var n=this.connections.length,o=0;o<n;o++)g.deleteConnection(this.connections[0],_)},this.detachFrom=function(_,n,o){for(var i=[],w=0;w<this.connections.length;w++)this.connections[w].endpoints[1]!==_&&this.connections[w].endpoints[0]!==_||i.push(this.connections[w]);for(var t=0,e=i.length;t<e;t++)g.deleteConnection(i[0]);return this},this.getElement=function(){return this.element},this.setElement=function(_){var n=this._jsPlumb.instance.getId(_),o=this.elementId;return b.removeWithFunction(f.endpointsByElement[this.elementId],function(_){return _.id===this.id}.bind(this)),this.element=y.getElement(_),this.elementId=g.getId(this.element),g.router.rehomeEndpoint(this,o,this.element),g.dragManager.endpointAdded(this.element),b.addToList(f.endpointsByElement,n,this),this},this.makeInPlaceCopy=function(){var _=this.anchor.getCurrentLocation({element:this}),n=this.anchor.getOrientation(this),o=this.anchor.getCssClass(),i={bind:function(){},compute:function(){return[_[0],_[1]]},getCurrentLocation:function(){return[_[0],_[1]]},getOrientation:function(){return n},getCssClass:function(){return o}};return v({dropOptions:f.dropOptions,anchor:i,source:this.element,paintStyle:this.getPaintStyle(),endpoint:f.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(_){var n=(_=_||{}).timestamp,o=!(!1===_.recalc);if(!n||this.timestamp!==n){var i=g.updateOffset({elId:this.elementId,timestamp:n}),w=(_.offset||i).o;if(null!=w){var t,e,d,$,j=_.anchorPoint,r=_.connectorPaintStyle;for(d in null==j&&(e=_.dimensions||i.s,t={xy:[w.left,w.top],wh:e,element:this,timestamp:n},o&&this.anchor.isDynamic&&0<this.connections.length?(e=0==(w=(i=function(_,n){var o=0;if(null!=n)for(var i=0;i<_.connections.length;i++)if(_.connections[i].sourceId===n||_.connections[i].targetId===n){o=i;break}return _.connections[o]}(this,_.elementWithPrecedence)).endpoints[0]===this?1:0)?i.sourceId:i.targetId,_=(o=g.getCachedData(e)).o,o=o.s,t.index=0==w?1:0,t.connection=i,t.txy=[_.left,_.top],t.twh=o,t.tElement=i.endpoints[w],t.tRotation=g.getRotation(e)):0<this.connections.length&&(t.connection=this.connections[0]),t.rotation=g.getRotation(this.elementId),j=this.anchor.compute(t)),this.endpoint.compute(j,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,r||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=n,this._jsPlumb.overlays)!this._jsPlumb.overlays.hasOwnProperty(d)||($=this._jsPlumb.overlays[d]).isVisible()&&(this._jsPlumb.overlayPlacements[d]=$.draw(this.endpoint,this._jsPlumb.paintStyleInUse),$.paint(this._jsPlumb.overlayPlacements[d]))}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var s=!1;this.initDraggable=function(){var a,l,u,c,h,_,n,o,i,p,w,t,e,d,$,j,r;!s&&y.isDragSupported(this.element)&&(c=l=null,d=this,$=a={id:null,element:null},j=g,r=u=!1,h={drag:function(){if(r)return!(r=!1);var _;$.element&&(null!=(_=j.getUIPosition(arguments,j.getZoom()))&&j.setPosition($.element,_),j.repaint($.element,_),d.paint({anchorPoint:d.anchor.getCurrentLocation({element:d})}))},stopDrag:function(){r=!0}},e=f.dragOptions||{},_=y.dragEvents.start,n=y.dragEvents.stop,o=y.dragEvents.drag,i=y.dragEvents.beforeStart,w=function(_){l=this.connectorSelector();var n=!0;this.isEnabled()||(n=!1),null!=l||this.isSource||this.isTemporarySource||(n=!1),!this.isSource||!this.isFull()||null!=l&&this.dragAllowedWhenFull||(n=!1),null==l||l.isDetachable(this)||(this.isFull()?n=!1:l=null);var o=g.checkCondition(null==l?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:l});if(!1===o?n=!1:"object"==typeof o?y.extend(o,p||{}):o=p||{},!1===n)return g.stopDrag&&g.stopDrag(this.canvas),h.stopDrag(),!1;for(var i=0;i<this.connections.length;i++)this.connections[i].setHover(!1);this.addClass("endpointDrag"),g.setConnectionBeingDragged(!0),l&&!this.isFull()&&this.isSource&&(l=null),g.updateOffset({elId:this.elementId});var w=this._jsPlumb.instance.getOffset(this.canvas),t=this.canvas,e=this._jsPlumb.instance.getSize(this.canvas);!function(_,n,o,i){var w=n.createElement("div",{position:"absolute"});n.appendElement(w);var t=n.getId(w);n.setPosition(w,o),w.style.width=i[0]+"px",w.style.height=i[1]+"px",n.manage(t,w,!0),_.id=t,_.element=w}(a,g,w,e),g.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var d=this.dragProxy||this.endpoint;null!=this.dragProxy||null==this.connectionType||(r=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType)).endpoints[1]&&(d=r.endpoints[1]);var $,j,r,s=this._jsPlumb.instance.makeAnchor("Center");s.isFloating=!0,this._jsPlumb.floatingEndpoint=($=this.getPaintStyle(),j=s,n=d,w=this.canvas,e=a.element,r=g,s=v,d=this.scope,s({paintStyle:$,endpoint:n,anchor:new y.FloatingAnchor({reference:j,referenceCanvas:w,jsPlumbInstance:r}),source:e,scope:d}));d=this._jsPlumb.floatingEndpoint.anchor;null==l?(this.setHover(!1,!1),(l=m({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:f.connectorStyle,hoverPaintStyle:f.connectorHoverStyle,connector:f.connector,overlays:f.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:f.scope,data:o})).pending=!0,l.addClass(g.draggingClass),this._jsPlumb.floatingEndpoint.addClass(g.draggingClass),this._jsPlumb.floatingEndpoint.anchor=d,g.fire("connectionDrag",l),g.router.newConnection(l)):(u=!0,l.setHover(!1),o=l.endpoints[0].id===this.id?0:1,this.detachFromConnection(l,null,!0),d=g.getDragScope(t),g.setAttribute(this.canvas,"originalScope",d),g.fire("connectionDrag",l),0==o?(c=[l.source,l.sourceId,t,d],g.router.sourceOrTargetChanged(l.endpoints[o].elementId,a.id,l,a.element,0)):(c=[l.target,l.targetId,t,d],g.router.sourceOrTargetChanged(l.endpoints[o].elementId,a.id,l,a.element,1)),l.suspendedEndpoint=l.endpoints[o],l.suspendedElement=l.endpoints[o].getElement(),l.suspendedElementId=l.endpoints[o].elementId,l.suspendedElementType=0==o?"source":"target",l.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=l.suspendedEndpoint,l.endpoints[o]=this._jsPlumb.floatingEndpoint,l.addClass(g.draggingClass),this._jsPlumb.floatingEndpoint.addClass(g.draggingClass)),g.registerFloatingConnection(a,l,this._jsPlumb.floatingEndpoint),g.currentlyDragging=!0}.bind(this),t=function(){var _,n,o;g.setConnectionBeingDragged(!1),l&&null!=l.endpoints&&(_=g.getDropEvent(arguments),n=g.getFloatingAnchorIndex(l),l.endpoints[0===n?1:0].anchor.locked=!1,l.removeClass(g.draggingClass),this._jsPlumb&&(l.deleteConnectionNow||l.endpoints[n]===this._jsPlumb.floatingEndpoint)&&u&&l.suspendedEndpoint&&(0===n?(l.floatingElement=l.source,l.floatingId=l.sourceId,l.floatingEndpoint=l.endpoints[0],l.floatingIndex=0,l.source=c[0],l.sourceId=c[1]):(l.floatingElement=l.target,l.floatingId=l.targetId,l.floatingEndpoint=l.endpoints[1],l.floatingIndex=1,l.target=c[0],l.targetId=c[1]),o=this._jsPlumb.floatingEndpoint,g.setDragScope(c[2],c[3]),l.endpoints[n]=l.suspendedEndpoint,l.isReattach()||l._forceReattach||l._forceDetach||!g.deleteConnection(l,{originalEvent:_})?(l.setHover(!1),l._forceDetach=null,l._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(l),l.suspendedEndpoint.addConnection(l),1===n?g.router.sourceOrTargetChanged(l.floatingId,l.targetId,l,l.target,n):g.router.sourceOrTargetChanged(l.floatingId,l.sourceId,l,l.source,n),g.repaint(c[1])):g.deleteObject({endpoint:o})),this.deleteAfterDragStop?g.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),g.fire("connectionDragStop",l,_),l.pending&&g.fire("connectionAborted",l,_),g.currentlyDragging=!1,l.suspendedElement=null,l.suspendedEndpoint=null,l=null),a.element&&g.remove(a.element,!1,!1),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this),(e=y.extend({},e)).scope=this.scope||e.scope,e[i]=b.wrap(e[i],function(_){p=_.e.payload||{}},!1),e[_]=b.wrap(e[_],w,!1),e[o]=b.wrap(e[o],h.drag),e[n]=b.wrap(e[n],t),e.multipleDrop=!1,e.canDrag=function(){return this.isSource||this.isTemporarySource||0<this.connections.length&&!1!==this.connectionsDetachable}.bind(this),g.initDraggable(this.canvas,e,"internal"),this.canvas._jsPlumbRelatedElement=this.element,s=!0)};var n=f.endpoint||this._jsPlumb.instance.Defaults.Endpoint||y.Defaults.Endpoint;this.setEndpoint(n,!0);n=f.anchor||f.anchors||g.Defaults.Anchor||"Top";this.setAnchor(n,!0);n=["default",f.type||""].join(" ");this.addType(n,f.data,!0),this.canvas=this.endpoint.canvas,(this.canvas._jsPlumb=this).initDraggable();n=function(_,n,o,i){var w,t,e,d,$;y.isDropSupported(this.element)&&(w=f.dropOptions||g.Defaults.DropOptions||y.Defaults.DropOptions,(w=y.extend({},w)).scope=w.scope||this.scope,t=y.dragEvents.drop,e=y.dragEvents.over,d=y.dragEvents.out,$=this,i=g.EndpointDropHandler({getEndpoint:function(){return $},jsPlumb:g,enabled:function(){return null==o||o.isEnabled()},isFull:function(){return o.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(_){$.addClass(_)},removeClass:function(_){$.removeClass(_)},isDropAllowed:function(){return $.isDropAllowed.apply($,arguments)},reference:i,isRedrop:function(_,n){return _.suspendedEndpoint&&n.reference&&_.suspendedEndpoint.id===n.reference.id}}),w[t]=b.wrap(w[t],i,!0),w[e]=b.wrap(w[e],function(){var _=y.getDragObject(arguments),n=g.getAttribute(y.getElement(_),"dragId"),o=g.getFloatingConnectionFor(n);null!=o&&(_=g.getFloatingAnchorIndex(o),(this.isTarget&&0!==_||o.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===o.suspendedEndpoint.id)&&(this[((n=g.checkCondition("checkDropAllowed",{sourceEndpoint:o.endpoints[_],targetEndpoint:this,connection:o}))?"add":"remove")+"Class"](g.endpointDropAllowedClass),this[(n?"remove":"add")+"Class"](g.endpointDropForbiddenClass),o.endpoints[_].anchor.over(this.anchor,this)))}.bind(this)),w[d]=b.wrap(w[d],function(){var _=y.getDragObject(arguments),n=null==_?null:g.getAttribute(y.getElement(_),"dragId"),_=n?g.getFloatingConnectionFor(n):null;null!=_&&(n=g.getFloatingAnchorIndex(_),(this.isTarget&&0!==n||_.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===_.suspendedEndpoint.id)&&(this.removeClass(g.endpointDropAllowedClass),this.removeClass(g.endpointDropForbiddenClass),_.endpoints[n].anchor.out()))}.bind(this)),g.initDroppable(_,w,"internal",n))}.bind(this);return this.anchor.isFloating||n(this.canvas,!(f._transient||this.anchor.isFloating),this,f.reference),this},b.extend(y.Endpoint,y.OverlayCapableJsPlumbUIComponent,{setVisible:function(_,n,o){if(this._jsPlumb.visible=_,this.canvas&&(this.canvas.style.display=_?"block":"none"),this[_?"showOverlays":"hideOverlays"](),!n)for(var i,w=0;w<this.connections.length;w++)this.connections[w].setVisible(_),o||(i=this===this.connections[w].endpoints[0]?1:0,1===this.connections[w].endpoints[i].connections.length&&this.connections[w].endpoints[i].setVisible(_,!0,!0))},getAttachedElements:function(){return this.connections},applyType:function(_,n){this.setPaintStyle(_.endpointStyle||_.paintStyle,n),this.setHoverPaintStyle(_.endpointHoverStyle||_.hoverPaintStyle,n),null!=_.maxConnections&&(this._jsPlumb.maxConnections=_.maxConnections),_.scope&&(this.scope=_.scope),y.extend(this,_,w),null!=_.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,_.cssClass),y.OverlayCapableJsPlumbUIComponent.applyType(this,_)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(_){this._jsPlumb.enabled=_},cleanup:function(){var _=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");y.removeClass(this.element,_),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(_){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(_)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(_){var n=!1;if(_)for(var o=0;o<this.connections.length;o++)if(this.connections[o].endpoints[1]===_||this.connections[o].endpoints[0]===_){n=!0;break}return n},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(_){this._jsPlumb.connectionCost=_},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(_){this._jsPlumb.connectionsDirected=_},setElementId:function(_){this.elementId=_,this.anchor.elementId=_},setReferenceElement:function(_){this.element=y.getElement(_)},setDragAllowedWhenFull:function(_){this.dragAllowedWhenFull=_},equals:function(_){return this.anchor.equals(_.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(_){return this.anchor.compute(_)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(r){return function(_){var w=r.jsPlumb;r.removeClass(w.endpointDropAllowedClass),r.removeClass(w.endpointDropForbiddenClass);var t=w.getDropEvent(arguments),n=w.getDragObject(arguments),o=w.getAttribute(n,"dragId"),i=(w.getAttribute(n,"elId"),w.getAttribute(n,"originalScope")),e=w.getFloatingConnectionFor(o);if(null!=e){var d=null!=e.suspendedEndpoint;if(!d||null!=e.suspendedEndpoint._jsPlumb){var $=r.getEndpoint(e);if(null!=$){if(r.isRedrop(e,r))return e._forceReattach=!0,e.setHover(!1),void(r.maybeCleanup&&r.maybeCleanup($));var j=w.getFloatingAnchorIndex(e);if(0===j&&!r.isSource||1===j&&!r.isTarget)r.maybeCleanup&&r.maybeCleanup($);else{r.onDrop&&r.onDrop(e),i&&w.setDragScope(n,i);i=r.isFull(_);if(i&&$.fire("maxConnections",{endpoint:this,connection:e,maxConnections:$._jsPlumb.maxConnections},t),!i&&r.enabled()){_=!0;0===j?(e.floatingElement=e.source,e.floatingId=e.sourceId,e.floatingEndpoint=e.endpoints[0],e.floatingIndex=0,e.source=r.element,e.sourceId=w.getId(r.element)):(e.floatingElement=e.target,e.floatingId=e.targetId,e.floatingEndpoint=e.endpoints[1],e.floatingIndex=1,e.target=r.element,e.targetId=w.getId(r.element)),d&&e.suspendedEndpoint.id!==$.id&&(e.isDetachAllowed(e)&&e.endpoints[j].isDetachAllowed(e)&&e.suspendedEndpoint.isDetachAllowed(e)&&w.checkCondition("beforeDetach",e)||(_=!1));i=function(_){e.endpoints[j].detachFromConnection(e),e.suspendedEndpoint&&e.suspendedEndpoint.detachFromConnection(e),(e.endpoints[j]=$).addConnection(e);var n,o,i=$.getParameters();for(n in i)e.setParameter(n,i[n]);d?(o=e.suspendedEndpoint.elementId,w.fireMoveEvent({index:j,originalSourceId:0===j?o:e.sourceId,newSourceId:0===j?$.elementId:e.sourceId,originalTargetId:1===j?o:e.targetId,newTargetId:1===j?$.elementId:e.targetId,originalSourceEndpoint:0===j?e.suspendedEndpoint:e.endpoints[0],newSourceEndpoint:0===j?$:e.endpoints[0],originalTargetEndpoint:1===j?e.suspendedEndpoint:e.endpoints[1],newTargetEndpoint:1===j?$:e.endpoints[1],connection:e},t)):i.draggable&&w.initDraggable(this.element,r.dragOptions,"internal",w),1===j?w.router.sourceOrTargetChanged(e.floatingId,e.targetId,e,e.target,1):w.router.sourceOrTargetChanged(e.floatingId,e.sourceId,e,e.source,0),e.endpoints[0].finalEndpoint&&(e.endpoints[0].detachFromConnection(e),e.endpoints[0]=e.endpoints[0].finalEndpoint,e.endpoints[0].addConnection(e)),b.isObject(_)&&e.mergeData(_),w.finaliseConnection(e,null,t,!1),e.setHover(!1),w.revalidate(e.endpoints[0].element)}.bind(this);if(_=_&&r.isDropAllowed(e.sourceId,e.targetId,e.scope,e,$))return i(_),!0;e.suspendedEndpoint&&(e.endpoints[j]=e.suspendedEndpoint,e.setHover(!1),e._forceDetach=!0,0===j?(e.source=e.suspendedEndpoint.element,e.sourceId=e.suspendedEndpoint.elementId):(e.target=e.suspendedEndpoint.element,e.targetId=e.suspendedEndpoint.elementId),e.suspendedEndpoint.addConnection(e),1===j?w.router.sourceOrTargetChanged(e.floatingId,e.targetId,e,e.target,1):w.router.sourceOrTargetChanged(e.floatingId,e.sourceId,e,e.source,0),w.repaint(e.sourceId),e._forceDetach=!1)}r.maybeCleanup&&r.maybeCleanup($),w.currentlyDragging=!1}}}}}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function t(_,n,o,i,w){if(l.Connectors[n]=l.Connectors[n]||{},null==l.Connectors[n][o]){if(null==l.Connectors[o]){if(_.Defaults.DoNotThrowErrors)return null;throw new TypeError("jsPlumb: unknown connector type '"+o+"'")}l.Connectors[n][o]=function(){l.Connectors[o].apply(this,arguments),l.ConnectorRenderers[n].apply(this,arguments)},r.extend(l.Connectors[n][o],[l.Connectors[o],l.ConnectorRenderers[n]])}return new l.Connectors[n][o](i,w)}function a(_,n,o){return _?o.makeAnchor(_,n,o):null}function n(_,n,o,i){null!=n&&(n._jsPlumbConnections=n._jsPlumbConnections||{},i?delete n._jsPlumbConnections[_.id]:n._jsPlumbConnections[_.id]=!0,r.isEmpty(n._jsPlumbConnections)?o.removeClass(n,o.connectedClass):o.addClass(n,o.connectedClass))}var o=this,l=o.jsPlumb,r=o.jsPlumbUtil;l.Connection=function(t){var e=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=l.getElement(t.source),this.target=l.getElement(t.target),l.OverlayCapableJsPlumbUIComponent.apply(this,arguments),t.sourceEndpoint?(this.source=t.sourceEndpoint.getElement(),this.sourceId=t.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),t.targetEndpoint?(this.target=t.targetEndpoint.getElement(),this.targetId=t.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var d=this._jsPlumb.instance;d.manage(this.sourceId,this.source),d.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(_,n,o,i,w){return o=o||this._jsPlumb.instance.getId(n),this.prepareEndpoint(d,e,this,i,_?0:1,t,n,o,w)},t.type&&(t.endpoints=t.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(t.type).endpoints);var _=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),n=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);_&&r.addToList(t.endpointsByElement,this.sourceId,_),n&&r.addToList(t.endpointsByElement,this.targetId,n),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(t.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(t.deleteEndpointsOnEmpty));var o=d.Defaults.ConnectionsDetachable;!1===t.detachable&&(o=!1),!1===this.endpoints[0].connectionsDetachable&&(o=!1),!1===this.endpoints[1].connectionsDetachable&&(o=!1);var i=t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||d.Defaults.ReattachConnections;this.appendToDefaultType({detachable:o,reattach:i,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||d.Defaults.PaintStyle||l.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||d.Defaults.HoverPaintStyle||l.Defaults.HoverPaintStyle});var w=d.getSuspendedAt();d.isSuspendDrawing()||(n=(_=d.getCachedData(this.sourceId)).o,o=_.s,i=($=d.getCachedData(this.targetId)).o,_=$.s,$=w||jsPlumbUtil.uuid(),w=this.endpoints[0].anchor.compute({xy:[n.left,n.top],wh:o,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[i.left,i.top],twh:_,tElement:this.endpoints[1],timestamp:$,rotation:d.getRotation(this.endpoints[0].elementId)}),this.endpoints[0].paint({anchorLoc:w,timestamp:$}),w=this.endpoints[1].anchor.compute({xy:[i.left,i.top],wh:_,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[n.left,n.top],twh:o,tElement:this.endpoints[0],timestamp:$,rotation:d.getRotation(this.endpoints[1].elementId)}),this.endpoints[1].paint({anchorLoc:w,timestamp:$})),this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(_){return!1!==this._jsPlumb.detachable&&(null!=_?!0===_.connectionsDetachable:!0===this._jsPlumb.detachable)},this.setDetachable=function(_){this._jsPlumb.detachable=!0===_},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(_){this._jsPlumb.reattach=!0===_},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var $=l.extend({},this.endpoints[1].getParameters());l.extend($,this.endpoints[0].getParameters()),l.extend($,this.getParameters()),this.setParameters($),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||d.Defaults.Connector||l.Defaults.Connector,!0);var j=null!=t.data&&r.isObject(t.data)?t.data:{};this.getData=function(){return j},this.setData=function(_){j=_||{}},this.mergeData=function(_){j=l.extend(j,_)};$=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,t.type].join(" ");/[^\s]/.test($)&&this.addType($,t.data,!0),this.updateConnectedClass()},r.extend(l.Connection,l.OverlayCapableJsPlumbUIComponent,{applyType:function(_,n,o){var i=null;null!=_.connector&&(null==(i=this.getCachedTypeItem("connector",o.connector))&&(i=this.prepareConnector(_.connector,o.connector),this.cacheTypeItem("connector",i,o.connector)),this.setPreparedConnector(i)),null!=_.detachable&&this.setDetachable(_.detachable),null!=_.reattach&&this.setReattach(_.reattach),_.scope&&(this.scope=_.scope),null!=_.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,_.cssClass);i=null;_.anchor?null==(i=this.getCachedTypeItem("anchors",o.anchor))&&(i=[this._jsPlumb.instance.makeAnchor(_.anchor),this._jsPlumb.instance.makeAnchor(_.anchor)],this.cacheTypeItem("anchors",i,o.anchor)):_.anchors&&null==(i=this.getCachedTypeItem("anchors",o.anchors))&&(i=[this._jsPlumb.instance.makeAnchor(_.anchors[0]),this._jsPlumb.instance.makeAnchor(_.anchors[1])],this.cacheTypeItem("anchors",i,o.anchors)),null!=i&&(this.endpoints[0].anchor=i[0],this.endpoints[1].anchor=i[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),l.OverlayCapableJsPlumbUIComponent.applyType(this,_)},addClass:function(_,n){n&&(this.endpoints[0].addClass(_),this.endpoints[1].addClass(_),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(_)),this.connector&&this.connector.addClass(_)},removeClass:function(_,n){n&&(this.endpoints[0].removeClass(_),this.endpoints[1].removeClass(_),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(_)),this.connector&&this.connector.removeClass(_)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(_){this._jsPlumb.visible=_,this.connector&&this.connector.setVisible(_),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,(this.target=null)!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(_){this._jsPlumb&&(n(this,this.source,this._jsPlumb.instance,_),n(this,this.target,this._jsPlumb.instance,_))},setHover:function(_){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(_),o.jsPlumb[_?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),o.jsPlumb[_?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(_){this._jsPlumb.cost=_},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(_,n){var o,i={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},w=this._jsPlumb.instance.getRenderMode();return r.isString(_)?o=t(this._jsPlumb.instance,w,_,i,this):r.isArray(_)&&(o=1===_.length?t(this._jsPlumb.instance,w,_[0],i,this):t(this._jsPlumb.instance,w,_[0],r.merge(_[1],i),this)),null!=n&&(o.typeId=n),o},setPreparedConnector:function(_,n,o,i){if(this.connector!==_){var w,t="";if(null!=this.connector&&(t=(w=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=_,i&&this.cacheTypeItem("connector",_,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.connector.reattach(this._jsPlumb.instance),this.addClass(t),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=w)for(var e=this.getOverlays(),d=0;d<e.length;d++)e[d].transfer&&e[d].transfer(this.connector);o||this.setListenerComponent(this.connector),n||this.repaint()}},setConnector:function(_,n,o,i){_=this.prepareConnector(_,i);this.setPreparedConnector(_,n,o,i)},paint:function(_){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var n=(_=_||{}).timestamp,o=this.targetId,i=this.sourceId;if(null==n||n!==this._jsPlumb.lastPaintedAt){var w=this._jsPlumb.instance.updateOffset({elId:i}).o,t=this._jsPlumb.instance.updateOffset({elId:o}).o,e=this.endpoints[0],_=this.endpoints[1],i=e.anchor.getCurrentLocation({xy:[w.left,w.top],wh:[w.width,w.height],element:e,timestamp:n,rotation:this._jsPlumb.instance.getRotation(this.sourceId)}),o=_.anchor.getCurrentLocation({xy:[t.left,t.top],wh:[t.width,t.height],element:_,timestamp:n,rotation:this._jsPlumb.instance.getRotation(this.targetId)});this.connector.resetBounds(),this.connector.compute({sourcePos:i,targetPos:o,sourceOrientation:e.anchor.getOrientation(e),targetOrientation:_.anchor.getOrientation(_),sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:w,targetInfo:t});var d,$,j={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(d in this._jsPlumb.overlays)!this._jsPlumb.overlays.hasOwnProperty(d)||($=this._jsPlumb.overlays[d]).isVisible()&&(this._jsPlumb.overlayPlacements[d]=$.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition($)),j.minX=Math.min(j.minX,this._jsPlumb.overlayPlacements[d].minX),j.maxX=Math.max(j.maxX,this._jsPlumb.overlayPlacements[d].maxX),j.minY=Math.min(j.minY,this._jsPlumb.overlayPlacements[d].minY),j.maxY=Math.max(j.maxY,this._jsPlumb.overlayPlacements[d].maxY));var r,s,w=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,t=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),a={xmin:Math.min(this.connector.bounds.minX-(w+t),j.minX),ymin:Math.min(this.connector.bounds.minY-(w+t),j.minY),xmax:Math.max(this.connector.bounds.maxX+(w+t),j.maxX),ymax:Math.max(this.connector.bounds.maxY+(w+t),j.maxY)};for(r in this.connector.paintExtents=a,this.connector.paint(this._jsPlumb.paintStyleInUse,null,a),this._jsPlumb.overlays)!this._jsPlumb.overlays.hasOwnProperty(r)||(s=this._jsPlumb.overlays[r]).isVisible()&&s.paint(this._jsPlumb.overlayPlacements[r],a)}this._jsPlumb.lastPaintedAt=n}},repaint:function(_){_=jsPlumb.extend(_||{},{});_.elId=this.sourceId,this.paint(_)},prepareEndpoint:function(_,n,o,i,w,t,e,d,$){var j,r,s;return i?(o.endpoints[w]=i).addConnection(o):(t.endpoints||(t.endpoints=[null,null]),j=$||t.endpoints[w]||t.endpoint||_.Defaults.Endpoints[w]||l.Defaults.Endpoints[w]||_.Defaults.Endpoint||l.Defaults.Endpoint,t.endpointStyles||(t.endpointStyles=[null,null]),t.endpointHoverStyles||(t.endpointHoverStyles=[null,null]),null==(r=t.endpointStyles[w]||t.endpointStyle||_.Defaults.EndpointStyles[w]||l.Defaults.EndpointStyles[w]||_.Defaults.EndpointStyle||l.Defaults.EndpointStyle).fill&&null!=t.paintStyle&&(r.fill=t.paintStyle.stroke),null==r.outlineStroke&&null!=t.paintStyle&&(r.outlineStroke=t.paintStyle.outlineStroke),null==r.outlineWidth&&null!=t.paintStyle&&(r.outlineWidth=t.paintStyle.outlineWidth),$=t.endpointHoverStyles[w]||t.endpointHoverStyle||_.Defaults.EndpointHoverStyles[w]||l.Defaults.EndpointHoverStyles[w]||_.Defaults.EndpointHoverStyle||l.Defaults.EndpointHoverStyle,null!=t.hoverPaintStyle&&null==($=null==$?{}:$).fill&&($.fill=t.hoverPaintStyle.stroke),s=t.anchors?t.anchors[w]:t.anchor||a(_.Defaults.Anchors[w],d,_)||a(l.Defaults.Anchors[w],d,_)||a(_.Defaults.Anchor,d,_)||a(l.Defaults.Anchor,d,_),s=n({paintStyle:r,hoverPaintStyle:$,endpoint:j,connections:[o],uuid:t.uuids?t.uuids[w]:null,anchor:s,source:e,scope:t.scope,reattach:t.reattach||_.Defaults.ReattachConnections,detachable:t.detachable||_.Defaults.ConnectionsDetachable}),null==i&&s.setDeleteOnEmpty(!0),o.endpoints[w]=s,!1===t.drawEndpoints&&s.setVisible(!1,!0,!0)),s},replaceEndpoint:function(_,n){var o=this.endpoints[_],i=o.elementId,w=this._jsPlumb.instance.getEndpoints(i),t=w.indexOf(o),n=this.makeEndpoint(0===_,o.element,i,null,n);this.endpoints[_]=n,w.splice(t,1,n),this._jsPlumb.instance.deleteObject({endpoint:o,deleteAttachedObjects:!1}),this._jsPlumb.instance.fire("endpointReplaced",{previous:o,current:n}),this._jsPlumb.instance.router.sourceOrTargetChanged(this.endpoints[1].elementId,this.endpoints[1].elementId,this,this.endpoints[1].element,1)}})}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var O=this.jsPlumbUtil,F=this.jsPlumb;F.AnchorManager=function(m){function _(_,n){return n[0][0]-_[0][0]}function n(_,n){return(_[0][0]<0?-Math.PI-_[0][0]:Math.PI-_[0][0])-(n[0][0]<0?-Math.PI-n[0][0]:Math.PI-n[0][0])}function I(l,_){var n=D.getCachedData(l),o=n.s,i=n.o;(n=function(_,n,o,i,w,t,e){if(0<i.length)for(var d=function(_,n,o,i,w,t,e){for(var d=[],$=_[i?0:1]/(o.length+1),j=0;j<o.length;j++){var r=(j+1)*$,s=w*_[i?1:0];t&&(r=_[i?0:1]-r);var a=i?r:s,l=n.left+a,u=a/_[0],a=i?s:r,s=n.top+a,r=a/_[1];0!==e&&(l=(a=jsPlumbUtil.rotatePoint([l,s],[n.centerx,n.centery],e))[0],s=a[1]),d.push([l,s,u,r,o[j][1],o[j][2]])}return d}(n,o,(o=u[_],i.sort(o)),w,t,"right"===_||"top"===_,D.getRotation(l)),$=function(_,n){h[_.id]=[n[0],n[1],n[2],n[3]],p[_.id]=e},j=0;j<d.length;j++){var r=d[j][4],s=r.endpoints[0].elementId===l,a=r.endpoints[1].elementId===l;s&&$(r.endpoints[0],d[j]),a&&$(r.endpoints[1],d[j])}})("bottom",o,i,_.bottom,!0,1,[0,1]),n("top",o,i,_.top,!0,0,[0,-1]),n("left",o,i,_.left,!1,0,[-1,0]),n("right",o,i,_.right,!1,1,[1,0])}var k={},h={},p={},A={},e=this,T={},D=m.jsPlumbInstance,M={},u={top:n,right:_,bottom:_,left:n};this.reset=function(){k={},A={},T={}},this.addFloatingConnection=function(_,n){M[_]=n},this.newConnection=function(t){function _(_,n,o,i,w){e===d&&o.isContinuous&&(t._jsPlumb.instance.removeElement($[1].canvas),j=!1),O.addToList(A,i,[w,n,o.constructor===F.DynamicAnchor])}var e=t.sourceId,d=t.targetId,$=t.endpoints,j=!0;_(0,$[0],$[0].anchor,d,t),j&&_(0,$[1],$[1].anchor,e,t)};function d(_){var n,o;n=T[_.elementId],o=_.id,n&&(_=function(_){return _[4]===o},O.removeWithFunction(n.top,_),O.removeWithFunction(n.left,_),O.removeWithFunction(n.bottom,_),O.removeWithFunction(n.right,_))}this.connectionDetached=function(_,n){var o=_.connection||_,i=_.sourceId,w=_.targetId,t=o.endpoints,_=function(_,n,o,i,w){O.removeWithFunction(A[i],function(_){return _[0].id===w.id})};_(0,t[1],t[1].anchor,i,o),_(0,t[0],t[0].anchor,w,o),o.floatingId&&(_(o.floatingIndex,o.floatingEndpoint,o.floatingEndpoint.anchor,o.floatingId,o),d(o.floatingEndpoint)),d(o.endpoints[0]),d(o.endpoints[1]),n||(e.redraw(o.sourceId),o.targetId!==o.sourceId&&e.redraw(o.targetId))},this.addEndpoint=function(_,n){O.addToList(k,n,_)},this.changeId=function(_,n){A[n]=A[_],k[n]=k[_],delete A[_],delete k[_]},this.getConnectionsFor=function(_){return A[_]||[]},this.getEndpointsFor=function(_){return k[_]||[]},this.deleteEndpoint=function(n){O.removeWithFunction(k[n.elementId],function(_){return _.id===n.id}),d(n)},this.elementRemoved=function(_){delete M[_],delete k[_],k[_]=[]};function N(_,n,o,i,w,t,e,d,$,j,r,s){var a,l,u=-1,c=i.endpoints[e],h=c.id,p=[1,0][e],w=[[n,o],i,w,t,h],f=_[$],g=c._continuousAnchorEdge?_[c._continuousAnchorEdge]:null;if(g){_=O.findWithFunction(g,function(_){return _[4]===h});if(-1!==_)for(g.splice(_,1),a=0;a<g.length;a++)l=g[a][1],O.addWithFunction(r,l,function(_){return _.id===l.id}),O.addWithFunction(s,g[a][1].endpoints[e],function(_){return _.id===l.endpoints[e].id}),O.addWithFunction(s,g[a][1].endpoints[p],function(_){return _.id===l.endpoints[p].id})}for(a=0;a<f.length;a++)l=f[a][1],1===m.idx&&f[a][3]===t&&-1===u&&(u=a),O.addWithFunction(r,l,function(_){return _.id===l.id}),O.addWithFunction(s,f[a][1].endpoints[e],function(_){return _.id===l.endpoints[e].id}),O.addWithFunction(s,f[a][1].endpoints[p],function(_){return _.id===l.endpoints[p].id});d=d?-1!==u?u:0:f.length,f.splice(d,0,w),c._continuousAnchorEdge=$}this.sourceOrTargetChanged=function(_,n,o,i,w){var t;0===w?_!==n&&(o.sourceId=n,o.source=i,O.removeWithFunction(A[_],function(_){return _[0].id===o.id}),-1<(t=O.findWithFunction(A[o.targetId],function(_){return _[0].id===o.id}))&&(A[o.targetId][t][0]=o,A[o.targetId][t][1]=o.endpoints[0],A[o.targetId][t][2]=o.endpoints[0].anchor.constructor===F.DynamicAnchor),O.addToList(A,n,[o,o.endpoints[1],o.endpoints[1].anchor.constructor===F.DynamicAnchor]),o.endpoints[1].anchor.isContinuous&&(o.source===o.target?o._jsPlumb.instance.removeElement(o.endpoints[1].canvas):null==o.endpoints[1].canvas.parentNode&&o._jsPlumb.instance.appendElement(o.endpoints[1].canvas)),o.updateConnectedClass()):1===w&&(t=o.endpoints[0].elementId,o.target=i,o.targetId=n,w=O.findWithFunction(A[t],function(_){return _[0].id===o.id}),i=O.findWithFunction(A[_],function(_){return _[0].id===o.id}),-1!==w&&(A[t][w][0]=o,A[t][w][1]=o.endpoints[1],A[t][w][2]=o.endpoints[1].anchor.constructor===F.DynamicAnchor),-1<i&&(A[_].splice(i,1),O.addToList(A,n,[o,o.endpoints[0],o.endpoints[0].anchor.constructor===F.DynamicAnchor])),o.updateConnectedClass())},this.rehomeEndpoint=function(_,n,o){var i=k[n]||[],w=D.getId(o);w===n||-1<(o=i.indexOf(_))&&(o=i.splice(o,1)[0],e.add(o,w));for(var t=0;t<_.connections.length;t++)_.connections[t].sourceId===n?e.sourceOrTargetChanged(n,_.elementId,_.connections[t],_.element,0):_.connections[t].targetId===n&&e.sourceOrTargetChanged(n,_.elementId,_.connections[t],_.element,1)},this.redraw=function(n,_,o,i,w,t){var e=[],d=[],$=[];if(!D.isSuspendDrawing()){var j=k[n]||[],r=A[n]||[];o=o||jsPlumbUtil.uuid(),i=i||{left:0,top:0},_=_&&{left:_.left+i.left,top:_.top+i.top};for(var s=D.updateOffset({elId:n,offset:_,recalc:!1,timestamp:o}),a={},l=0;l<r.length;l++){var u,c,h,p,f,g,m,v=r[l][0],y=v.sourceId,b=v.targetId,P=v.endpoints[0].anchor.isContinuous,E=v.endpoints[1].anchor.isContinuous;(P||E)&&(c=a[u=y+"_"+b],h=v.sourceId===n?1:0,p=D.getRotation(b),f=D.getRotation(y),P&&!T[y]&&(T[y]={top:[],right:[],bottom:[],left:[]}),E&&!T[b]&&(T[b]={top:[],right:[],bottom:[],left:[]}),n!==b&&D.updateOffset({elId:b,timestamp:o}),n!==y&&D.updateOffset({elId:y,timestamp:o}),g=D.getCachedData(b),m=D.getCachedData(y),b===y&&(P||E)?(N(T[y],-Math.PI/2,0,v,!1,b,0,!1,"top",0,e,d),N(T[b],-Math.PI/2,0,v,!1,y,1,!1,"top",0,e,d)):(c||(c=this.calculateOrientation(y,b,m.o,g.o,v.endpoints[0].anchor,v.endpoints[1].anchor,v,f,p),a[u]=c),P&&N(T[y],c.theta,0,v,!1,b,0,!1,c.a[0],0,e,d),E&&N(T[b],c.theta2,-1,v,!0,y,1,!0,c.a[1],0,e,d)),P&&O.addWithFunction($,y,function(_){return _===y}),E&&O.addWithFunction($,b,function(_){return _===b}),O.addWithFunction(e,v,function(_){return _.id===v.id}),(P&&0==h||E&&1==h)&&O.addWithFunction(d,v.endpoints[h],function(_){return _.id===v.endpoints[h].id}))}for(l=0;l<j.length;l++)0===j[l].connections.length&&j[l].anchor.isContinuous&&(T[n]||(T[n]={top:[],right:[],bottom:[],left:[]}),N(T[n],-Math.PI/2,0,{endpoints:[j[l],j[l]],paint:function(){}},!1,n,0,!1,j[l].anchor.getDefaultFace(),0,e,d),O.addWithFunction($,n,function(_){return _===n}));for(l=0;l<$.length;l++)I($[l],T[$[l]]);for(l=0;l<j.length;l++)j[l].paint({timestamp:o,offset:s,dimensions:s.s,recalc:!0!==t});for(l=0;l<d.length;l++){var x=D.getCachedData(d[l].elementId);d[l].paint({timestamp:null,offset:x,dimensions:x.s})}for(l=0;l<r.length;l++){var C=r[l][1];if(C.anchor.constructor===F.DynamicAnchor){C.paint({elementWithPrecedence:n,timestamp:o}),O.addWithFunction(e,r[l][0],function(_){return _.id===r[l][0].id});for(var S=0;S<C.connections.length;S++)C.connections[S]!==r[l][0]&&O.addWithFunction(e,C.connections[S],function(_){return _.id===C.connections[S].id})}else O.addWithFunction(e,r[l][0],function(_){return _.id===r[l][0].id})}_=M[n];for(_&&_.paint({timestamp:o,recalc:!1,elId:n}),l=0;l<e.length;l++)e[l].paint({elId:n,timestamp:null,recalc:!1,clearEdits:w})}return{c:e,e:d}};function o(_){O.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=_.faces||["top","right","bottom","left"],o=!(!1===_.clockwise),i={},w={top:"bottom",right:"left",left:"right",bottom:"top"},t={top:"right",right:"bottom",left:"top",bottom:"left"},e={top:"left",right:"top",left:"bottom",bottom:"right"},d=o?t:e,$=o?e:t,j=_.cssClass||"",r=null,s=null,a=["left","right"],l=["top","bottom"],u=null,c=0;c<n.length;c++)i[n[c]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(_){return i[_]?_:i[w[_]]?w[_]:i[d[_]]?d[_]:i[$[_]]?$[_]:_},this.isEdgeSupported=function(_){return null==u?null==s?!0===i[_]:s===_:-1!==u.indexOf(_)},this.setCurrentFace=function(_,n){r=_,n&&null!=s&&(s=r)},this.getCurrentFace=function(){return r},this.getSupportedFaces=function(){var _,n=[];for(_ in i)i[_]&&n.push(_);return n},this.lock=function(){s=r},this.unlock=function(){s=null},this.isLocked=function(){return null!=s},this.lockCurrentAxis=function(){null!=r&&(u="left"===r||"right"===r?a:l)},this.unlockCurrentAxis=function(){u=null},this.compute=function(_){return h[_.element.id]||[0,0]},this.getCurrentLocation=function(_){return h[_.element.id]||[0,0]},this.getOrientation=function(_){return p[_.id]||[0,0]},this.getCssClass=function(){return j}}D.continuousAnchorFactory={get:function(_){return new o(_)},clear:function(_){delete h[_]}}},F.AnchorManager.prototype.calculateOrientation=function(_,n,o,i,w,t,e,d,$){var j=["left","top","right","bottom"];if(_===n)return{orientation:"identity",a:["top","top"]};var _=Math.atan2(i.centery-o.centery,i.centerx-o.centerx),n=Math.atan2(o.centery-i.centery,o.centerx-i.centerx),r=[],s={};!function(_,n){for(var o=0;o<_.length;o++)if(s[_[o]]={left:[n[o][0].left,n[o][0].centery],right:[n[o][0].right,n[o][0].centery],top:[n[o][0].centerx,n[o][0].top],bottom:[n[o][0].centerx,n[o][0].bottom]},0!==n[o][1])for(var i in s[_[o]])s[_[o]][i]=jsPlumbUtil.rotatePoint(s[_[o]][i],[n[o][0].centerx,n[o][0].centery],n[o][1])}(["source","target"],[[o,d],[i,$]]);for(var a=0;a<j.length;a++)for(var l=0;l<j.length;l++)r.push({source:j[a],target:j[l],dist:Biltong.lineLength(s.source[j[a]],s.target[j[l]])});r.sort(function(_,n){return _.dist<n.dist?-1:_.dist>n.dist?1:0});for(var u=r[0].source,c=r[0].target,h=0;h<r.length&&(u=w.isContinuous&&w.locked?w.getCurrentFace():!w.isContinuous||w.isEdgeSupported(r[h].source)?r[h].source:null,c=t.isContinuous&&t.locked?t.getCurrentFace():!t.isContinuous||t.isEdgeSupported(r[h].target)?r[h].target:null,null==u||null==c);h++);return w.isContinuous&&w.setCurrentFace(u),t.isContinuous&&t.setCurrentFace(c),{a:[u,c],theta:_,theta2:n}},F.Anchor=function(_){this.x=_.x||0,this.y=_.y||0,this.elementId=_.elementId,this.cssClass=_.cssClass||"",this.orientation=_.orientation||[0,0],this.lastReturnValue=null,this.offsets=_.offsets||[0,0],this.timestamp=null,this._unrotatedOrientation=[this.orientation[0],this.orientation[1]],this.relocatable=!1!==_.relocatable,this.snapOnRelocate=!1!==_.snapOnRelocate,this.locked=!1,O.EventGenerator.apply(this),this.compute=function(_){var n=_.xy,o=_.wh,i=_.timestamp;if(i&&i===this.timestamp)return this.lastReturnValue;var w=[n[0]+this.x*o[0]+this.offsets[0],n[1]+this.y*o[1]+this.offsets[1],this.x,this.y],_=_.rotation;return null!=_&&0!==_?(_=jsPlumbUtil.rotatePoint(w,[n[0]+o[0]/2,n[1]+o[1]/2],_),this.orientation[0]=Math.round(this._unrotatedOrientation[0]*_[2]-this._unrotatedOrientation[1]*_[3]),this.orientation[1]=Math.round(this._unrotatedOrientation[1]*_[2]+this._unrotatedOrientation[0]*_[3]),this.lastReturnValue=[_[0],_[1],this.x,this.y]):(this.orientation[0]=this._unrotatedOrientation[0],this.orientation[1]=this._unrotatedOrientation[1],this.lastReturnValue=w),this.timestamp=i,this.lastReturnValue},this.getCurrentLocation=function(_){return _=_||{},null==this.lastReturnValue||null!=_.timestamp&&this.timestamp!==_.timestamp?this.compute(_):this.lastReturnValue},this.setPosition=function(_,n,o,i,w){this.locked&&!w||(this.x=_,this.y=n,this.orientation=[o,i],this.lastReturnValue=null)}},O.extend(F.Anchor,O.EventGenerator,{equals:function(_){if(!_)return!1;var n=_.getOrientation(),o=this.getOrientation();return this.x===_.x&&this.y===_.y&&this.offsets[0]===_.offsets[0]&&this.offsets[1]===_.offsets[1]&&o[0]===n[0]&&o[1]===n[1]},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),F.FloatingAnchor=function(_){F.Anchor.apply(this,arguments);var n=_.reference,_=_.referenceCanvas,o=F.getSize(_),i=null,w=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(_){_=_.xy,_=[_[0]+o[0]/2,_[1]+o[1]/2];return w=_},this.getOrientation=function(_){if(i)return i;_=n.getOrientation(_);return[0*Math.abs(_[0])*-1,0*Math.abs(_[1])*-1]},this.over=function(_,n){i=_.getOrientation(n)},this.out=function(){i=null},this.getCurrentLocation=function(_){return null==w?this.compute(_):w}},O.extend(F.FloatingAnchor,F.Anchor);F.DynamicAnchor=function(_){F.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=_.elementId,this.jsPlumbInstance=_.jsPlumbInstance;for(var n,o,i,w=0;w<_.anchors.length;w++)this.anchors[w]=(n=_.anchors[w],o=this.jsPlumbInstance,i=this.elementId,n.constructor===F.Anchor?n:o.makeAnchor(n,i,o));this.getAnchors=function(){return this.anchors};var d=0<this.anchors.length?this.anchors[0]:null,$=d,j=_.selector||function(_,n,o,i,w,t,e){for(var d,$,j,r,s,a,l,u=o[0]+i[0]/2,c=o[1]+i[1]/2,h=-1,p=1/0,f=0;f<e.length;f++){var g=(d=e[f],$=u,j=c,s=n,a=w,g=l=void 0,l=(r=_)[0]+d.x*s[0],g=r[1]+d.y*s[1],d=r[0]+s[0]/2,s=r[1]+s[1]/2,null!=a&&0!==a&&(l=(a=jsPlumbUtil.rotatePoint([l,g],[d,s],a))[0],g=a[1]),Math.sqrt(Math.pow($-l,2)+Math.pow(j-g,2))+Math.sqrt(Math.pow(d-l,2)+Math.pow(s-g,2)));g<p&&(h=f+0,p=g)}return e[h]};this.compute=function(_){var n=_.xy,o=_.wh,i=_.txy,w=_.twh,t=_.rotation,e=_.tRotation;return this.timestamp=_.timestamp,this.locked||null==i||null==w||(_.timestamp=null,d=j(n,o,i,w,t,e,this.anchors),this.x=d.x,this.y=d.y,d!==$&&this.fire("anchorChanged",d),$=d),this.lastReturnValue=d.compute(_),this.lastReturnValue},this.getCurrentLocation=function(_){return null!=d?d.getCurrentLocation(_):null},this.getOrientation=function(_){return null!=d?d.getOrientation(_):[0,0]},this.over=function(_,n){null!=d&&d.over(_,n)},this.out=function(){null!=d&&d.out()},this.setAnchor=function(_){d=_},this.getCssClass=function(){return d&&d.getCssClass()||""},this.setAnchorCoordinates=function(n){var _=jsPlumbUtil.findWithFunction(this.anchors,function(_){return _.x===n[0]&&_.y===n[1]});return-1!==_&&(this.setAnchor(this.anchors[_]),!0)}},O.extend(F.DynamicAnchor,F.Anchor);function _(o,i,w,t,e,d){F.Anchors[e]=function(_){var n=_.jsPlumbInstance.makeAnchor([o,i,w,t,0,0],_.elementId,_.jsPlumbInstance);return n.type=e,d&&d(n,_),n}}_(.5,0,0,-1,"TopCenter"),_(.5,1,0,1,"BottomCenter"),_(0,.5,-1,0,"LeftMiddle"),_(1,.5,1,0,"RightMiddle"),_(.5,0,0,-1,"Top"),_(.5,1,0,1,"Bottom"),_(0,.5,-1,0,"Left"),_(1,.5,1,0,"Right"),_(.5,.5,0,0,"Center"),_(1,0,0,-1,"TopRight"),_(1,1,0,1,"BottomRight"),_(0,0,0,-1,"TopLeft"),_(0,1,0,1,"BottomLeft"),F.Defaults.DynamicAnchors=function(_){return _.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],_.elementId,_.jsPlumbInstance)},F.Anchors.AutoDefault=function(_){_=_.jsPlumbInstance.makeDynamicAnchor(F.Defaults.DynamicAnchors(_));return _.type="AutoDefault",_};function n(n,o){F.Anchors[n]=function(_){_=_.jsPlumbInstance.makeAnchor(["Continuous",{faces:o}],_.elementId,_.jsPlumbInstance);return _.type=n,_}}F.Anchors.Continuous=function(_){return _.jsPlumbInstance.continuousAnchorFactory.get(_)},n("ContinuousLeft",["left"]),n("ContinuousTop",["top"]),n("ContinuousBottom",["bottom"]),n("ContinuousRight",["right"]),_(0,0,0,0,"Assign",function(_,n){var o=n.position||"Fixed";_.positionFinder=o.constructor===String?n.jsPlumbInstance.AnchorPositionFinders[o]:o,_.constructorParams=n}),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(_,n,o){return[(_.left-n.left)/o[0],(_.top-n.top)/o[1]]},Grid:function(_,n,o,i){var w=_.left-n.left,_=_.top-n.top,n=o[0]/i.grid[0],i=o[1]/i.grid[1],w=Math.floor(w/n),_=Math.floor(_/i);return[(w*n+n/2)/o[0],(_*i+i/2)/o[1]]}},F.Anchors.Perimeter=function(_){var a=(_=_||{}).anchorCount||60,n=_.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");function o(){for(var _=2*Math.PI/a,n=0,o=[],i=0;i<a;i++){var w=.5+.5*Math.sin(n),t=.5+.5*Math.cos(n);o.push([w,t,0,0]),n+=_}return o}function d(_){_.length;for(var r,s=[],n=function(_,n,o,i,w,t,e){for(var d=(o-_)/(r=a*w),$=(i-n)/r,j=0;j<r;j++)s.push([_+d*j,n+$*j,null==t?0:t,null==e?0:e])},o=0;o<_.length;o++)n.apply(null,_[o]);return s}function i(_){for(var n=[],o=0;o<_.length;o++)n.push([_[o][0],_[o][1],_[o][2],_[o][3],1/_.length,_[o][4],_[o][5]]);return d(n)}var w=function(){return i([[0,0,1,0,0,-1],[1,0,1,1,1,0],[1,1,0,1,0,1],[0,1,0,0,-1,0]])},w={Circle:o,Ellipse:o,Diamond:function(){return i([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:w,Square:w,Triangle:function(){return i([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(_){for(var n=_.points,o=[],i=0,w=0;w<n.length-1;w++){var t=Math.sqrt(Math.pow(n[w][2]-n[w][0])+Math.pow(n[w][3]-n[w][1]));i+=t,o.push([n[w][0],n[w][1],n[w+1][0],n[w+1][1],t])}for(var e=0;e<o.length;e++)o[e][4]=o[e][4]/i;return d(o)}};if(!w[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");n=w[n](_);_.rotation&&(n=function(_,n){for(var o=[],i=n/180*Math.PI,w=0;w<_.length;w++){var t=_[w][0]-.5,e=_[w][1]-.5;o.push([t*Math.cos(i)-e*Math.sin(i)+.5,t*Math.sin(i)+e*Math.cos(i)+.5,_[w][2],_[w][3]])}return o}(n,_.rotation));n=_.jsPlumbInstance.makeDynamicAnchor(n);return n.type="Perimeter",n}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";this.jsPlumbUtil;var n=this.jsPlumb;n.DefaultRouter=function(_){this.jsPlumbInstance=_,this.anchorManager=new n.AnchorManager({jsPlumbInstance:_}),this.sourceOrTargetChanged=function(_,n,o,i,w){this.anchorManager.sourceOrTargetChanged(_,n,o,i,w)},this.reset=function(){this.anchorManager.reset()},this.changeId=function(_,n){this.anchorManager.changeId(_,n)},this.elementRemoved=function(_){this.anchorManager.elementRemoved(_)},this.newConnection=function(_){this.anchorManager.newConnection(_)},this.connectionDetached=function(_,n){this.anchorManager.connectionDetached(_,n)},this.redraw=function(_,n,o,i,w,t){return this.anchorManager.redraw(_,n,o,i,w,t)},this.deleteEndpoint=function(_){this.anchorManager.deleteEndpoint(_)},this.rehomeEndpoint=function(_,n,o){this.anchorManager.rehomeEndpoint(_,n,o)},this.addEndpoint=function(_,n){this.anchorManager.addEndpoint(_,n)}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var w=this,r=w.jsPlumb,s=w.jsPlumbUtil,p=w.Biltong;r.Segments={AbstractSegment:function(_){this.params=_,this.findClosestPointOnPath=function(_,n){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(_.x1,_.x2),minY:Math.min(_.y1,_.y2),maxX:Math.max(_.x1,_.x2),maxY:Math.max(_.y1,_.y2)}},this.lineIntersection=function(_,n,o,i){return[]},this.boxIntersection=function(_,n,o,i){var w=[];return w.push.apply(w,this.lineIntersection(_,n,_+o,n)),w.push.apply(w,this.lineIntersection(_+o,n,_+o,n+i)),w.push.apply(w,this.lineIntersection(_+o,n+i,_,n+i)),w.push.apply(w,this.lineIntersection(_,n+i,_,n)),w},this.boundingBoxIntersection=function(_){return this.boxIntersection(_.x,_.y,_.w,_.y)}},Straight:function(_){var t,s,e,a,l,u,c;r.Segments.AbstractSegment.apply(this,arguments);this.type="Straight",this.getLength=function(){return t},this.getGradient=function(){return s},this.getCoordinates=function(){return{x1:a,y1:u,x2:l,y2:c}},this.setCoordinates=function(_){a=_.x1,u=_.y1,l=_.x2,c=_.y2,t=Math.sqrt(Math.pow(l-a,2)+Math.pow(c-u,2)),s=p.gradient({x:a,y:u},{x:l,y:c}),e=-1/s},this.setCoordinates({x1:_.x1,y1:_.y1,x2:_.x2,y2:_.y2}),this.getBounds=function(){return{minX:Math.min(a,l),minY:Math.min(u,c),maxX:Math.max(a,l),maxY:Math.max(u,c)}},this.pointOnPath=function(_,n){if(0!==_||n){if(1!==_||n){_=n?0<_?_:t+_:_*t;return p.pointOnLine({x:a,y:u},{x:l,y:c},_)}return{x:l,y:c}}return{x:a,y:u}},this.gradientAtPoint=function(_){return s},this.pointAlongPathFrom=function(_,n,o){_=this.pointOnPath(_,o),o=n<=0?{x:a,y:u}:{x:l,y:c};return n<=0&&1<Math.abs(n)&&(n*=-1),p.pointOnLine(_,o,n)};function d(_,n,o){return o>=Math.min(_,n)&&o<=Math.max(_,n)}function $(_,n,o){return Math.abs(o-_)<Math.abs(o-n)?_:n}this.findClosestPointOnPath=function(_,n){var o,i={d:1/0,x:null,y:null,l:null,x1:a,x2:l,y1:u,y2:c};0===s?(i.y=u,i.x=d(a,l,_)?_:$(a,l,_)):s===1/0||s===-1/0?(i.x=a,i.y=d(u,c,n)?n:$(u,c,n)):(w=s*(o=(n-e*_-(w=u-s*a))/(s-e))+w,i.x=d(a,l,o)?o:$(a,l,o),i.y=d(u,c,w)?w:$(u,c,w));var w=p.lineLength([i.x,i.y],[a,u]);return i.d=p.lineLength([_,n],[i.x,i.y]),i.l=w/t,i};var h=function(_,n,o){return n<o?n<=_&&_<=o:_<=n&&o<=_};this.lineIntersection=function(_,n,o,i){var w,t,e=Math.abs(p.gradient({x:_,y:n},{x:o,y:i})),d=Math.abs(s),$=d===1/0?a:u-d*a,j=[],r=e===1/0?_:n-e*_;return e!==d&&(e===1/0&&0===d?h(_,a,l)&&h(u,n,i)&&(j=[_,u]):0===e&&d===1/0?h(n,u,c)&&h(a,_,o)&&(j=[a,n]):e===1/0?h(w=_,a,l)&&h(t=d*_+$,n,i)&&(j=[w,t]):0===e?h(t=n,u,c)&&h(w=(n-$)/d,_,o)&&(j=[w,t]):(t=d*(w=(r-$)/(d-e))+$,h(w,a,l)&&h(t,u,c)&&(j=[w,t]))),j},this.boxIntersection=function(_,n,o,i){var w=[];return w.push.apply(w,this.lineIntersection(_,n,_+o,n)),w.push.apply(w,this.lineIntersection(_+o,n,_+o,n+i)),w.push.apply(w,this.lineIntersection(_+o,n+i,_,n+i)),w.push.apply(w,this.lineIntersection(_,n+i,_,n)),w},this.boundingBoxIntersection=function(_){return this.boxIntersection(_.x,_.y,_.w,_.h)}},Arc:function(i){r.Segments.AbstractSegment.apply(this,arguments);var _=function(_,n){return p.theta([i.cx,i.cy],[_,n])},w=2*Math.PI;this.radius=i.r,this.anticlockwise=i.ac,this.type="Arc",i.startAngle&&i.endAngle?(this.startAngle=i.startAngle,this.endAngle=i.endAngle,this.x1=i.cx+this.radius*Math.cos(i.startAngle),this.y1=i.cy+this.radius*Math.sin(i.startAngle),this.x2=i.cx+this.radius*Math.cos(i.endAngle),this.y2=i.cy+this.radius*Math.sin(i.endAngle)):(this.startAngle=_(i.x1,i.y1),this.endAngle=_(i.x2,i.y2),this.x1=i.x1,this.y1=i.y1,this.x2=i.x2,this.y2=i.y2),this.endAngle<0&&(this.endAngle+=w),this.startAngle<0&&(this.startAngle+=w);_=this.endAngle<this.startAngle?this.endAngle+w:this.endAngle;this.sweep=Math.abs(_-this.startAngle),this.anticlockwise&&(this.sweep=w-this.sweep);var t=2*Math.PI*this.radius,_=this.sweep/w,e=t*_;this.getLength=function(){return e},this.getBounds=function(){return{minX:i.cx-i.r,maxX:i.cx+i.r,minY:i.cy-i.r,maxY:i.cy+i.r}};function d(_){var n=Math.floor(_),o=Math.ceil(_);return _-n<1e-10?n:o-_<1e-10?o:_}this.pointOnPath=function(_,n){if(0===_)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===_)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(_/=e);var o=function(_,n){if(_.anticlockwise){var o=_.startAngle<_.endAngle?_.startAngle+w:_.startAngle;return o-Math.abs(o-_.endAngle)*n}o=_.endAngle<_.startAngle?_.endAngle+w:_.endAngle,o=Math.abs(o-_.startAngle);return _.startAngle+o*n}(this,_),n=i.cx+i.r*Math.cos(o),_=i.cy+i.r*Math.sin(o);return{x:d(n),y:d(_),theta:o}},this.gradientAtPoint=function(_,n){n=this.pointOnPath(_,n),n=p.normal([i.cx,i.cy],[n.x,n.y]);return this.anticlockwise||n!==1/0&&n!==-1/0||(n*=-1),n},this.pointAlongPathFrom=function(_,n,o){_=this.pointOnPath(_,o),o=n/t*2*Math.PI,n=this.anticlockwise?-1:1,o=_.theta+n*o;return{x:i.cx+this.radius*Math.cos(o),y:i.cy+this.radius*Math.sin(o)}}},Bezier:function(_){this.curve=[{x:_.x1,y:_.y1},{x:_.cp1x,y:_.cp1y},{x:_.cp2x,y:_.cp2y},{x:_.x2,y:_.y2}];var t=function(_){var n={x:0,y:0};if(0===_)return this.curve[0];var o=this.curve.length-1;if(1===_)return this.curve[o];var i=this.curve,w=1-_;if(0==o)return this.curve[0];if(1==o)return{x:w*i[0].x+_*i[1].x,y:w*i[0].y+_*i[1].y};if(o<4){var t,e,d,$=w*w,j=_*_,r=0;return 2==o?(i=[i[0],i[1],i[2],n],t=$,e=w*_*2,d=j):3==o&&(t=$*w,e=$*_*3,d=w*j*3,r=_*j),{x:t*i[0].x+e*i[1].x+d*i[2].x+r*i[3].x,y:t*i[0].y+e*i[1].y+d*i[2].y+r*i[3].y}}return n}.bind(this),n=function(){var _;(_=this.curve)[0].x===_[1].x&&_[0].y===_[1].y&&(this.length=0);for(var n=function(_){var n=[];_--;for(var o=0;o<=_;o++)n.push(t(o/_));return n}(16),o=this.length=0;o<15;o++){var i=n[o],w=n[o+1];this.length+=(i=i,w=w,Math.sqrt(Math.pow(i.x-w.x,2)+Math.pow(i.y-w.y,2)))}}.bind(this);r.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(_.x1,_.x2,_.cp1x,_.cp2x),minY:Math.min(_.y1,_.y2,_.cp1y,_.cp2y),maxX:Math.max(_.x1,_.x2,_.cp1x,_.cp2x),maxY:Math.max(_.y1,_.y2,_.cp1y,_.cp2y)},this.type="Bezier",n();function i(_,n,o){return n=o?w.jsBezier.locationAlongCurveFrom(_,0<n?0:1,n):n}this.pointOnPath=function(_,n){return _=i(this.curve,_,n),w.jsBezier.pointOnCurve(this.curve,_)},this.gradientAtPoint=function(_,n){return _=i(this.curve,_,n),w.jsBezier.gradientAtPoint(this.curve,_)},this.pointAlongPathFrom=function(_,n,o){return _=i(this.curve,_,o),w.jsBezier.pointAlongCurveFrom(this.curve,_,n)},this.getLength=function(){return this.length},this.getBounds=function(){return this.bounds},this.findClosestPointOnPath=function(_,n){var o=w.jsBezier.nearestPointOnCurve({x:_,y:n},this.curve);return{d:Math.sqrt(Math.pow(o.point.x-_,2)+Math.pow(o.point.y-n,2)),x:o.point.x,y:o.point.y,l:1-o.location,s:this}},this.lineIntersection=function(_,n,o,i){return w.jsBezier.lineIntersection(_,n,o,i,this.curve)}}},r.SegmentRenderer={getPath:function(w,_){return{Straight:function(_){var n=w.getCoordinates();return(_?"M "+n.x1+" "+n.y1+" ":"")+"L "+n.x2+" "+n.y2},Bezier:function(_){var n=w.params;return(_?"M "+n.x2+" "+n.y2+" ":"")+"C "+n.cp2x+" "+n.cp2y+" "+n.cp1x+" "+n.cp1y+" "+n.x1+" "+n.y1},Arc:function(_){var n=w.params,o=w.sweep>Math.PI?1:0,i=w.anticlockwise?0:1;return(_?"M"+w.x1+" "+w.y1+" ":"")+"A "+w.radius+" "+n.r+" 0 "+o+","+i+" "+w.x2+" "+w.y2}}[w.type](_)}};function a(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()}r.Connectors.AbstractConnector=function(_){a.apply(this,arguments);var n,e=[],t=0,d=[],$=[],o=_.stub||0,l=s.isArray(o)?o[0]:o,u=s.isArray(o)?o[1]:o,_=_.gap||0,c=s.isArray(_)?_[0]:_,h=s.isArray(_)?_[1]:_,i=null;this.getPathData=function(){for(var _="",n=0;n<e.length;n++)_+=r.SegmentRenderer.getPath(e[n],0===n),_+=" ";return _},this.findSegmentForPoint=function(_,n){for(var o={d:1/0,s:null,x:null,y:null,l:null},i=0;i<e.length;i++){var w=e[i].findClosestPointOnPath(_,n);w.d<o.d&&(o.d=w.d,o.l=w.l,o.x=w.x,o.y=w.y,o.s=e[i],o.x1=w.x1,o.x2=w.x2,o.y1=w.y1,o.y2=w.y2,o.index=i,o.connectorLocation=d[i][0]+w.l*(d[i][1]-d[i][0]))}return o},this.lineIntersection=function(_,n,o,i){for(var w=[],t=0;t<e.length;t++)w.push.apply(w,e[t].lineIntersection(_,n,o,i));return w},this.boxIntersection=function(_,n,o,i){for(var w=[],t=0;t<e.length;t++)w.push.apply(w,e[t].boxIntersection(_,n,o,i));return w},this.boundingBoxIntersection=function(_){for(var n=[],o=0;o<e.length;o++)n.push.apply(n,e[o].boundingBoxIntersection(_));return n};function w(_,n){var o,i,w;if(1===(_=n?0<_?_/t:(t+_)/t:_))o=e.length-1,w=1;else if(0===_)o=w=0;else if(.5<=_){for(w=o=0,i=d.length-1;-1<i;i--)if(d[i][1]>=_&&d[i][0]<=_){w=(_-d[o=i][0])/$[i];break}}else for(o=d.length-1,w=1,i=0;i<d.length;i++)if(d[i][1]>=_){w=(_-d[o=i][0])/$[i];break}return{segment:e[o],proportion:w,index:o}}this.setSegments=function(_){i=[];for(var n=t=0;n<_.length;n++)i.push(_[n]),t+=_[n].getLength()},this.getLength=function(){return t};function j(_){this.strokeWidth=_.strokeWidth;var n=p.quadrant(_.sourcePos,_.targetPos),o=_.targetPos[0]<_.sourcePos[0],i=_.targetPos[1]<_.sourcePos[1],w=_.strokeWidth||1,t=_.sourceEndpoint.anchor.getOrientation(_.sourceEndpoint),e=_.targetEndpoint.anchor.getOrientation(_.targetEndpoint),d=(o?_.targetPos:_.sourcePos)[0],$=(i?_.targetPos:_.sourcePos)[1],j=Math.abs(_.targetPos[0]-_.sourcePos[0]),r=Math.abs(_.targetPos[1]-_.sourcePos[1]);(0===t[0]&&0===t[1]||0===e[0]&&0===e[1])&&(a=[1,0][s=r<j?0:1],e=[],(t=[])[s]=_.sourcePos[s]>_.targetPos[s]?-1:1,e[s]=_.sourcePos[s]>_.targetPos[s]?1:-1,t[a]=0,e[a]=0);var _=o?j+c*t[0]:c*t[0],s=i?r+c*t[1]:c*t[1],a=o?h*e[0]:j+h*e[0],o=i?h*e[1]:r+h*e[1],i=t[0]*e[0]+t[1]*e[1];return(o={sx:_,sy:s,tx:a,ty:o,lw:w,xSpan:Math.abs(a-_),ySpan:Math.abs(o-s),mx:(_+a)/2,my:(s+o)/2,so:t,to:e,x:d,y:$,w:j,h:r,segment:n,startStubX:_+t[0]*l,startStubY:s+t[1]*l,endStubX:a+e[0]*u,endStubY:o+e[1]*u,isXGreaterThanStubTimes2:Math.abs(_-a)>l+u,isYGreaterThanStubTimes2:Math.abs(s-o)>l+u,opposite:-1==i,perpendicular:0==i,orthogonal:1==i,sourceAxis:0===t[0]?"y":"x",points:[d,$,j,r,_,s,a,o],stubs:[l,u]}).anchorOrientation=o.opposite?"opposite":o.orthogonal?"orthogonal":"perpendicular",o}this.getSegments=function(){return e},this.updateBounds=function(_){_=_.getBounds();this.bounds.minX=Math.min(this.bounds.minX,_.minX),this.bounds.maxX=Math.max(this.bounds.maxX,_.maxX),this.bounds.minY=Math.min(this.bounds.minY,_.minY),this.bounds.maxY=Math.max(this.bounds.maxY,_.maxY)};return this.pointOnPath=function(_,n){n=w(_,n);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(_,n){n=w(_,n);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(_,n,o){o=w(_,o);return o.segment&&o.segment.pointAlongPathFrom(o.proportion,n,!1)||[0,0]},this.compute=function(_){n=j.call(this,_),t=e.length=d.length=$.length=0,this._compute(n,_),this.x=n.points[0],this.y=n.points[1],this.w=n.points[2],this.h=n.points[3],this.segment=n.segment,function(){for(var _=0,n=0;n<e.length;n++){var o=e[n].getLength();$[n]=o/t,d[n]=[_,_+=o/t]}}()},{addSegment:function(_,n,o){o.x1===o.x2&&o.y1===o.y2||(o=new r.Segments[n](o),e.push(o),t+=o.getLength(),_.updateBounds(o))},prepareCompute:j,sourceStub:l,targetStub:u,maxStub:Math.max(l,u),sourceGap:c,targetGap:h,maxGap:Math.max(c,h)}},s.extend(r.Connectors.AbstractConnector,a),r.Endpoints.AbstractEndpoint=function(_){return a.apply(this,arguments),{compute:this.compute=function(_,n,o,i){var w=this._compute.apply(this,arguments);return this.x=w[0],this.y=w[1],this.w=w[2],this.h=w[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,w},cssClass:_.cssClass}},s.extend(r.Endpoints.AbstractEndpoint,a),r.Endpoints.Dot=function(_){this.type="Dot";r.Endpoints.AbstractEndpoint.apply(this,arguments);_=_||{},this.radius=_.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(_,n,o,i){this.radius=o.radius||this.radius;var w=_[0]-this.radius,t=_[1]-this.radius,e=2*this.radius,_=2*this.radius;return o.stroke&&(w-=o=o.strokeWidth||1,t-=o,e+=2*o,_+=2*o),[w,t,e,_,this.radius]}},s.extend(r.Endpoints.Dot,r.Endpoints.AbstractEndpoint),r.Endpoints.Rectangle=function(_){this.type="Rectangle";r.Endpoints.AbstractEndpoint.apply(this,arguments);_=_||{},this.width=_.width||20,this.height=_.height||20,this._compute=function(_,n,o,i){var w=o.width||this.width,o=o.height||this.height;return[_[0]-w/2,_[1]-o/2,w,o]}},s.extend(r.Endpoints.Rectangle,r.Endpoints.AbstractEndpoint);function t(_){r.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]}s.extend(t,r.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(_){this._jsPlumb.displayElements.push(_)}}),r.Endpoints.Image=function(_){this.type="Image",t.apply(this,arguments),r.Endpoints.AbstractEndpoint.apply(this,arguments);var o=_.onload,n=_.src||_.url,i=_.cssClass?" "+_.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=_.width,this._jsPlumb.heightToUse=_.height,this._jsPlumb.endpoint=_.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,o&&o(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(_,n){_=_.constructor===String?_:_.src;o=n,this._jsPlumb.img.src=_,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(n,o),this._compute=function(_,n,o,i){return this.anchorPoint=_,this._jsPlumb.ready?[_[0]-this._jsPlumb.widthToUse/2,_[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=r.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+i),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(_,n,o){var i,w;this._jsPlumb.deleted||(this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0),i=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,w=this.anchorPoint[1]-this._jsPlumb.heightToUse/2,s.sizeElement(this.canvas,i,w,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse))},this.paint=function(_,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(_,n):w.setTimeout(function(){this.paint(_,n)}.bind(this),200))}},s.extend(r.Endpoints.Image,[t,r.Endpoints.AbstractEndpoint],{cleanup:function(_){_&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),r.Endpoints.Blank=function(_){r.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",t.apply(this,arguments),this._compute=function(_,n,o,i){return[_[0],_[1],10,0]};_=_.cssClass?" "+_.cssClass:"";this.canvas=r.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+_),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(_,n){s.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},s.extend(r.Endpoints.Blank,[r.Endpoints.AbstractEndpoint,t],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),r.Endpoints.Triangle=function(_){this.type="Triangle",r.Endpoints.AbstractEndpoint.apply(this,arguments);var t=this;(_=_||{}).width=_.width||55,_.height=_.height||55,this.width=_.width,this.height=_.height,this._compute=function(_,n,o,i){var w=o.width||t.width,o=o.height||t.height;return[_[0]-w/2,_[1]-o/2,w,o]}};var n=r.Overlays.AbstractOverlay=function(_){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=_.component,this.loc=null==_.location?.5:_.location,this.endpointLoc=null==_.endpointLocation?[.5,.5]:_.endpointLocation,this.visible=!1!==_.visible};n.prototype={cleanup:function(_){_&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(_,n){},setVisible:function(_){this.visible=_,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(_){this.loc+=_,this.component.repaint()},setLocation:function(_){this.loc=_,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},r.Overlays.Arrow=function(i){this.type="Arrow",n.apply(this,arguments),this.isAppendedAtTopLevel=!1,i=i||{};var _=this;this.length=i.length||20,this.width=i.width||20,this.id=i.id,this.direction=(i.direction||1)<0?-1:1;var d=i.paintStyle||{"stroke-width":1},$=i.foldback||.623;this.computeMaxSize=function(){return 1.5*_.width},this.elementCreated=function(_,n){if(this.path=_,i.events)for(var o in i.events)r.on(_,o,i.events[o])},this.draw=function(_,n){var o,i;if(_.pointAlongPathFrom){s.isString(this.loc)||1<this.loc||this.loc<0?(e=parseInt(this.loc,10),t=this.loc<0?1:0,o=_.pointAlongPathFrom(t,e,!1),t=_.pointAlongPathFrom(t,e-this.direction*this.length/2,!1),e=p.pointOnLine(o,t,this.length)):1===this.loc?(o=_.pointOnPath(this.loc),t=_.pointAlongPathFrom(this.loc,-this.length),e=p.pointOnLine(o,t,this.length),-1===this.direction&&(i=e,e=o,o=i)):0===this.loc?(e=_.pointOnPath(this.loc),t=_.pointAlongPathFrom(this.loc,this.length),o=p.pointOnLine(e,t,this.length),-1===this.direction&&(w=e,e=o,o=w)):(o=_.pointAlongPathFrom(this.loc,this.direction*this.length/2),t=_.pointOnPath(this.loc),e=p.pointOnLine(o,t,this.length));var w={hxy:o,tail:i=p.perpendicularLineTo(o,e,this.width),cxy:p.pointOnLine(o,e,$*this.length)},t=d.stroke||n.stroke,e=d.fill||n.stroke;return{component:_,d:w,"stroke-width":d.strokeWidth||n.strokeWidth,stroke:t,fill:e,minX:Math.min(o.x,i[0].x,i[1].x),maxX:Math.max(o.x,i[0].x,i[1].x),minY:Math.min(o.y,i[0].y,i[1].y),maxY:Math.max(o.y,i[0].y,i[1].y)}}return{component:_,minX:0,maxX:0,minY:0,maxY:0}}},s.extend(r.Overlays.Arrow,n,{updateFrom:function(_){this.length=_.length||this.length,this.width=_.width||this.width,this.direction=(null!=_.direction?_:this).direction,this.foldback=_.foldback||this.foldback},cleanup:function(){this.path&&this.path.parentNode&&this.path.parentNode.removeChild(this.path)}}),r.Overlays.PlainArrow=function(_){_=_||{};_=r.extend(_,{foldback:1});r.Overlays.Arrow.call(this,_),this.type="PlainArrow"},s.extend(r.Overlays.PlainArrow,r.Overlays.Arrow),r.Overlays.Diamond=function(_){var n=(_=_||{}).length||40,n=r.extend(_,{length:n/2,foldback:2});r.Overlays.Arrow.call(this,n),this.type="Diamond"},s.extend(r.Overlays.Diamond,r.Overlays.Arrow);function d(_,n){return null!=_._jsPlumb.cachedDimensions&&!n||(_._jsPlumb.cachedDimensions=_.getDimensions()),_._jsPlumb.cachedDimensions}function o(o){r.jsPlumbUIComponent.apply(this,arguments),n.apply(this,arguments);var _=this.fire;this.fire=function(){_.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=o.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=o.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=o.create,this._jsPlumb.initiallyInvisible=!1===o.visible,this.getElement=function(){var _,n;return null==this._jsPlumb.div&&((_=this._jsPlumb.div=r.getElement(this._jsPlumb.create(this._jsPlumb.component))).style.position="absolute",jsPlumb.addClass(_,this._jsPlumb.instance.overlayClass+" "+(this.cssClass||o.cssClass||"")),this._jsPlumb.instance.appendElement(_),this._jsPlumb.instance.getId(_),n="translate(-50%, -50%)",(this.canvas=_).style.webkitTransform=n,_.style.mozTransform=n,_.style.msTransform=n,_.style.oTransform=n,_.style.transform=n,_._jsPlumb=this,!1===o.visible&&(_.style.display="none")),this._jsPlumb.div},this.draw=function(_,n,o){var i=d(this);if(null==i||2!==i.length)return{minX:0,maxX:0,minY:0,maxY:0};var w={x:0,y:0},t=(w=o?{x:o[0],y:o[1]}:_.pointOnPath?(o=this.loc,t=!1,(s.isString(this.loc)||this.loc<0||1<this.loc)&&(o=parseInt(this.loc,10),t=!0),_.pointOnPath(o,t)):{x:(e=this.loc.constructor===Array?this.loc:this.endpointLoc)[0]*_.w,y:e[1]*_.h}).x-i[0]/2,e=w.y-i[1]/2;return{component:_,d:{minx:t,miny:e,td:i,cxy:w},minX:t,maxX:t+i[0],minY:e,maxY:e+i[1]}}}s.extend(o,[r.jsPlumbUIComponent,n],{getDimensions:function(){return[1,1]},setVisible:function(_){this._jsPlumb.div&&(this._jsPlumb.div.style.display=_?"block":"none",_&&this._jsPlumb.initiallyInvisible&&(d(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(_){_?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(_,n){null!=this._jsPlumb.div&&_.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var _=d(this);return Math.max(_[0],_[1])},paint:function(_,n){this._jsPlumb.initialised||(this.getElement(),_.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=_.component.x+_.d.minx+"px",this._jsPlumb.div.style.top=_.component.y+_.d.miny+"px"}}),r.Overlays.Custom=function(_){this.type="Custom",o.apply(this,arguments)},s.extend(r.Overlays.Custom,o),r.Overlays.GuideLines=function(){var e=this;e.length=50,e.strokeWidth=5,this.type="GuideLines",n.apply(this,arguments),r.jsPlumbUIComponent.apply(this,arguments),this.draw=function(_,n){var o=_.pointAlongPathFrom(e.loc,e.length/2),i=_.pointOnPath(e.loc),w=p.pointOnLine(o,i,e.length),t=p.perpendicularLineTo(o,w,40),i=p.perpendicularLineTo(w,o,20);return{connector:_,head:o,tail:w,headLine:i,tailLine:t,minX:Math.min(o.x,w.x,i[0].x,i[1].x),minY:Math.min(o.y,w.y,i[0].y,i[1].y),maxX:Math.max(o.x,w.x,i[0].x,i[1].x),maxY:Math.max(o.y,w.y,i[0].y,i[1].y)}}},r.Overlays.Label=function(_){this.labelStyle=_.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=r.extend({create:function(){return r.createElement("div")}},_);r.Overlays.Custom.call(this,n),this.type="Label",this.label=_.label||"",this.labelText=null,this.labelStyle&&(n=this.getElement(),this.labelStyle.font=this.labelStyle.font||"12px sans-serif",n.style.font=this.labelStyle.font,n.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(n.style.background=this.labelStyle.fill),0<this.labelStyle.borderWidth&&(_=this.labelStyle.borderStyle||"black",n.style.border=this.labelStyle.borderWidth+"px solid "+_),this.labelStyle.padding&&(n.style.padding=this.labelStyle.padding))},s.extend(r.Overlays.Label,r.Overlays.Custom,{cleanup:function(_){_&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(_){this.label=_,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),o.prototype.getDimensions.apply(this,arguments)},update:function(){var _;"function"==typeof this.label?(_=this.label(this),this.getElement().innerHTML=_.replace(/\r\n/g,"<br/>")):null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(_){null!=_.label&&this.setLabel(_.label)}})}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var n=this.jsPlumb,_=this.jsPlumbUtil;n.Connectors.AbstractBezierConnector=function(_){var a,l=!1!==(_=_||{}).showLoopback,u=(_.curviness,_.margin||5),c=(_.proximityLimit,_.orientation&&"clockwise"===_.orientation),h=_.loopbackRadius||25;return this._compute=function(_,n){var o,i,w,t,e,d,$=n.sourcePos,j=n.targetPos,r=Math.abs($[0]-j[0]),s=Math.abs($[1]-j[1]);l&&n.sourceEndpoint.elementId===n.targetEndpoint.elementId?(o=n.sourcePos[0],i=n.sourcePos[1]-u,e=(w=o)-h,d=(t=i-h)-h,s=r=2*h,_.points[0]=e,_.points[1]=d,_.points[2]=r,_.points[3]=s,a.addSegment(this,"Arc",{loopback:!0,x1:o-e+4,y1:i-d,startAngle:0,endAngle:2*Math.PI,r:h,ac:!c,x2:o-e-4,y2:i-d,cx:w-e,cy:t-d})):this._computeBezier(_,n,$,j,r,s)},a=n.Connectors.AbstractConnector.apply(this,arguments)},_.extend(n.Connectors.AbstractBezierConnector,n.Connectors.AbstractConnector);function o(_){_=_||{},this.type="Bezier";var j=n.Connectors.AbstractBezierConnector.apply(this,arguments),$=_.curviness||150;this.getCurviness=function(){return $},this._findControlPoint=function(_,n,o,i,w,t,e){var d=[];return t[0]!==e[0]||t[1]===e[1]?(0===e[0]?d.push(o[0]<n[0]?_[0]+10:_[0]-10):d.push(_[0]+$*e[0]),0===e[1]?d.push(o[1]<n[1]?_[1]+10:_[1]-10):d.push(_[1]+$*t[1])):(0===t[0]?d.push(n[0]<o[0]?_[0]+10:_[0]-10):d.push(_[0]-$*t[0]),0===t[1]?d.push(n[1]<o[1]?_[1]+10:_[1]-10):d.push(_[1]+$*e[1])),d},this._computeBezier=function(_,n,o,i,w,t){var e=o[0]<i[0]?w:0,d=o[1]<i[1]?t:0,$=o[0]<i[0]?0:w,w=o[1]<i[1]?0:t,t=this._findControlPoint([e,d],o,i,n.sourceEndpoint,n.targetEndpoint,_.so,_.to),_=this._findControlPoint([$,w],i,o,n.targetEndpoint,n.sourceEndpoint,_.to,_.so);j.addSegment(this,"Bezier",{x1:e,y1:d,x2:$,y2:w,cp1x:t[0],cp1y:t[1],cp2x:_[0],cp2y:_[1]})}}n.Connectors.Bezier=o,_.extend(o,n.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function _(_){_=_||{},this.type="StateMachine";var c,h=n.Connectors.AbstractBezierConnector.apply(this,arguments),p=_.curviness||10,f=_.margin||5,g=_.proximityLimit||80;_.orientation&&_.orientation,this._computeBezier=function(_,n,o,i,w,t){var e=n.sourcePos[0]<n.targetPos[0]?0:w,d=n.sourcePos[1]<n.targetPos[1]?0:t,$=n.sourcePos[0]<n.targetPos[0]?w:0,j=n.sourcePos[1]<n.targetPos[1]?t:0;0===n.sourcePos[2]&&(e-=f),1===n.sourcePos[2]&&(e+=f),0===n.sourcePos[3]&&(d-=f),1===n.sourcePos[3]&&(d+=f),0===n.targetPos[2]&&($-=f),1===n.targetPos[2]&&($+=f),0===n.targetPos[3]&&(j-=f),1===n.targetPos[3]&&(j+=f);var r,s,a,l=(e+$)/2,u=(d+j)/2,t=(s=d,a=j,(r=e)<=(w=$)&&a<=s?1:r<=w&&s<=a?2:w<=r&&s<=a?3:4),w=Math.sqrt(Math.pow($-e,2)+Math.pow(j-d,2));r=l,s=u,a=t,l=n.sourcePos,u=n.targetPos,n=t=p,r=(c=w<=g?[r,s]:1===a?l[3]<=0&&1<=u[3]?[r+(l[2]<.5?-1*t:t),s]:1<=l[2]&&u[2]<=0?[r,s+(l[3]<.5?-1*n:n)]:[r+-1*t,s+-1*n]:2===a?1<=l[3]&&u[3]<=0?[r+(l[2]<.5?-1*t:t),s]:1<=l[2]&&u[2]<=0?[r,s+(l[3]<.5?-1*n:n)]:[r+t,s+-1*n]:3===a?1<=l[3]&&u[3]<=0?[r+(l[2]<.5?-1*t:t),s]:l[2]<=0&&1<=u[2]?[r,s+(l[3]<.5?-1*n:n)]:[r+-1*t,s+-1*n]:4===a?l[3]<=0&&1<=u[3]?[r+(l[2]<.5?-1*t:t),s]:l[2]<=0&&1<=u[2]?[r,s+(l[3]<.5?-1*n:n)]:[r+t,s+-1*n]:void 0)[0],t=c[0],s=c[1],n=c[1],h.addSegment(this,"Bezier",{x1:$,y1:j,x2:e,y2:d,cp1x:r,cp1y:s,cp2x:t,cp2y:n})}}var n=this.jsPlumb,o=this.jsPlumbUtil;n.Connectors.StateMachine=_,o.extend(_,n.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var o=this.jsPlumb,_=this.jsPlumbUtil,P="Straight";o.Connectors.Flowchart=function(_){this.type="Flowchart",(_=_||{}).stub=null==_.stub?30:_.stub;function n(_){return _<0?-1:0===_?0:1}function u(_){return[n(_[2]-_[0]),n(_[3]-_[1])]}function d(_,n,o,i){var w,t;v===n&&y===o||(w=null==v?i.sx:v,t=null==y?i.sy:y,i=w===n?"v":"h",v=n,y=o,_.push([w,t,n,o,i]))}function c(_){return Math.sqrt(Math.pow(_[0]-_[2],2)+Math.pow(_[1]-_[3],2))}function h(_){var n=[];return n.push.apply(n,_),n}var p,f=o.Connectors.AbstractConnector.apply(this,arguments),g=null==_.midpoint?.5:_.midpoint,m=!0===_.alwaysRespectStubs,v=null,y=null,b=null!=_.cornerRadius?_.cornerRadius:0;_.loopbackRadius;this._compute=function(r,$){p=[],y=v=null;var _=function(){return[r.startStubX,r.startStubY,r.endStubX,r.endStubY]},n={perpendicular:_,orthogonal:_,opposite:function(_){var n=r,o="x"===_?0:1;return!m&&{x:function(){return 1===n.so[o]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1===n.so[o]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1===n.so[o]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1===n.so[o]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}}[_]()?{x:[(r.sx+r.tx)/2,r.startStubY,(r.sx+r.tx)/2,r.endStubY],y:[r.startStubX,(r.sy+r.ty)/2,r.endStubX,(r.sy+r.ty)/2]}[_]:[r.startStubX,r.startStubY,r.endStubX,r.endStubY]}}[r.anchorOrientation](r.sourceAxis),j="x"===r.sourceAxis?0:1,o="x"===r.sourceAxis?1:0,i=n[j],w=n[o],_=n[2+j],o=n[2+o];d(p,n[0],n[1],r);var s=r.startStubX+(r.endStubX-r.startStubX)*g,a=r.startStubY+(r.endStubY-r.startStubY)*g,l={x:[0,1],y:[1,0]},t={perpendicular:function(_){var n={x:[[r.startStubX,r.endStubX],null,[r.endStubX,r.startStubX]],y:[[r.startStubY,r.endStubY],null,[r.endStubY,r.startStubY]]},o={x:[[s,r.startStubY],[s,r.endStubY]],y:[[r.startStubX,a],[r.endStubX,a]]},i={x:[[r.endStubX,r.startStubY]],y:[[r.startStubX,r.endStubY]]},w={x:[[r.startStubX,r.endStubY],[r.endStubX,r.endStubY]],y:[[r.endStubX,r.startStubY],[r.endStubX,r.endStubY]]},t={x:[[r.startStubX,a],[r.endStubX,a],[r.endStubX,r.endStubY]],y:[[s,r.startStubY],[s,r.endStubY],[r.endStubX,r.endStubY]]},e={x:[r.startStubY,r.endStubY],y:[r.startStubX,r.endStubX]},d=l[_][0],$=l[_][1],j=r.so[d]+1,d=r.to[$]+1,$=-1===r.to[$]&&e[_][1]<e[_][0]||1===r.to[$]&&e[_][1]>e[_][0],e=n[_][j][0],n=n[_][j][1],d={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[_][j][d];return r.segment===d[3]||r.segment===d[2]&&$?o[_]:r.segment===d[2]&&n<e?i[_]:r.segment===d[2]&&e<=n||r.segment===d[1]&&!$?t[_]:r.segment===d[0]||r.segment===d[1]&&$?w[_]:void 0},orthogonal:function(_,n,o,i,w){var t=r,n={x:-1===t.so[0]?Math.min(n,i):Math.max(n,i),y:-1===t.so[1]?Math.min(n,i):Math.max(n,i)}[_];return{x:[[n,o],[n,w],[i,w]],y:[[o,n],[w,n],[w,i]]}[_]},opposite:function(_,n,o,i){var w=r,t={x:"y",y:"x"}[_],e={x:"height",y:"width"}[_],d=w["is"+_.toUpperCase()+"GreaterThanStubTimes2"];if($.sourceEndpoint.elementId!==$.targetEndpoint.elementId)return!d||1===w.so[j]&&i<n||-1===w.so[j]&&n<i?{x:[[n,a],[i,a]],y:[[s,n],[s,i]]}[_]:1===w.so[j]&&n<i||-1===w.so[j]&&i<n?{x:[[s,w.sy],[s,w.ty]],y:[[w.sx,a],[w.tx,a]]}[_]:void 0;e=o+(1-$.sourceEndpoint.anchor[t])*$.sourceInfo[e]+f.maxStub;return{x:[[n,e],[i,e]],y:[[e,n],[e,i]]}[_]}}[r.anchorOrientation](r.sourceAxis,i,w,_,o);if(t)for(var e=0;e<t.length;e++)d(p,t[e][0],t[e][1],r);d(p,n[2],n[3],r),d(p,r.tx,r.ty,r),function(_,n,o){for(var i=null,w=0;w<n.length-1;w++){var t,e,d,i=i||h(n[w]),$=h(n[w+1]),j=u(i),r=u($);0<b&&i[4]!==$[4]?(e=Math.min(c(i),c($)),t=Math.min(b,e/2),i[2]-=j[0]*t,i[3]-=j[1]*t,$[0]+=r[0]*t,$[1]+=r[1]*t,d=j[1]===r[0]&&1===r[0]||j[1]===r[0]&&0===r[0]&&j[0]!==r[1]||j[1]===r[0]&&-1===r[0],r=(e=($[1]>i[3]?1:-1)==($[0]>i[2]?1:-1))&&d||!e&&!d?$[0]:i[2],e=e&&d||!e&&!d?i[3]:$[1],f.addSegment(_,P,{x1:i[0],y1:i[1],x2:i[2],y2:i[3]}),f.addSegment(_,"Arc",{r:t,x1:i[2],y1:i[3],x2:$[0],y2:$[1],cx:r,cy:e,ac:d})):(e=i[2]===i[0]?0:i[2]>i[0]?o.lw/2:-o.lw/2,d=i[3]===i[1]?0:i[3]>i[1]?o.lw/2:-o.lw/2,f.addSegment(_,P,{x1:i[0]-e,y1:i[1]-d,x2:i[2]+e,y2:i[3]+d})),i=$}null!=$&&f.addSegment(_,P,{x1:$[0],y1:$[1],x2:$[2],y2:$[3]})}(this,p,r)}},_.extend(o.Connectors.Flowchart,o.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function _(_){this.type=i;var o=n.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(_,n){o.addSegment(this,i,{x1:_.sx,y1:_.sy,x2:_.startStubX,y2:_.startStubY}),o.addSegment(this,i,{x1:_.startStubX,y1:_.startStubY,x2:_.endStubX,y2:_.endStubY}),o.addSegment(this,i,{x1:_.endStubX,y1:_.endStubY,x2:_.tx,y2:_.ty})}}var n=this.jsPlumb,o=this.jsPlumbUtil,i="Straight";n.Connectors.Straight=_,o.extend(_,n.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function $(_,n){for(var o in n)_.setAttribute(o,""+n[o])}function j(_,n){return(n=n||{}).version="1.1",n.xmlns=o,a.createElementNS(o,_,null,null,n)}function e(_){return"position:absolute;left:"+_[0]+"px;top:"+_[1]+"px"}function r(_){for(var n=_.querySelectorAll(" defs,linearGradient,radialGradient"),o=0;o<n.length;o++)n[o].parentNode.removeChild(n[o])}function d(_,n,o,i,w){var t,e,d;for(d in n.setAttribute("fill",o.fill||"none"),n.setAttribute("stroke",o.stroke||"none"),o.gradient?function(_,n,o,i){var w,t="jsplumb_gradient_"+i._jsPlumb.instance.idstamp();r(_),w=o.gradient.offset?j("radialGradient",{id:t}):j("linearGradient",{id:t,gradientUnits:"userSpaceOnUse"});var e=j("defs");_.appendChild(e),e.appendChild(w);for(var d=0;d<o.gradient.stops.length;d++){var $=1===i.segment||2===i.segment?d:o.gradient.stops.length-1-d,$=o.gradient.stops[$][1],$=j("stop",{offset:Math.floor(100*o.gradient.stops[d][0])+"%","stop-color":$});w.appendChild($)}e=o.stroke?"stroke":"fill",n.setAttribute(e,"url(#"+t+")")}(_,n,o,w):(r(_),n.setAttribute("style","")),o.strokeWidth&&n.setAttribute("stroke-width",o.strokeWidth),o[h]&&o.strokeWidth&&!o[c]?(t=-1===o[h].indexOf(",")?" ":",",_=o[h].split(t),e="",_.forEach(function(_){e+=Math.floor(_*o.strokeWidth)+t}),n.setAttribute(c,e)):o[c]&&n.setAttribute(c,o[c]),u)o[d]&&n.setAttribute(u[d],o[d])}function s(_,n,o){_.childNodes.length>o?_.insertBefore(n,_.childNodes[o]):_.appendChild(n)}var a=this.jsPlumb,l=this.jsPlumbUtil,u={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},c="stroke-dasharray",h="dashstyle",o="http://www.w3.org/2000/svg";l.svg={node:j,attr:$,pos:e};function n(w){var _=w.pointerEventsSpec||"all",t={};a.jsPlumbUIComponent.apply(this,w.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var n=w.cssClass+" "+(w.originalArgs[0].cssClass||""),_={style:"",width:0,height:0,"pointer-events":_,position:"absolute"};this.svg=j("svg",_),w.useDivWrapper?(this.canvas=a.createElement("div",{position:"absolute"}),l.sizeElement(this.canvas,0,0,1,1),this.canvas.className=n):($(this.svg,{class:n}),this.canvas=this.svg),w._jsPlumb.appendElement(this.canvas,w.originalArgs[0].parent),w.useDivWrapper&&this.canvas.appendChild(this.svg);var o=[this.canvas];return this.getDisplayElements=function(){return o},this.appendDisplayElement=function(_){o.push(_)},this.paint=function(_,n,o){var i;null!=_&&(i=[this.x,this.y],_=[this.w,this.h],null!=o&&(o.xmin<0&&(i[0]+=o.xmin),o.ymin<0&&(i[1]+=o.ymin),_[0]=o.xmax+(o.xmin<0?-o.xmin:0),_[1]=o.ymax+(o.ymin<0?-o.ymin:0)),i=w.useDivWrapper?(l.sizeElement(this.canvas,i[0],i[1],0<_[0]?_[0]:1,0<_[1]?_[1]:1),i[0]=0,i[1]=0,e([0,0])):e([i[0],i[1]]),t.paint.apply(this,arguments),$(this.svg,{style:i,width:_[0]||1,height:_[1]||1}))},{renderer:t}}l.extend(n,a.jsPlumbUIComponent,{cleanup:function(_){_||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null,this._jsPlumb=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(_){_=_.getContainer();this.canvas&&null==this.canvas.parentNode&&_.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&_.appendChild(this.bgCanvas)},setVisible:function(_){this.canvas&&(this.canvas.style.display=_?"block":"none")}}),a.ConnectorRenderers.svg=function(t){var e=this;n.apply(this,[{cssClass:t._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:t._jsPlumb}]).renderer.paint=function(_,n,o){var i=e.getSegments(),w=[0,0];o.xmin<0&&(w[0]=-o.xmin),o.ymin<0&&(w[1]=-o.ymin),0<i.length&&(o={d:e.getPathData(),transform:"translate("+w[0]+","+w[1]+")","pointer-events":t["pointer-events"]||"visibleStroke"},i=null,e.x,e.y,e.w,e.h,_.outlineStroke&&(w=_.outlineWidth||1,w=_.strokeWidth+2*w,delete(i=a.extend({},_)).gradient,i.stroke=_.outlineStroke,i.strokeWidth=w,null==e.bgPath?(e.bgPath=j("path",o),a.addClass(e.bgPath,a.connectorOutlineClass),s(e.svg,e.bgPath,0)):$(e.bgPath,o),d(e.svg,e.bgPath,i,0,e)),null==e.path?(e.path=j("path",o),s(e.svg,e.path,_.outlineStroke?1:0)):$(e.path,o),d(e.svg,e.path,_,0,e))}},l.extend(a.ConnectorRenderers.svg,n);var _=a.SvgEndpoint=function(_){n.apply(this,[{cssClass:_._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:_._jsPlumb}]).renderer.paint=function(_){_=a.extend({},_);_.outlineStroke&&(_.stroke=_.outlineStroke),null==this.node?(this.node=this.makeNode(_),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),d(this.svg,this.node,_,(this.x,this.y,this.w,this.h),this),e(this.node,(this.x,this.y))}.bind(this)};l.extend(_,n),a.Endpoints.svg.Dot=function(){a.Endpoints.Dot.apply(this,arguments),_.apply(this,arguments),this.makeNode=function(_){return j("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(_){$(_,{cx:this.w/2,cy:this.h/2,r:this.radius})}},l.extend(a.Endpoints.svg.Dot,[a.Endpoints.Dot,_]),a.Endpoints.svg.Rectangle=function(){a.Endpoints.Rectangle.apply(this,arguments),_.apply(this,arguments),this.makeNode=function(_){return j("rect",{width:this.w,height:this.h})},this.updateNode=function(_){$(_,{width:this.w,height:this.h})}},l.extend(a.Endpoints.svg.Rectangle,[a.Endpoints.Rectangle,_]),a.Endpoints.svg.Image=a.Endpoints.Image,a.Endpoints.svg.Blank=a.Endpoints.Blank,a.Overlays.svg.Label=a.Overlays.Label,a.Overlays.svg.Custom=a.Overlays.Custom;function i(_,w){_.apply(this,w),a.jsPlumbUIComponent.apply(this,w),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(_,n){var o,i;_.component.svg&&n&&(null==this.path&&(this.path=j("path",{"pointer-events":"all"}),_.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,_.component),this.canvas=_.component.svg),o=w&&1===w.length&&w[0].cssClass||"",i=[0,0],n.xmin<0&&(i[0]=-n.xmin),n.ymin<0&&(i[1]=-n.ymin),$(this.path,{d:t(_.d),class:o,stroke:_.stroke||null,fill:_.fill||null,transform:"translate("+i[0]+","+i[1]+")"}))};var t=function(_){return isNaN(_.cxy.x)||isNaN(_.cxy.y)?"":"M"+_.hxy.x+","+_.hxy.y+" L"+_.tail[0].x+","+_.tail[0].y+" L"+_.cxy.x+","+_.cxy.y+" L"+_.tail[1].x+","+_.tail[1].y+" L"+_.hxy.x+","+_.hxy.y};this.transfer=function(_){_.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),_.canvas.appendChild(this.path))}}var w={cleanup:function(_){null!=this.path&&(_?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(_,n){this.path&&n.canvas&&n.canvas.appendChild(this.path)},setVisible:function(_){null!=this.path&&(this.path.style.display=_?"block":"none")}};l.extend(i,[a.jsPlumbUIComponent,a.Overlays.AbstractOverlay]),a.Overlays.svg.Arrow=function(){i.apply(this,[a.Overlays.Arrow,arguments])},l.extend(a.Overlays.svg.Arrow,[a.Overlays.Arrow,i],w),a.Overlays.svg.PlainArrow=function(){i.apply(this,[a.Overlays.PlainArrow,arguments])},l.extend(a.Overlays.svg.PlainArrow,[a.Overlays.PlainArrow,i],w),a.Overlays.svg.Diamond=function(){i.apply(this,[a.Overlays.Diamond,arguments])},l.extend(a.Overlays.svg.Diamond,[a.Overlays.Diamond,i],w),a.Overlays.svg.GuideLines=function(){var i,w,t=null,e=this;a.Overlays.GuideLines.apply(this,arguments),this.paint=function(_,n){null==t&&(t=j("path"),_.connector.svg.appendChild(t),e.attachListeners(t,_.connector),e.attachListeners(t,e),i=j("path"),_.connector.svg.appendChild(i),e.attachListeners(i,_.connector),e.attachListeners(i,e),w=j("path"),_.connector.svg.appendChild(w),e.attachListeners(w,_.connector),e.attachListeners(w,e));var o=[0,0];n.xmin<0&&(o[0]=-n.xmin),n.ymin<0&&(o[1]=-n.ymin),$(t,{d:d(_.head,_.tail),stroke:"red",fill:null,transform:"translate("+o[0]+","+o[1]+")"}),$(i,{d:d(_.tailLine[0],_.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+o[0]+","+o[1]+")"}),$(w,{d:d(_.headLine[0],_.headLine[1]),stroke:"green",fill:null,transform:"translate("+o[0]+","+o[1]+")"})};var d=function(_,n){return"M "+_.x+","+_.y+" L"+n.x+","+n.y}},l.extend(a.Overlays.svg.GuideLines,a.Overlays.GuideLines)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function w(o,_){var n="_katavorio_"+(_=_||"main"),i=o[n],_=o.getEventManager();return i||((i=new $({bind:_.on,unbind:_.off,getSize:a.getSize,getConstrainingRectangle:function(_){return[_.parentNode.scrollWidth,_.parentNode.scrollHeight]},getPosition:function(_,n){_=o.getOffset(_,n,_._katavorioDrag?_.offsetParent:null);return[_.left,_.top]},setPosition:function(_,n){_.style.left=n[0]+"px",_.style.top=n[1]+"px"},addClass:a.addClass,removeClass:a.removeClass,intersects:j.intersects,indexOf:function(_,n){return _.indexOf(n)},scope:o.getDefaultScope(),css:{noSelect:o.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(o.getZoom()),o[n]=i,o.bind("zoom",i.setZoom)),i}function s(i,w){function _(_){if(null==w[_])return i[_];if(d.isString(w[_])){var n=w[_].match(/-=/)?-1:1,o=w[_].substring(2);return i[_]+n*o}return w[_]}return[_("left"),_("top")]}function _(j){var $={},_=[],r={},s={},a={};this.register=function(w){var t,e=j.getId(w);$[e]||($[e]=w,_.push(w),r[e]={});var d=function(_){if(_)for(var n,o,i=0;i<_.childNodes.length;i++)3!==_.childNodes[i].nodeType&&8!==_.childNodes[i].nodeType&&(o=jsPlumb.getElement(_.childNodes[i]),(n=j.getId(_.childNodes[i],null,!0))&&s[n]&&0<s[n]&&(t=t||j.getOffset(w),o=j.getOffset(o),r[e][n]={id:n,offset:{left:o.left-t.left,top:o.top-t.top}},a[n]=e),d(_.childNodes[i]))};d(w)},this.updateOffsets=function(_,n){if(null!=_){n=n||{};var o,i,w,t=jsPlumb.getElement(_),e=j.getId(t),d=r[e];if(d)for(var $ in d)d.hasOwnProperty($)&&(i=jsPlumb.getElement($),w=n[$]||j.getOffset(i),null==i.offsetParent&&null!=r[e][$]||(o=o||j.getOffset(t),r[e][$]={id:$,offset:{left:w.left-o.left,top:w.top-o.top}},a[$]=e))}},this.endpointAdded=function(_,n){n=n||j.getId(_);var o=document.body,i=_.parentNode;for(s[n]=s[n]?s[n]+1:1;null!=i&&i!==o;){var w=j.getId(i,null,!0);if(w&&$[w]){var t,e=j.getOffset(i);null==r[w][n]&&(t=j.getOffset(_),r[w][n]={id:n,offset:{left:t.left-e.left,top:t.top-e.top}},a[n]=w);break}i=i.parentNode}},this.endpointDeleted=function(_){if(s[_.elementId]&&(s[_.elementId]--,s[_.elementId]<=0))for(var n in r)r.hasOwnProperty(n)&&r[n]&&(delete r[n][_.elementId],delete a[_.elementId])},this.changeId=function(_,n){r[n]=r[_],r[_]={},a[n]=a[_],a[_]=null},this.getElementsForDraggable=function(_){return r[_]},this.elementRemoved=function(_){var n=a[_];n&&(r[n]&&delete r[n][_],delete a[_])},this.reset=function(){$={},_=[],r={},s={}},this.dragEnded=function(_){null!=_.offsetParent&&(_=j.getId(_),(_=a[_])&&this.updateOffsets(_))},this.setParent=function(_,n,o,i,w){var t=a[n];r[i]||(r[i]={});o=j.getOffset(o),_=w||j.getOffset(_);t&&r[t]&&delete r[t][n],r[i][n]={id:n,offset:{left:_.left-o.left,top:_.top-o.top}},a[n]=i},this.clearParent=function(_,n){var o=a[n];o&&(delete r[o][n],delete a[n])},this.revalidateParent=function(_,n,o){var i,w=a[n];w&&((i={})[n]=o,this.updateOffsets(w,i),j.revalidate(w))},this.getDragAncestor=function(_){_=jsPlumb.getElement(_),_=j.getId(_),_=a[_];return _?jsPlumb.getElement(_):null}}function t(_,n,o){n=d.fastTrim(n),void 0!==_.className.baseVal?_.className.baseVal=n:_.className=n;try{var i=_.classList;if(null!=i){for(;0<i.length;)i.remove(i.item(0));for(var w=0;w<o.length;w++)o[w]&&i.add(o[w])}}catch(_){d.log("JSPLUMB: cannot set class list",_)}}function e(_){return void 0===_.className.baseVal?_.className:_.className.baseVal}function i(_,n,o){function i(_,n){for(var o,i=0;i<n.length;i++)_?-1===w.indexOf(n[i])&&w.push(n[i]):-1!==(o=w.indexOf(n[i]))&&w.splice(o,1)}n=null==n?[]:d.isArray(n)?n:n.split(/\s+/),o=null==o?[]:d.isArray(o)?o:o.split(/\s+/);var w=e(_).split(/\s+/);i(!0,n),i(!1,o),t(_,w.join(" "),w)}var n=this,a=n.jsPlumb,d=n.jsPlumbUtil,$=n.Katavorio,j=n.Biltong,o=function(_,n){if(null==n)return[0,0];n=c(n),n=u(n,0);return[n[_+"X"],n[_+"Y"]]},r=o.bind(this,"page"),l=o.bind(this,"screen"),o=o.bind(this,"client"),u=function(_,n){return _.item?_.item(n):_[n]},c=function(_){return _.touches&&0<_.touches.length?_.touches:_.changedTouches&&0<_.changedTouches.length?_.changedTouches:_.targetTouches&&0<_.targetTouches.length?_.targetTouches:[_]};n.jsPlumb.extend(n.jsPlumbInstance.prototype,{headless:!1,pageLocation:r,screenLocation:l,clientLocation:o,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new _(this)),this.dragManager},recalculateOffsets:function(_){this.getDragManager().updateOffsets(_)},createElement:function(_,n,o,i){return this.createElementNS(null,_,n,o,i)},createElementNS:function(_,n,o,i,w){var t,e=null==_?document.createElement(n):document.createElementNS(_,n);for(t in o=o||{})e.style[t]=o[t];for(t in i&&(e.className=i),w=w||{})e.setAttribute(t,""+w[t]);return e},getAttribute:function(_,n){return null!=_.getAttribute?_.getAttribute(n):null},setAttribute:function(_,n,o){null!=_.setAttribute&&_.setAttribute(n,o)},setAttributes:function(_,n){for(var o in n)n.hasOwnProperty(o)&&_.setAttribute(o,n[o])},appendToRoot:function(_){document.body.appendChild(_)},getRenderModes:function(){return["svg"]},getClass:e,addClass:function(_,n){jsPlumb.each(_,function(_){i(_,n)})},hasClass:function(_,n){return(_=jsPlumb.getElement(_)).classList?_.classList.contains(n):-1!==e(_).indexOf(n)},removeClass:function(_,n){jsPlumb.each(_,function(_){i(_,null,n)})},toggleClass:function(_,n){jsPlumb.hasClass(_,n)?jsPlumb.removeClass(_,n):jsPlumb.addClass(_,n)},updateClasses:function(_,n,o){jsPlumb.each(_,function(_){i(_,n,o)})},setClass:function(_,n){null!=n&&jsPlumb.each(_,function(_){t(_,n,n.split(/\s+/))})},setPosition:function(_,n){_.style.left=n.left+"px",_.style.top=n.top+"px"},getPosition:function(n){function _(_){return(_=n.style[_])?_.substring(0,_.length-2):0}return{left:_("left"),top:_("top")}},getStyle:function(_,n){return void 0!==window.getComputedStyle?getComputedStyle(_,null).getPropertyValue(n):_.currentStyle[n]},getSelector:function(_,n){return 1===arguments.length?null!=_.nodeType?_:document.querySelectorAll(_):_.querySelectorAll(n)},getOffset:function(_,n,o){_=jsPlumb.getElement(_),o=o||this.getContainer();for(var i,w={left:_.offsetLeft,top:_.offsetTop},t=n||null!=o&&_!==o&&_.offsetParent!==o?_.offsetParent:null,e=function(_){null!=_&&_!==document.body&&(0<_.scrollTop||0<_.scrollLeft)&&(w.left-=_.scrollLeft,w.top-=_.scrollTop)}.bind(this);null!=t;)w.left+=t.offsetLeft,w.top+=t.offsetTop,e(t),t=!n&&t.offsetParent===o?null:t.offsetParent;return null!=o&&!n&&(0<o.scrollTop||0<o.scrollLeft)&&(i=null!=_.offsetParent?this.getStyle(_.offsetParent,"position"):"static","absolute"!==(_=this.getStyle(_,"position"))&&"fixed"!==_&&"absolute"!==i&&"fixed"!==i&&(w.left-=o.scrollLeft,w.top-=o.scrollTop)),w},getPositionOnElement:function(_,n,o){var i=void 0!==n.getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0,width:0,height:0},w=document.body,t=document.documentElement,e=window.pageYOffset||t.scrollTop||w.scrollTop,d=window.pageXOffset||t.scrollLeft||w.scrollLeft,$=t.clientTop||w.clientTop||0,w=t.clientLeft||w.clientLeft||0,$=i.top+e-$+0*o,d=i.left+d-w+0*o,w=jsPlumb.pageLocation(_),_=i.width||n.offsetWidth*o,o=i.height||n.offsetHeight*o;return[(w[0]-d)/_,(w[1]-$)/o]},getAbsolutePosition:function(n){function _(_){if(_=n.style[_])return parseFloat(_.substring(0,_.length-2))}return[_("left"),_("top")]},setAbsolutePosition:function(_,n,o,i){o?this.animate(_,{left:"+="+(n[0]-o[0]),top:"+="+(n[1]-o[1])},i):(_.style.left=n[0]+"px",_.style.top=n[1]+"px")},getSize:function(_){return[_.offsetWidth,_.offsetHeight]},getWidth:function(_){return _.offsetWidth},getHeight:function(_){return _.offsetHeight},getRenderMode:function(){return"svg"},draggable:function(_,n){var o;return _=d.isArray(_)||null!=_.length&&!d.isString(_)?_:[_],Array.prototype.slice.call(_).forEach(function(_){(o=this.info(_)).el&&this._initDraggableIfNecessary(o.el,!0,n,o.id,!0)}.bind(this)),this},snapToGrid:function(_,o,i){var n,w=[],t=function(_){var n=this.info(_);null!=n.el&&n.el._katavorioDrag&&(_=n.el._katavorioDrag.snap(o,i),this.revalidate(n.el),w.push([n.el,_]))}.bind(this);if(1===arguments.length||3===arguments.length)t(_,o,i);else for(n in this.getManagedElements())t(n,_,o);return w},initDraggable:function(_,n,o){w(this,o).draggable(_,n),_._jsPlumbDragOptions=n},destroyDraggable:function(_,n){w(this,n).destroyDraggable(_),_._jsPlumbDragOptions=null,_._jsPlumbRelatedElement=null},unbindDraggable:function(_,n,o,i){w(this,i).destroyDraggable(_,n,o)},setDraggable:function(_,n){return jsPlumb.each(_,function(_){this.isDragSupported(_)&&(this._draggableStates[this.getAttribute(_,"id")]=n,this.setElementDraggable(_,n))}.bind(this))},_draggableStates:{},toggleDraggable:function(_){var o;return jsPlumb.each(_,function(_){var n=this.getAttribute(_,"id");return o=!(o=null!=this._draggableStates[n]&&this._draggableStates[n]),this._draggableStates[n]=o,this.setDraggable(_,o),o}.bind(this)),o},_initDraggableIfNecessary:function(_,n,o,i,w){var t,e;jsPlumb.headless||null!=n&&n&&jsPlumb.isDragSupported(_,this)&&(e=o||this.Defaults.DragOptions,e=jsPlumb.extend({},e),jsPlumb.isAlreadyDraggable(_,this)?o.force&&this.initDraggable(_,e):(t=jsPlumb.dragEvents.drag,n=jsPlumb.dragEvents.stop,o=jsPlumb.dragEvents.start,this.manage(i,_),e[o]=d.wrap(e[o],function(_){var n=_.el._jsPlumbDragOptions,o=!0;return(o=n.canDrag?n.canDrag():o)&&(this.setHoverSuspended(!0),this.select({source:_.el}).addClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:_.el}).addClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),this.setConnectionBeingDragged(!0)),o}.bind(this)),e[t]=d.wrap(e[t],function(_){var n,o=this.getUIPosition(arguments,this.getZoom());null!=o&&(n=_.el._jsPlumbDragOptions,this.draw(_.el,o,null,!0),n._dragging&&this.addClass(_.el,"jtk-dragged"),n._dragging=!0)}.bind(this)),e[n]=d.wrap(e[n],function(o){for(var i,_=o.selection,n=function(_){var n;null!=_[1]&&(i=this.getUIPosition([{el:_[2].el,pos:[_[1].left,_[1].top]}]),n=this.draw(_[2].el,i)),null!=_[0]._jsPlumbDragOptions&&delete _[0]._jsPlumbDragOptions._dragging,this.removeClass(_[0],"jtk-dragged"),this.select({source:_[2].el}).removeClass(this.elementDraggingClass+" "+this.sourceElementDraggingClass,!0),this.select({target:_[2].el}).removeClass(this.elementDraggingClass+" "+this.targetElementDraggingClass,!0),o.e._drawResult=o.e._drawResult||{c:[],e:[],a:[]},Array.prototype.push.apply(o.e._drawResult.c,n.c),Array.prototype.push.apply(o.e._drawResult.e,n.e),Array.prototype.push.apply(o.e._drawResult.a,n.a),this.getDragManager().dragEnded(_[2].el)}.bind(this),w=0;w<_.length;w++)n(_[w]);this.setHoverSuspended(!1),this.setConnectionBeingDragged(!1)}.bind(this)),n=this.getId(_),this._draggableStates[n]=!0,n=this._draggableStates[n],e.disabled=null!=n&&!n,this.initDraggable(_,e),this.getDragManager().register(_),w&&this.fire("elementDraggable",{el:_,options:e})))},animationSupported:!0,getElement:function(_){return null==_?null:"string"==typeof(_="string"!=typeof _&&null==_.tagName&&null!=_.length&&null==_.enctype?_[0]:_)?document.getElementById(_):_},removeElement:function(_){w(this).elementRemoved(_),this.getEventManager().remove(_)},doAnimate:function(_,n,o){o=o||{};var i=this.getOffset(_),w=s(i,n),t=w[0]-i.left,n=w[1]-i.top,w=o.duration||250,e=w/15,d=15/w*t,$=15/w*n,j=0,r=setInterval(function(){a.setPosition(_,{left:i.left+d*(j+1),top:i.top+$*(j+1)}),null!=o.step&&o.step(j,Math.ceil(e)),e<=++j&&(window.clearInterval(r),null!=o.complete&&o.complete())},15)},destroyDroppable:function(_,n){w(this,n).destroyDroppable(_)},unbindDroppable:function(_,n,o,i){w(this,i).destroyDroppable(_,n,o)},droppable:function(_,n){var o;return _=d.isArray(_)||null!=_.length&&!d.isString(_)?_:[_],(n=n||{}).allowLoopback=!1,Array.prototype.slice.call(_).forEach(function(_){(o=this.info(_)).el&&this.initDroppable(o.el,n)}.bind(this)),this},initDroppable:function(_,n,o){w(this,o).droppable(_,n)},isAlreadyDraggable:function(_){return null!=_._katavorioDrag},isDragSupported:function(_,n){return!0},isDropSupported:function(_,n){return!0},isElementDraggable:function(_){return(_=a.getElement(_))._katavorioDrag&&_._katavorioDrag.isEnabled()},getDragObject:function(_){return _[0].drag.getDragElement()},getDragScope:function(_){return _._katavorioDrag&&_._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(_){return _[0].e},getUIPosition:function(_,n){var o=_[0].el;if(null==o.offsetParent)return null;_=_[0].finalPos||_[0].pos,_={left:_[0],top:_[1]};return o._katavorioDrag&&o.offsetParent!==this.getContainer()&&(o=this.getOffset(o.offsetParent),_.left+=o.left,_.top+=o.top),_},setDragFilter:function(_,n,o){_._katavorioDrag&&_._katavorioDrag.setFilter(n,o)},setElementDraggable:function(_,n){(_=a.getElement(_))._katavorioDrag&&_._katavorioDrag.setEnabled(n)},setDragScope:function(_,n){_._katavorioDrag&&_._katavorioDrag.k.setDragScope(_,n)},setDropScope:function(_,n){_._katavorioDrop&&0<_._katavorioDrop.length&&_._katavorioDrop[0].k.setDropScope(_,n)},addToPosse:function(_,n){var o=Array.prototype.slice.call(arguments,1),i=w(this);a.each(_,function(_){(_=[a.getElement(_)]).push.apply(_,o),i.addToPosse.apply(i,_)})},setPosse:function(_,n){var o=Array.prototype.slice.call(arguments,1),i=w(this);a.each(_,function(_){(_=[a.getElement(_)]).push.apply(_,o),i.setPosse.apply(i,_)})},removeFromPosse:function(_,n){var o=Array.prototype.slice.call(arguments,1),i=w(this);a.each(_,function(_){(_=[a.getElement(_)]).push.apply(_,o),i.removeFromPosse.apply(i,_)})},removeFromAllPosses:function(_){var n=w(this);a.each(_,function(_){n.removeFromAllPosses(a.getElement(_))})},setPosseState:function(_,n,o){var i=w(this);a.each(_,function(_){i.setPosseState(a.getElement(_),n,o)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(_){_._katavorioDrag&&_._katavorioDrag.abort()},addToDragSelection:function(_){var n=this.getElement(_);null==n||!n._isJsPlumbGroup&&null!=n._jsPlumbGroup||w(this).select(_)},removeFromDragSelection:function(_){w(this).deselect(_)},getDragSelection:function(){return w(this).getSelection()},clearDragSelection:function(){w(this).deselectAll()},trigger:function(_,n,o,i){this.getEventManager().trigger(_,n,o,i)},doReset:function(){for(var _ in this)0===_.indexOf("_katavorio_")&&this[_].reset()},getEventManager:function(){return(_=this)._mottle||(_._mottle=new n.Mottle);var _},on:function(_,n,o){return this.getEventManager().on.apply(this,arguments),this},off:function(_,n,o){return this.getEventManager().off.apply(this,arguments),this}});var h,p;h=a.init,(p=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?h():setTimeout(p,9)})()}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function n($){var w={},j={},r={},s=this;function i(_,n){for(var o=_.getEl().querySelectorAll(".jtk-managed"),i=0;i<o.length;i++)$[n?"show":"hide"](o[i],!0)}$.bind("connection",function(_){var n=$.getGroupFor(_.source),o=$.getGroupFor(_.target);null!=n&&null!=o&&n===o?(j[_.connection.id]=n,r[_.connection.id]=n):(null!=n&&(y.suggest(n.connections.source,_.connection),j[_.connection.id]=n),null!=o&&(y.suggest(o.connections.target,_.connection),r[_.connection.id]=o))}),$.bind("internal.connectionDetached",function(_){!function(n){delete n.proxies;var _,o=j[n.id];null!=o&&(_=function(_){return _.id===n.id},y.removeWithFunction(o.connections.source,_),y.removeWithFunction(o.connections.target,_),delete j[n.id]),null!=(o=r[n.id])&&(_=function(_){return _.id===n.id},y.removeWithFunction(o.connections.source,_),y.removeWithFunction(o.connections.target,_),delete r[n.id])}(_.connection)}),$.bind("connectionMoved",function(_){var n=(0===_.index?j:r)[_.connection.id];!n||-1!==(_=(n=n.connections[0===_.index?"source":"target"]).indexOf(_.connection))&&n.splice(_,1)}),this.addGroup=function(_){$.addClass(_.getEl(),e),(w[_.id]=_).manager=this,n(_),$.fire("group:add",{group:_})},this.addToGroup=function(i,_,n){var o,w,t,e,d;(i=this.getGroup(i))&&(o=i.getEl(),_._isJsPlumbGroup||(w=_._jsPlumbGroup)!==i&&($.removeFromDragSelection(_),t=$.getOffset(_,!0),d=i.collapsed?$.getOffset(o,!0):$.getOffset(i.getDragArea(),!0),null!=w&&(w.remove(_,!1,n,!1,i),s.updateConnectionsForGroup(w)),i.add(_,n),e=function(_,n){var o=0===n?1:0;_.each(function(_){_.setVisible(!1),_.endpoints[o].element._jsPlumbGroup===i?(_.endpoints[o].setVisible(!1),l(_,o,i)):(_.endpoints[n].setVisible(!1),a(_,n,i))})},i.collapsed&&(e($.select({source:_}),0),e($.select({target:_}),1)),e=$.getId(_),$.dragManager.setParent(_,e,o,$.getId(o),t),d={left:t.left-d.left,top:t.top-d.top},$.setPosition(_,d),$.dragManager.revalidateParent(_,e,t),s.updateConnectionsForGroup(i),$.revalidate(e),n||(d={group:i,el:_,pos:d},w&&(d.sourceGroup=w),$.fire("group:addMember",d))))},this.removeFromGroup=function(e,d,_){var n;(e=this.getGroup(e))&&(e.collapsed&&((n=function(_,n){for(var o=0;o<_.length;o++){var i=_[o];if(i.proxies)for(var w,t=0;t<i.proxies.length;t++)null!=i.proxies[t]&&((w=i.proxies[t].originalEp.element)!==d&&!function(_,n){for(var o=$.getContainer();;){if(null==_||_===o)return;if(_===n)return 1;_=_.parentNode}}(w,d)||l(i,n,e))}})(e.connections.source.slice(),0),n(e.connections.target.slice(),1)),e.remove(d,null,_))},this.getGroup=function(_){var n=_;if(y.isString(_)&&null==(n=w[_]))throw new TypeError("No such group ["+_+"]");return n},this.getGroups=function(){var _,n=[];for(_ in w)n.push(w[_]);return n},this.removeGroup=function(_,n,o,i){_=this.getGroup(_),this.expandGroup(_,!0);i=_[n?"removeAll":"orphanAll"](o,i);return $.remove(_.getEl()),delete w[_.id],delete $._groups[_.id],$.fire("group:remove",{group:_}),i},this.removeAllGroups=function(_,n,o){for(var i in w)this.removeGroup(w[i],_,n,o)};var a=function(_,n,o){var i,w=_.endpoints[0===n?1:0].element;w[b]&&!w[b].shouldProxy()&&w[b].collapsed||(i=o.getEl(),w=$.getId(i),$.proxyConnection(_,n,i,w,function(_,n){return o.getEndpoint(_,n)},function(_,n){return o.getAnchor(_,n)}))};this.collapseGroup=function(w){var _,n;null==(w=this.getGroup(w))||w.collapsed||(_=w.getEl(),i(w,!1),w.shouldProxy()&&((n=function(_,n){for(var o=0;o<_.length;o++){var i=_[o];a(i,n,w)}})(w.connections.source,0),n(w.connections.target,1)),w.collapsed=!0,$.removeClass(_,e),$.addClass(_,t),$.revalidate(_),$.fire("group:collapse",{group:w}))};var l=function(_,n,o){$.unproxyConnection(_,n,$.getId(o.getEl()))};function n(w){for(var _=w.getMembers().slice(),n=[],o=0;o<_.length;o++)Array.prototype.push.apply(n,_[o].querySelectorAll(".jtk-managed"));Array.prototype.push.apply(_,n);var i=$.getConnections({source:_,scope:"*"},!0),t=$.getConnections({target:_,scope:"*"},!0),e={};w.connections.source.length=0,w.connections.target.length=0;function d(_){for(var n,o,i=0;i<_.length;i++)e[_[i].id]||(e[_[i].id]=!0,n=$.getGroupFor(_[i].source),o=$.getGroupFor(_[i].target),n===w?(o!==w&&w.connections.source.push(_[i]),j[_[i].id]=w):o===w&&(w.connections.target.push(_[i]),r[_[i].id]=w))}d(i),d(t)}this.expandGroup=function(w,_){var n,o;null!=(w=this.getGroup(w))&&w.collapsed&&(n=w.getEl(),i(w,!0),w.shouldProxy()&&((o=function(_,n){for(var o=0;o<_.length;o++){var i=_[o];l(i,n,w)}})(w.connections.source,0),o(w.connections.target,1)),w.collapsed=!1,$.addClass(n,e),$.removeClass(n,t),$.revalidate(n),this.repaintGroup(w),_||$.fire("group:expand",{group:w}))},this.repaintGroup=function(_){for(var n=(_=this.getGroup(_)).getMembers(),o=0;o<n.length;o++)$.revalidate(n[o])},this.updateConnectionsForGroup=n,this.refreshAllGroups=function(){for(var _ in w)n(w[_]),$.dragManager.updateOffsets($.getId(w[_].getEl()))}}function o(d,o){var t=this,n=o.el;this.getEl=function(){return n},this.id=o.id||y.uuid(),n._isJsPlumbGroup=!0;var _,i=this.getDragArea=function(){var _=d.getSelector(n,"[jtk-group-content]");return _&&0<_.length?_[0]:n},w=!0===o.ghost,e=w||!0===o.constrain,$=!1!==o.revert,j=!0===o.orphan,r=!0===o.prune,s=!0===o.dropOverride,a=!1!==o.proxied,l=[];function u(_,n){for(var o=null==_.nodeType?_:[_],i=0;i<o.length;i++)n(o[i])}function c(_,n){var o=_.offsetParent,i=d.getSize(o),w=d.getSize(_),o=n[0],_=o+w[0],n=n[1],w=n+w[1];return 0<_&&o<i[0]&&0<w&&n<i[1]}function h(_){var n=d.getId(_),o=d.getOffset(_);return _.parentNode.removeChild(_),d.getContainer().appendChild(_),d.setPosition(_,o),g(_),d.dragManager.clearParent(_,n),[n,o]}function p(_){var n=[];for(var o,i,w,t,e=0;e<_.selection.length;e++)n.push((o=_.selection[e][0],i=_.selection[e][1].left,w=_.selection[e][1].top,t=void 0,t=null,c(o,[i,w])||(w=o._jsPlumbGroup,r?d.remove(o):t=h(o),w.remove(o)),t));return 1===n.length?n[0]:n}function f(_){var n=d.getId(_);d.revalidate(_),d.dragManager.revalidateParent(_,n)}function g(_){_._katavorioDrag&&((r||j)&&_._katavorioDrag.off("stop",p),r||j||!$||(_._katavorioDrag.off("revert",f),_._katavorioDrag.setRevert(null)))}function m(_){_._katavorioDrag&&((r||j)&&_._katavorioDrag.on("stop",p),e&&_._katavorioDrag.setConstrain(!0),w&&_._katavorioDrag.setUseGhostProxy(!0),r||j||!$||(_._katavorioDrag.on("revert",f),_._katavorioDrag.setRevert(function(_,n){return!c(_,n)})))}this.connections={source:[],target:[],internal:[]},this.getAnchor=function(_,n){return o.anchor||"Continuous"},this.getEndpoint=function(_,n){return o.endpoint||["Dot",{radius:10}]},(this.collapsed=!1)!==o.draggable&&(_={drag:function(){for(var _=0;_<l.length;_++)d.draw(l[_])},stop:function(_){d.fire("groupDragStop",jsPlumb.extend(_,{group:t}))},scope:"_jsPlumbGroupDrag"},o.dragOptions&&v.jsPlumb.extend(_,o.dragOptions),d.draggable(o.el,_)),!1!==o.droppable&&d.droppable(o.el,{drop:function(_){var n=_.drag.el;n._isJsPlumbGroup||(_=n._jsPlumbGroup)!==t&&(null!=_&&_.overrideDrop(n,t)||d.getGroupManager().addToGroup(t,n,!1))}}),this.overrideDrop=function(_,n){return s&&($||r||j)},this.add=function(_,n){var o=i();u(_,function(_){if(null!=_._jsPlumbGroup){if(_._jsPlumbGroup===t)return;_._jsPlumbGroup.remove(_,!0,n,!1)}_._jsPlumbGroup=t,l.push(_),d.isAlreadyDraggable(_)&&m(_),_.parentNode!==o&&o.appendChild(_)}),d.getGroupManager().updateConnectionsForGroup(t)},this.remove=function(_,o,i,n,w){u(_,function(n){if(n._jsPlumbGroup===t){if(delete n._jsPlumbGroup,y.removeWithFunction(l,function(_){return _===n}),o)try{t.getDragArea().removeChild(n)}catch(_){jsPlumbUtil.log("Could not remove element from Group "+_)}var _;g(n),i||(_={group:t,el:n},w&&(_.targetGroup=w),d.fire("group:removeMember",_))}}),n||d.getGroupManager().updateConnectionsForGroup(t)},this.removeAll=function(_,n){for(var o=0,i=l.length;o<i;o++){var w=l[0];t.remove(w,_,n,!0),d.remove(w,!0)}l.length=0,d.getGroupManager().updateConnectionsForGroup(t)},this.orphanAll=function(){for(var _={},n=0;n<l.length;n++){var o=h(l[n]);_[o[0]]=o[1]}return l.length=0,_},this.getMembers=function(){return l},n[b]=this,d.bind("elementDraggable",function(_){_.el._jsPlumbGroup===this&&m(_.el)}.bind(this)),this.shouldProxy=function(){return a},d.getGroupManager().addGroup(this)}var v=this,y=v.jsPlumbUtil,_=v.jsPlumbInstance,t="jtk-group-collapsed",e="jtk-group-expanded",i="_groupManager",b="_jsPlumbGroup";_.prototype.addGroup=function(_){if(this._groups=this._groups||{},null!=this._groups[_.id])throw new TypeError("cannot create Group ["+_.id+"]; a Group with that ID exists");if(null!=_.el[b])throw new TypeError("cannot create Group ["+_.id+"]; the given element is already a Group");var n=new o(this,_);return this._groups[n.id]=n,_.collapsed&&this.collapseGroup(n),n},_.prototype.addToGroup=function(o,_,i){var n=function(_){var n=this.getId(_);this.manage(n,_),this.getGroupManager().addToGroup(o,_,i)}.bind(this);if(Array.isArray(_))for(var w=0;w<_.length;w++)n(_[w]);else n(_)},_.prototype.removeFromGroup=function(_,n,o){this.getGroupManager().removeFromGroup(_,n,o),this.getContainer().appendChild(n)},_.prototype.removeGroup=function(_,n,o,i){return this.getGroupManager().removeGroup(_,n,o,i)},_.prototype.removeAllGroups=function(_,n,o){this.getGroupManager().removeAllGroups(_,n,o)},_.prototype.getGroup=function(_){return this.getGroupManager().getGroup(_)},_.prototype.getGroups=function(){return this.getGroupManager().getGroups()},_.prototype.expandGroup=function(_){this.getGroupManager().expandGroup(_)},_.prototype.collapseGroup=function(_){this.getGroupManager().collapseGroup(_)},_.prototype.repaintGroup=function(_){this.getGroupManager().repaintGroup(_)},_.prototype.toggleGroup=function(_){null!=(_=this.getGroupManager().getGroup(_))&&this.getGroupManager()[_.collapsed?"expandGroup":"collapseGroup"](_)},_.prototype.getGroupManager=function(){var _=this[i];return _=null==_?this[i]=new n(this):_},_.prototype.removeGroupManager=function(){delete this[i]},_.prototype.getGroupFor=function(_){if(_=this.getElement(_)){for(var n=this.getContainer(),o=!1,i=null;!o;)null==_||_===n?o=!0:_[b]?(i=_[b],o=!0):_=_.parentNode;return i}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var _=this.Farahey={};"undefined"!=typeof exports&&(exports.Farahey=_);function C(_,n,o){o=function(_,n,o){for(var i,w,t=0,e=_.length;t<e;)if((w=o(_[i=parseInt((t+e)/2)],n))<0)t=i+1;else{if(!(0<w))return i;e=i}return t}(_,n,o),_.splice(o,0,n)}function S(_,o){function i(_){var n;return t[_[1]]||(n=o(_[2]),t[_[1]]={l:_[0][0],t:_[0][1],w:n[0],h:n[1],center:[_[0][0]+n[0]/2,_[0][1]+n[1]/2]}),t[_[1]]}var w=_,t={};this.setOrigin=function(_){w=_,t={}},this.compare=function(_,n){_=A.lineLength(w,i(_).center),n=A.lineLength(w,i(n).center);return _<n?-1:_===n?0:1}}function I($,j,r,s,a,_,l,u,c,h,p,f,g){function m(_,n,o,i){w[_]=!0,n[0]+=o,n[1]+=i}h=h||function(){},p=p||2;var v,y,b=D(_=_||[0,0],[1,1],s),P=1,E=!0,w={},x=function(){for(var _=0;_<$.length;_++)if(!f($[_][1],$[_][2])){var n=j[$[_][1]],o=$[_][1],i=($[_][2],r[$[_][1]]),w=D(n,i,s);!g&&l($[_][1],$[_][2])&&A.intersects(b,w)&&(v=T(b,w),y=a($[_][1],n,v),m(o,n,y.left,y.top)),w=D(n,i,s);for(var t,e,d=0;d<$.length;d++)_!==d&&(f($[d][1],$[d][2])||l($[d][1],$[d][2])&&(t=j[$[d][1]],e=r[$[d][1]],e=D(t,e,s),A.intersects(w,e)&&(E=!0,v=T(w,e),y=a($[d][1],t,v),m($[d][1],t,y.left,y.top))))}u&&h(),E&&P<p&&(E=!1,P++,u?window.setTimeout(x,c):x())};return x(),w}function k(_){if(null==_)return null;if("[object Array]"===Object.prototype.toString.call(_)){var n=[];return n.push.apply(n,_),n}var o,i=[];for(o in _)i.push(_[o]);return i}function n(t){function _(_){for(var n,o,i,w=n=1/0,t=o=-1/0,e=0;e<_.length;e++){var d=r(_[e]),$=s(_[e]),j=a(_[e]);u[j]=[d.left,d.top],i=[[d.left,d.top],j,_[e]],v&&0!==l.length?C(l,i,y.compare):l.push(i),c[j]=$,w=Math.min(w,d.left),n=Math.min(n,d.top),t=Math.max(t,d.left+$[0]),o=Math.max(o,d.top+$[1])}return[w,t,n,o]}function o(){return y.setOrigin(p),l.length=0,u={},c={},_(h)}function i(_){if(1<h.length){var n=(_=_||{}).filter||g,o=_.padding||$,i=_.iterations,w=_.exclude||m,t=_.excludeFocus;_.gather&&function(_,n,o,i,w,t,e){for(var d,$,j=D(w=w||[0,0],[1,1],i),r=0;r<_.length;r++)e(_[r][1],_[r][2])||(d=n[_[r][1]],$=o[_[r][1]],$=D(d,$,i),t(_[r][1],_[r][2])&&($=T(j,$),d[0]+=$.left,d[1]+=$.top))}(l,u,c,o,p,n,w);t=I(l,u,c,o,j,p,n,b,P,x,i,w,t);return x(t),t}}function w(_){null!=_&&(p=_,y.setOrigin(_))}var e,n,r=t.getPosition,s=t.getSize,a=t.getId,d=t.setPosition,$=t.padding||[20,20],j=t.constrain||function(_,n,o){return o},l=[],u={},c={},h=k(t.elements||[]),p=t.origin||[0,0],f=t.executeNow,g=(this.getOrigin=function(){return p},t.filter||function(_){return!0}),m=t.exclude||function(_){return!1},v=t.orderByDistanceFromOrigin,y=new S(p,s),b=t.updateOnStep,P=t.stepInterval||350,E=t.debug,x=function(_){for(var n=0;n<h.length;n++){var o=a(h[n]);_[o]&&d(h[n],{left:u[o][0],top:u[o][1]})}};return this.execute=function(_,n){return w(_),o(),i(n)},this.executeAtCenter=function(_){var n=o();return w([(n[0]+n[1])/2,(n[2]+n[3])/2]),i(_)},this.executeAtEvent=function(_,n){var o=t.container,i=t.getContainerPosition(o),w=_.pageX-i.left+o.scrollLeft,o=_.pageY-i.top+o.scrollTop;return E&&(e.style.left=_.pageX+"px",e.style.top=_.pageY+"px"),this.execute([w,o],n)},this.setElements=function(_){return h=k(_),this},this.addElement=function(_,n){return null==_||!n&&-1!==h.indexOf(_)||h.push(_),this},this.addElements=function(_,n){if(n)Array.prototype.push.apply(h,_);else for(var o=0;o<_.length;o++)this.addElement(_[o]);return this},this.getElements=function(){return h},this.removeElement=function(_){for(var n=-1,o=0;o<h.length;o++)if(h[o]===_){n=o;break}return-1!==n&&h.splice(n,1),this},this.setPadding=function(_){$=_},this.setConstrain=function(_){j=_},this.setFilter=function(_){g=_},this.reset=function(){h.length=0},E&&((n=document.createElement("div")).style.position="absolute",n.style.width="10px",n.style.height="10px",n.style.backgroundColor="red",document.body.appendChild(n),e=n),f&&this.execute(),this}var A=this.Biltong,o=[function(_,n){return _.x+_.w-n.x},function(_,n){return _.x-(n.x+n.w)}],i=[function(_,n){return _.y+_.h-n.y},function(_,n){return _.y-(n.y+n.h)}],r=[null,[o[0],i[1]],[o[0],i[0]],[o[1],i[0]],[o[1],i[1]]],T=_.calculateSpacingAdjustment=function(_,n){var o=_.center||[_.x+_.w/2,_.y+_.h/2],i=n.center||[n.x+n.w/2,n.y+n.h/2],w=A.gradient(o,i),i=A.quadrant(o,i);return function(_,n,o,i,w){isNaN(o)&&(o=0);var t,e,d=n.y+n.h,$=o==1/0||o==-1/0?n.x+n.w/2:(d-i)/o,j=Math.atan(o);return d="w",i=$,(o=n)[$="x"]<=i&&i<=o[$]+o[d]?{left:e=(t=r[w][1](_,n))/Math.sin(j)*Math.cos(j),top:t}:{left:e=r[w][0](_,n),top:t=e/Math.cos(j)*Math.sin(j)}}(_,n,w,w==1/0||w==-1/0||isNaN(w)?0:o[1]-w*o[0],i)},D=_.paddedRectangle=function(_,n,o){return{x:_[0]-o[0],y:_[1]-o[1],w:n[0]+2*o[0],h:n[1]+2*o[1]}};_.getInstance=function(_){return new n(_)}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(_,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((_=_||self).knockle={})}(this,function(_){"use strict";function j(_,n){if(!(_ instanceof n))throw new TypeError("Cannot call a class as a function")}function i(_,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(_,i.key,i)}}function w(_,n,o){return n&&i(_.prototype,n),o&&i(_,o),_}function r(_,n,o){return n in _?Object.defineProperty(_,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):_[n]=o,_}function n(_,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(n&&n.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),n&&o(_,n)}function s(_){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(_)}function o(_,n){return(o=Object.setPrototypeOf||function(_,n){return _.__proto__=n,_})(_,n)}function a(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function l(_,n){return!n||"object"!=typeof n&&"function"!=typeof n?a(_):n}function e(_,n){return function(_){if(Array.isArray(_))return _}(_)||function(_,n){if(!(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_)))return;var o=[],i=!0,w=!1,t=void 0;try{for(var e,d=_[Symbol.iterator]();!(i=(e=d.next()).done)&&(o.push(e.value),!n||o.length!==n);i=!0);}catch(_){w=!0,t=_}finally{try{i||null==d.return||d.return()}finally{if(w)throw t}}return o}(_,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(_){return function(_){if(Array.isArray(_)){for(var n=0,o=new Array(_.length);n<_.length;n++)o[n]=_[n];return o}}(_)||function(_){if(Symbol.iterator in Object(_)||"[object Arguments]"===Object.prototype.toString.call(_))return Array.from(_)}(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_){var n=16*Math.random()|0;return("x"===_?n:3&n|8).toString(16)})}function u(_){if(null==_)return null;for(var n=_.replace(/^\s\s*/,""),o=/\s/,i=n.length;o.test(n.charAt(--i)););return n.slice(0,i+1)}function c(_,n,o){for(var i in n)_[i]=n[i],o&&o(i,_[i]);return _}function h(_,n,e){if(null==_)return null;if("$data"===n||null==n)return _;var o=n.match(/^\{(.*)\}$/);if(o){for(var i={},w=o[1].split(","),t=0;t<w.length;t++){var d=w[t].split(":"),$=h(_,d[1]);i[u(d[0])]=$||d[1].replace(/'/g,"")}return i}n=n.replace(/\['([^']*)'\]/g,".$1");var j=_,r=null;return n.replace(/([^\.])+/g,function(_,n,o,i){var w,t;null==r&&(w=_.match(/([^\[0-9]+){1}(\[)([0-9+])/),t=function(){return j[w[1]]||(j[w[1]]=[],j[w[1]])},o+_.length>=i.length?w?(o=t(),i=w[3],null==e?r=o[i]:o[i]=e):null==e?r=j[_]:j[_]=e:j=w?(t=t())[w[3]]||(t[w[3]]={},t[w[3]]):j[_]||(j[_]={},j[_]))}),r}function t(_){return _.filter(function(_){return null!=_&&0<u(_).length})}function p(_,n){for(var o=0;o<_.length;o++){var i=_[o];null!=i&&0!==i.length&&n(o,i)}}function f(_){_=document.getElementById(_);return null!=_?_.innerHTML:null}function g(_,n){return null==_?_:t(_.replace("/>",">").split(/^<|>$/)[1].split(n))}function m(_){return 0<_.length?_[_.length-1]:null}function v(_){if(null==_||0===_.length)return!1;for(var n=_.length-1;-1<n;n--)if("each"===_[n].type)return!0;return!1}function y(_,n,o,i,w){var t=$(),e={w:n,e:[],u:t};return(w.bindings[t]=e).reapply=new Function("$data",(null!=i?"var out='';try { with($data) { if ("+i+") out = this.w; else return null; }}catch(_){return null;}":"var out = this.w;")+"for (var k = 0; k < this.e.length; k++) { with($data) { "+(null!=i?"try {  if("+i+") { out = out.replace(this.e[k][0], eval(this.e[k][1])); } else out=''; } catch(__) { out='';}":"try { out = out.replace(this.e[k][0], eval(this.e[k][1])); } catch(__) { out=out.replace(this.e[k][0], '');}")+" }} return out;"),o.bindings[_]=e,n.replace(/\$\{([^\}]*)\}/g,function(_,n,o,i){return e.e.push([_,n]),""}),t}function b(_,n,o,i,w){y(_,o.atts[_]=n,o,i,w)}function P(_,i){for(var n=g(_,i.attributesRe),w={el:u(n[0]),atts:{},bindings:{}},o=function(_,n){var o=_.match(/([^=]+)=['"](.*)['"]/);return null==o&&null==n?w.atts[_]="":null==o?b(_,"",w,n,i):b(o[1],o[2],w,n,i),o},t=1;t<n.length;t++){var e=u(n[t]);if(null!=e&&0<e.length){var d=e.match(i.inlineIfRe);if(d)for(var $=d[2].split(i.attributesRe),j=0;j<$.length;j++){var r=u($[j]);null!=r&&0<r.length&&o(r,d[1])}else o(e)}}return w}function E(_){j(this,E),this.instance=_,r(this,"type",void 0),r(this,"tag",void 0),r(this,"remove",void 0),r(this,"uuid",void 0),r(this,"children",[]),r(this,"elements",[]),r(this,"bindings",void 0),r(this,"context",void 0),r(this,"functionBody",void 0),r(this,"precompile",void 0),r(this,"postcompile",void 0),this.uuid=$(),_.entries[this.uuid]=this}var x=function(){function o(_,n){return j(this,o),r(a(n=l(this,s(o).call(this,n))),"type","text"),r(a(n),"value",void 0),r(a(n),"bindings",void 0),n.value=_.value,n.bindings={},n}return n(o,E),w(o,[{key:"_getBoundValue",value:function(){return"_rotors.bind(__knockleData[0], '"+this.bindings.__element.u+"', typeof $key !== 'undefined' ? $key : null, typeof $value !== 'undefined' ? $value : null)"}},{key:"compile",value:function(){return this.instance.getExecutionContent(this._getBoundValue(),this.uuid,!0)+";_rotors.pet(_eid, '"+this.uuid+"');"}},{key:"updateFrom",value:function(_,n,o){return _.el.nodeValue=n.el.nodeValue,{added:[],removed:[],elements:[]}}}]),o}();function C(){return{added:[],removed:[],elements:[]}}function S(_,n){for(var o=0;o<n.children.length;o++){var i,w=!0;for(i in _)if(_[i]!==n.children[o][i]){w=!1;break}if(w)return n.children[o]}}function I(_,n,o,i,w){function t(_){for(var n="",o=0;o<i.length;o++)n+=_[i[o]];return n}var e,d,$={},j=[],r=[],s={added:[],removed:[],elements:[]};if(0<o.children.length)for(var a=0;a<n.children.length;a++){e=n.children[a];for(var l={},u=0;u<i.length;u++)l[i[u]]=e[i[u]];null==(d=S(l,o))?j.push(e):($[t(e)]=!0,d=_.updateFrom(e,d,null),Array.prototype.push.apply(s.added,d.added),Array.prototype.push.apply(s.removed,d.removed))}else Array.prototype.push.apply(j,n.children);for(var c={},h=0;h<j.length;h++)j[h].el.parentNode&&j[h].el.parentNode.removeChild(j[h].el),c[j[h].index]=!0;var p=n.children.filter(function(_){return!0!==c[_.index]});n.children=p;for(var f=0<n.children.length?n.children[n.children.length-1].el:null,g=0;g<o.children.length;g++)$[t(e=o.children[g])]||(n.children.push(e),r.push(e));if(0<r.length)for(var m=0;m<r.length;m++)null!=f?f.parentNode.insertBefore(r[m].el,f.nextSibling):null!=w?w.el.appendChild(r[m].el):console.log("Knockle: couldnt insert child, nothing to insert after"),f=r[m].el;return Array.prototype.push.apply(s.added,r),Array.prototype.push.apply(s.removed,j),s}function k(_,n,o){var t=this;function i(n,i){for(var w=[],_=0;_<n.length;_++)!function(_){var o=c({},n[_]);o.compile=n[_].compile,w.push(o),c(o.atts,i.atts,function(_,n){b(_,n,o,null,t.instance)})}(_);return w}j(this,k),this.instance=_,this.tagName=n,this.options=o,r(this,"template",void 0),r(this,"getFunctionBody",void 0),r(this,"getFunctionEnd",void 0),r(this,"rendered",void 0),r(this,"updated",void 0),this.template=o.template,this.getFunctionBody=function(_,n){var o=_.parse(t.template,null,{originalCustomTag:n.tag,context:n.context,customParent:n}),n=i(o,n);return _.compile(n,!1,!0,!0)},this.getFunctionEnd=function(){return";_els.pop();"},this.rendered=o.rendered||function(_,n,o){},this.updated=o.updated||function(_,n,o){}}var A=function(){function o(_,n){return j(this,o),r(a(n=l(this,s(o).call(this,n))),"type","comment"),r(a(n),"comment",void 0),n.comment=_,n}return n(o,E),w(o,[{key:"compile",value:function(){return""}},{key:"updateFrom",value:C}]),o}(),T=function(){function t(_,n,o,i,w){j(this,t),(n=l(this,s(t).call(this,n))).templateResolver=o,n.stack=i,n.parseIdStack=w,r(a(n),"type","element"),r(a(n),"namespace",void 0),r(a(n),"atts",void 0),r(a(n),"custom",void 0);w=_.el.split(":");return n.tag=_.el,2===w.length&&(n.namespace=w[0]),n.atts=_.atts,n.bindings=_.bindings,n.remove=!1,n}return n(t,E),w(t,[{key:"compile",value:function(_){var n=this.instance.getCustomTag(this.tag);if(n){for(var o=n.getFunctionBody(this.instance,this),n="_rotors.customTagRendered('"+this.tag+"', _le, __knockleData[0]);",i=0;i<this.children.length;i++)this.children[i].precompile&&(o+=this.children[i].precompile(this.instance)),o+=this.children[i].compile(),this.children[i].postcompile&&(o+=this.children[i].postcompile(this.instance));return o+="_le=_els.pop();"+n+"_rotors.pet(_eid,'"+this.uuid+"');"}var w,t,e,d,$="/* element entry "+this.uuid+" */;";if(!0!==this.remove)for(w in $+=this.instance.getExecutionContent(this.tag,this.uuid,!1,this.namespace),this.atts)this.atts.hasOwnProperty(w)&&(e=void 0,null!=this.bindings[w]?(e="_rotors.bind(__knockleData[0], '"+this.bindings[w].u+"');",(d=w.match(/\(([^)]+)\)/))&&(t=';if(__a!=null){_rotors.addCommand(_eid,e,"'+d[1]+'","'+this.atts[w]+'");}')):e="'"+this.atts[w]+"'",$+="__a="+e+(d?t:";if(__a!=null) {_rotors.setAttribute(e,'"+w+"',__a || '');}"));for(var j=0;j<this.children.length;j++){this.children[j].precompile&&($+=this.children[j].precompile());var r=this.children[j].compile();$+=r,this.children[j].functionBody=r,this.children[j].postcompile&&($+=this.children[j].postcompile())}return!0===this.remove||_||($+="_le=_els.pop();",$+="_rotors.pet(_eid, '"+this.uuid+"');"),$}},{key:"_applyStyles",value:function(i,_){_.split(";").forEach(function(_){var n=_.indexOf(":"),o=_.substring(0,n);i.style[o]=_.substring(n+1)})}},{key:"updateFrom",value:function(_,n,o){var i,w,t,e,d=C();for(i in this.atts)this.atts.hasOwnProperty(i)&&"class"!==i&&((w=n.el.getAttribute(i))?"style"===i&&null!=_.el.style?this._applyStyles(_.el,w):_.el.setAttribute(i,w):_.el.removeAttribute(i));!this.originalCustomTag||(e=this.instance.getCustomTag(this.originalCustomTag))&&d.elements.push([_.el,e]);for(var $=0;$<_.children.length;$++)t=this.instance.updateFrom(_.children[$],n.children[$],_),Array.prototype.push.apply(d.removed,t.removed),Array.prototype.push.apply(d.added,t.added),Array.prototype.push.apply(d.elements,t.elements);if(_.el._RotorsUpdate)for(var j=this.instance.updaters[_.el._RotorsUpdate],r=0;r<j.length;r++)j[r](_.el);return d}}]),t}(),D={},M={construct:function(_,n,o,i,w,t){var e=D[_];if(e)return new e(n,o,i,w,t);throw{message:"Knockle: unknown element '"+_+"'"}},register:function(_,n){D[_]=n},exists:function(_){return null!=D[_]}},N=function(){function _(){j(this,_),r(this,"childNodes",void 0),this.childNodes=[]}return w(_,[{key:"appendChild",value:function(_){this.childNodes.push(_)}},{key:"toString",value:function(){for(var _="",n=0;n<this.childNodes.length;n++)_+=this.childNodes[n].toString();return _}}]),_}(),O=function(){function o(_){var n;return j(this,o),r(a(n=l(this,s(o).call(this))),"tag",void 0),r(a(n),"atts",void 0),n.tag=_,n.atts={},n}return n(o,N),w(o,[{key:"getAttribute",value:function(_){return this.atts[_]}},{key:"setAttributeNS",value:function(_,n,o){this.atts[_+":"+n]=o}},{key:"setAttribute",value:function(_,n){this.atts[_]=n}},{key:"toString",value:function(){var _,n="<"+this.tag,o="";for(_ in this.atts)o+=" "+_+'="'+this.atts[_]+'"';n=n+o+">";for(var i=0;i<this.childNodes.length;i++)n+=this.childNodes[i].toString();return n+"</"+this.tag+">"}},{key:"insertAdjacentElement",value:function(_,n){throw"FakeElement insertAdjacentElement - not implemented. Update failed."}}]),o}(),F=function(){function n(_){j(this,n),r(this,"nodeValue",void 0),this.nodeValue=_}return w(n,[{key:"toString",value:function(){return this.nodeValue}}]),n}();var L=function(){function i(n,_,o){j(this,i),this.registerGlobalTag=_,this.getGlobalTag=o,r(this,"templateResolver",void 0),r(this,"defaultTemplate",void 0),r(this,"entries",void 0),r(this,"bindings",void 0),r(this,"customTags",{}),r(this,"cache",new Map),r(this,"templateCache",new Map),r(this,"openRe",new RegExp("<([^/>]*?)>$|<([^/].*[^/])>$")),r(this,"closeRe",new RegExp("^</([^>]+)>")),r(this,"openCloseRe",new RegExp("<(.*)(/>$)")),r(this,"tokenizerRe",/(<[^\^>]+\/>)|(<!--[\s\S]*?-->)|(<[\/a-zA-Z0-9\-:]+(?:\s*[\(a-zA-Z\-\)]+=\"[^\"]*\"|\s*[a-zA-Z\-]+='[^']+'|\s*[\(a-zA-Z\-\)]|\s*\{\{.*\}\})*>)/),r(this,"commentRe",/<!--[\s\S]*?-->/),r(this,"attributesRe",/([\(a-zA-Z0-9\-_:\)]+="[^"]*")|(\{\{if [^(?:\}\})]+\}\}.*\{\{\/if\}\})/),r(this,"inlineIfRe",/\{\{if ([^\}]+)\}\}(.*)\{\{\/if\}\}/),r(this,"singleExpressionRe",/^[\s]*\$\{([^\}]*)\}[\s]*$/),r(this,"_fnPreamble","__knockleData=[__knockleData||{}];var frag=_rotors.cf(),_els=[],e,_le,__a,$value,$key,_eid = _rotors.nec();_els.push(frag);"),r(this,"_fnSuffix",";_rotors.pushCommands(_eid,frag);return frag;"),r(this,"isBrowser",!0),r(this,"executions",void 0),r(this,"updaters",{}),r(this,"namespaceHandlers",{svg:function(_){return"e = document.createElementNS('http://www.w3.org/2000/svg', '"+_.split(":")[1]+"');e.setAttribute('version', '1.1');e.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');"}}),r(this,"namespaces",{xlink:"http://www.w3.org/1999/xlink"}),n=n||{},this.entries={},this.bindings={},this.executions={},this.defaultTemplate=n.defaultTemplate,this.templateResolver=n.templateResolver||(n.templates?function(_){return n.templates[_]}:this.isBrowser?f:null)}return w(i,[{key:"bind",value:function(_,n){n=this.bindings[n];return null==n?"":n.reapply(_)}},{key:"addCommand",value:function(_,n,o,i){this.executions[_].commands=this.executions[_].commands||{},this.executions[_].commands[o]=this.executions[_].commands[o]||[],this.executions[_].commands[o].push({element:n,command:o,action:i})}},{key:"pushCommands",value:function(_,n){n.commands=this.executions[_].commands}},{key:"setAttribute",value:function(_,n,o){n=n.split(":");1===n.length||null==this.namespaces[n[0]]?_.setAttribute(n[0],o):_.setAttributeNS(this.namespaces[n[0]],n[1],o)}},{key:"clearCache",value:function(){this.cache.clear(),this.templateCache.clear()}},{key:"cf",value:function(){return this.isBrowser?document.createDocumentFragment():new N}},{key:"ctn",value:function(_){return this.isBrowser?document.createTextNode(_):new F(_)}},{key:"ce",value:function(_){return this.isBrowser?document.createElement(_):new O(_)}},{key:"nec",value:function(){var _=$();return this.executions[_]={current:[{children:[]}]},_}},{key:"te",value:function(_,n,o,i){_={el:_,children:[],id:o,index:i};this.executions[n].current[0].children.push(_);i=o+(null!=i?"-"+i:"");this.executions[n][i]=_,this.executions[n].current.unshift(_)}},{key:"pet",value:function(_){this.executions[_].current=this.executions[_].current.splice(1)}},{key:"parseAttributes",value:function(_){return g(_,this.attributesRe)}},{key:"getExecutionContent",value:function(_,n,o,i){return(null!=i?this.namespaceHandlers[i](_):o?"e=_rotors.ctn("+_+");":"e=_rotors.ce('"+_+"');")+"_rotors.peek(_els).appendChild(e);"+(o?"":"_els.push(e);")+"e._rotors=_rotors.entries['"+n+"'];e._rotorsEid=_eid;if(typeof _rotorsLoopId !== 'undefined') {e._rotorsLoopId=_rotorsLoopId;e._rotorsLoopContext=_rotorsLoopContext;e._rotorsKey=$key;}_rotors.te(e, _eid, '"+n+"', typeof $key != 'undefined' ? $key  : null);"}},{key:"_wrapCache",value:function(o,i){var w=this;return function(_){var n=i?null:w.cache.get(_);return null!=(n=null==(n=null==n?o(_):n)?w.defaultTemplate:n)&&w.cache.set(_,n),n}}},{key:"constructElement",value:function(_,n,o,i,w){return M.construct(_,n,this,o,i,w)}},{key:"isCustomElement",value:function(_){return M.exists(_)}},{key:"parse",value:function(_,t,n,e){var d=this;e=e||[],t=this._wrapCache(t||this.templateResolver,null);function $(){return 0<w.length?w[w.length-1]:null}function j(_,n){0<w.length&&$().children.push(_),n?0===w.length&&o.push(_):w.push(_)}function r(){var _,n=w.pop();return 0!==w.length||n.remove?!n.remove||(_=$())&&_.children.pop():o.push(n),n}function s(_,n,o,i){return _=P(_,d),d.isCustomElement(_.el)?d.constructElement(_.el,_,o,w,e):new T(_,d,o,w,e)}var w=[],o=[],a=[{re:this.commentRe,handler:function(_,n,o,i,w){j(new A(_,i),!0)}},{re:this.openRe,handler:function(_,n,o,i,w){o=s(_,0,o);j(o,o.remove)}},{re:this.closeRe,handler:function(_,n,o,i,w){if("r-tmpl"!==n[1]){if(t=n[1],null==(e=$())||e.tag!==t)throw new TypeError("Unbalanced closing tag '"+n[1]+"'; opening tag was '"+r().tag+"'");var t,e;r()}}},{re:this.openCloseRe,handler:function(_,n,o,i,w){o=s(_,0,o);j(o,!0)}},{re:/.*/,handler:function(_,n,o,i,w){var t=new x({value:_},d);j(t,!0),y("__element",_,t,null,d)}}];if(p(u(_).split(this.tokenizerRe),function(_,n){for(var o=u(n),i=0;i<a.length;i++){var w=function(_,n){n=_.match(n);return null==n?null:n}(o,a[i].re);if(w){a[i].handler(n,w,t,d,e);break}}}),0<o.length&&n)for(var i in n)o[0][i]=n[i];return o}},{key:"compile",value:function(_,n,o,i){for(var w,t=[],e=0;e<_.length;e++){var d="";_[e].precompile&&(d+=_[e].precompile(this)),d+=w=_[e].compile(i),_[e].functionBody=w,_[e].postcompile&&(d+=_[e].postcompile(this)),t.push(d)}var $=t.join("");if(o)return $;var j=this._compileSingle($),r=this;if(n)return j;n=function(_){return j.apply(this,[_,r])};return n.functionBody=$,n}},{key:"_compileSingle",value:function(_){return new Function("__knockleData,_rotors",this._fnPreamble+_+this._fnSuffix)}},{key:"_executeSingle",value:function(_,n){return this._compileSingle(_)(n,this)}},{key:"updateFrom",value:function(_,n,o){return this.entries[_.id].updateFrom(_,n,o)}},{key:"getTemplate",value:function(_){return this.templateCache.get(_)}},{key:"template",value:function(_,n,o,i){var w=i?null:this.templateCache.get(_);if(null!=w)return w(n);i=(o=this._wrapCache(o||this.templateResolver,i))(_);if(null==i)return this.cf();o=this.parse(i,o,null,[_]),o=this.compile(o);return this.templateCache.set(_,o),o(n)}},{key:"peek",value:m},{key:"data",value:h},{key:"each",value:function(_,n,o,i,w){if(Array.isArray(_))for(t=0;t<_.length;t++)n(_[t],o,t,i,w);else for(var t in _)_.hasOwnProperty(t)&&n({$key:t,$value:_[t]},o,t,i,w)}},{key:"update",value:function(_,o){var n,i=this,w=_._rotorsEid;if(null!=w&&null!=_._rotors){t=(n=_._rotors.instance).executions[w];var w=_._rotorsKey,t=t[_._rotors.uuid+(null!=w?"-"+w:"")],_=n.entries[t.id],w=n._executeSingle((_.customParent||_).functionBody,o).childNodes[0],_=w._rotorsEid,w=n.executions[_][w._rotors.uuid],w=this.updateFrom(t,w,null);return w.elements.forEach(function(_){var n=e(_,2),_=n[0];n[1].updated(_,o,i)}),w}}},{key:"onUpdate",value:function(_,n){var o;null!=_._rotors&&(o=_._rotors.instance,_._RotorsUpdate=_._RotorsUpdate||$(),o.updaters[_._RotorsUpdate]=o.updaters[_._RotorsUpdate]||[],o.updaters[_._RotorsUpdate].push(n))}},{key:"copyChildNodes",value:function(_,n){for(var o=_.childNodes.length,i=0;i<o;i++)n.appendChild(_.childNodes[0])}},{key:"remove",value:function(_){_._RotorsUpdate&&this.updaters[_._RotorsUpdate]&&delete this.updaters[_._RotorsUpdate],_._rotorsEid&&this.executions[_._rotorsEid]&&delete this.executions[_._rotorsEid]}},{key:"registerTag",value:function(_,n,o){n=new k(this,_,n);o?this.registerGlobalTag(_,n):this.customTags[_]=n}},{key:"getCustomTag",value:function(_){return this.customTags[_]||this.getGlobalTag(_)}},{key:"customTagRendered",value:function(_,n,o,i){_=this.getCustomTag(_);_&&_.rendered(n,o,i)}},{key:"destroy",value:function(){this.executions=null,this.updaters=null}}]),i}(),R=function(){function t(_,n,o,i,w){return j(this,t),r(a(w=l(this,s(t).call(this,_,n,o,i,w))),"context",void 0),r(a(w),"key",void 0),r(a(w),"type","each"),w.context=_.atts.in,w.key=_.atts.key,w.tag="r-each",w}return n(t,T),w(t,[{key:"compile",value:function(){var i=this;return";_rotors.te(null, _eid, '"+this.uuid+"');"+(this.context?';__knockleData.unshift(_rotors.data(__knockleData[0], "'+this.context+'"));':"")+("_rotors.each(__knockleData[0], "+function(){var _="function(item, _rotorsLoopId, _rotorsLoopIndex, _rotorsLoopContext, _key) { ";_+="__knockleData.unshift(item);$value=item;",_+="$key=_key ? _rotors.data($value, _key) : _rotorsLoopIndex;";for(var n=0;n<i.children.length;n++){var o=i.children[n].compile();_+=i.children[n].functionBody=o}return _+="__knockleData.splice(0,1);",_+="}"}()+",'"+this.uuid+"', '"+this.context.replace(/'/g,"\\'")+"',"+(void 0===this.key?"null);":"'"+this.key+"');"))+(this.context?";__knockleData.splice(0, 1);":"")+(";_rotors.pet(_eid, '"+this.uuid+"');")}},{key:"updateFrom",value:function(_,n,o){for(var i,o=I(this.instance,_,n,["id","index"],o),w=null,t=0;t<n.children.length;t++)(i=S({index:n.children[t].index,id:n.children[t].id},_))&&i.el&&(null!=w&&w.parentNode.insertBefore(i.el,w.nextSibling),w=i.el);return o}}]),t}();M.register("r-each",R);var G=function(){function t(_,n,o,i,w){return j(this,t),r(a(w=l(this,s(t).call(this,_,n,o,i,w))),"type","if"),r(a(w),"test",void 0),r(a(w),"happyFlowChildren",void 0),w.test=_.atts.test,w.tag="r-if",w}return n(t,T),w(t,[{key:"compile",value:function(){for(var _="",n="",o=this.happyFlowChildren||this.children,i=0;i<o.length;i++)_+=o[i].compile()+";";if(null!=this.happyFlowChildren){for(n="else {",i=0;i<this.children.length;i++)n+=this.children[i].compile()+";";n+="}"}return";_rotors.te(null, _eid, '"+this.uuid+"');"+"with (__knockleData[0]) { if("+this.test+") { "+_+" }"+n+"}_rotors.pet(_eid);"}},{key:"updateFrom",value:function(_,n,o){return I(this.instance,_,this.flatMap(n),["id"],o)}},{key:"flatMap",value:function(_){var n=[];return _.children.forEach(function(_){null==_.el?n.push.apply(n,d(_.children)):n.push(_)}),{el:_.el,index:_.index,id:_.id,children:n}}}]),t}();M.register("r-if",G);var z=function(){function t(_,n,o,i,w){j(this,t),w=l(this,s(t).call(this,_,n,o,i,w));i=m(i);return null!=i&&i instanceof G&&(i.happyFlowChildren=i.children,i.children=[]),w.remove=!0,w.tag="r-else",w}return n(t,T),w(t,[{key:"compile",value:function(){return""}},{key:"updateFrom",value:function(_,n,o){return C()}}]),t}();M.register("r-else",z);var U=function(){function $(_,n,o,i,w){var t;if(j(this,$),r(a(t=l(this,s($).call(this,_,n,o,i,w))),"templateId",void 0),r(a(t),"lookup",void 0),r(a(t),"default",void 0),t.context=_.atts.context,t.type="template",t.remove=!0,_.atts.lookup)t.lookup=_.atts.lookup,t.default=_.atts.default||"",t.compile=function(){return';with(__knockleData[0]){var tlid=eval("'+t.lookup.replace(/[\$\{\}]/g,"")+'");}if (_rotors.templateCache[tlid] == null){var ___t = _rotors.templateResolver(tlid) || _rotors.templateResolver("'+t.default+'");_rotors.templateCache[tlid]=_rotors.compile(_rotors.parse(___t));} eval(_rotors.templateCache[tlid].functionBody);'};else{t.templateId=_.atts.id;i=v(i);if(-1!==w.indexOf(t.templateId)){if(!i)throw new TypeError("recursive template call ["+t.templateId+"]");t.compile=function(){return";eval(_rotors.getTemplate('"+t.templateId+"').functionBody);"}}else{i=o(t.templateId);w.push(t.templateId);var e=t.instance.parse(i,o,null,w);null==t.instance.templateCache.get(t.templateId)&&t.instance.templateCache.set(t.templateId,t.instance.compile(e));for(var d=0;d<e.length;d++)e[d].context=t.context;t.children=e,w.pop()}}return t.precompile=function(){return t.context?';__knockleData.unshift(_rotors.data(__knockleData[0], "'+t.context+'"));':""},t.postcompile=function(){return t.context?";__knockleData.splice(0, 1);":""},t}return n($,T),w($,[{key:"updateFrom",value:function(_,n,o){return{added:[],removed:[],elements:[]}}}]),$}();M.register("r-tmpl",U);var B,V,H,W=function(){function t(_,n,o,i,w){return j(this,t),l(this,s(t).call(this,_,n,o,i,w))}return n(t,T),w(t,[{key:"compile",value:function(){try{return";var __hp=_rotors.parse(__knockleData[0]."+this.children[0].bindings.__element.e[0][1]+"),__hc=_rotors.compile(__hp,true);var __f=__hc(__knockleData[0], _rotors);_rotors.copyChildNodes(__f, _rotors.peek(_els));"}catch(_){return""}}},{key:"updateFrom",value:function(_,n,o){return C()}}]),t}();M.register("r-html",W),"undefined"!=typeof window&&(B={},V=function(_,n){if(null!=B[_])throw new Error("Tag '"+_+"' already registered");B[_]=n},H=function(_){return B[_]},window.Knockle={newInstance:function(_){return new L(_||{},V,H)},data:h,filterEmpty:t}),_.AbstractEntry=E,_.CommentEntry=A,_.CustomTag=k,_.EachEntry=R,_.ElementEntry=T,_.Elements=M,_.ElseEntry=z,_.HtmlEntry=W,_.IfEntry=G,_.InBrowserTemplateResolver=f,_.Knockle=L,_.TextEntry=x,_.TmplEntry=U,_._addBinding=y,_._bindOneAtt=b,_.data=h,_.eachNotEmpty=p,_.extend=c,_.fastTrim=u,_.filterEmpty=t,_.isLoopPresent=v,_.parseAttributes=g,_.parseAtts=P,_.peek=m,_.uuid=$,Object.defineProperty(_,"__esModule",{value:!0})}),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var _,t=this.jsPlumbUtil;"undefined"!=typeof exports&&(exports.jsPlumbUtil=t),(_=t.xml||(t.xml={})).setNodeText=function(_,n){_.text=n;try{_.textContent=n}catch(_){}},_.getNodeText=function(_){return null!=_?_.text||_.textContent:""},_.getChild=function(_,n){for(var o=null,i=0;i<_.childNodes.length;i++)if(1===_.childNodes[i].nodeType&&_.childNodes[i].nodeName===n){o=_.childNodes[i];break}return o},_.getChildren=function(_,n){for(var o=[],i=0;i<_.childNodes.length;i++)1===_.childNodes[i].nodeType&&_.childNodes[i].nodeName===n&&o.push(_.childNodes[i]);return o},_.xmlToString=function(n){try{return(new XMLSerializer).serializeToString(n).replace(/\s*xmlns=\"http\:\/\/www.w3.org\/1999\/xhtml\"/g,"")}catch(_){try{return n.xml}catch(_){throw new Error("Cannot serialize XML "+_)}}},_.createElement=function(n,_,o){var i;try{i=new ActiveXObject("Microsoft.XMLDOM").createNode(1,n,"")}catch(_){i=document.createElement(n)}if(o&&t.xml.setNodeText(i,o),_)for(var w in _)i.setAttribute(w,_[w]);return i},t.debounce=function(_,n){n=n||150;var o=null;return function(){window.clearTimeout(o),o=window.setTimeout(_,n)}},t.ajax=function(_){var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),o=_.type||"GET";if(n){var i="json"===_.dataType?function(_){return JSON.parse(_)}:function(_){return _};n.open(o,_.url,!0);var w,t=_.headers||{};for(w in t)n.setRequestHeader(w,t[w]);n.onreadystatechange=function(){4===n.readyState&&("2"===(""+n.status)[0]?_.success(i(n.responseText)):_.error&&_.error(n.responseText,n.status))},n.send(_.data?JSON.stringify(_.data):null)}else _.error&&_.error("ajax not supported")}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){jsPlumbUtil.FilterableDataset=function(n){this.filter=function(t,e){var _,w="function"==typeof t?t:function(_){var n,o=_.data,i=!1;for(n in t){var w=t[n]===o[n];if(!w&&!e)return!1;i=i||w}return i},d=new jsPlumbUtil.Selection({toolkit:n,onClear:_||function(){}});return this.eachNode(function(_,n){w(n)&&d.append(n);for(var o=n.getPorts(),i=0;i<o.length;i++)w(o[i])&&d.append(o[i])}),this.eachEdge(function(_,n){w(n)&&d.append(n)}),this.eachGroup(function(_,n){w(n)&&d.append(n)}),d}}}.call("undefined"==typeof window?this:window),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){var k=this.jsPlumb,A=this.jsPlumbUtil,T="jtk-animate-node-traversing",D="jtk-animate-edge-traversing",M="jtk-animate-edge-traversed",N="INITIALIZED",O="TRAVERSING_START",F="TRAVERSING_EDGE",L="TRAVERSING_END",R="CANCELLED",G="FINISHED";k.Connection.prototype.animateOverlay=function(_,n){var o=this,i=new A.EventGenerator,w=o.getConnector().getLength();n=n||{};var t,e=A.uuid(),d=n.events||{};for(t in d)i.bind(t,d[t]);function $(_){x=!1,o.removeOverlay(e),window.clearInterval(a),g?_?(C=R,k.removeClass(y,T),k.removeClass(b,T),o.removeClass(D)):(C=L,k.addClass(b,T),window.setTimeout(function(){I()},p)):(k.removeClass(y,T),k.removeClass(b,T),o.removeClass(D),_?C=R:(C=G,o.addClass(M),i.fire(jsPlumbToolkit.Events.endOverlayAnimation,{connection:o,harness:u})))}function j(){v+=f,(c?1<=v:v<=0)?$():(l.loc=v,o.repaint())}function r(){x||C===G||C===R||(k.removeClass(y,T),i.fire(jsPlumbToolkit.Events.nodeTraverseEnd,{connection:o,element:y,harness:u}),C=F,i.fire(jsPlumbToolkit.Events.startOverlayAnimation,{connection:o,harness:u}),l=o.addOverlay(S),a=window.setInterval(j,h))}function s(){x=!(E=!0),i.fire(jsPlumbToolkit.Events.nodeTraverseStart,{connection:o,element:y,harness:u}),k.addClass(y,T),o.addClass(D),C=O,window.setTimeout(function(){r()},p)}var a,l,u=null,c=!1!==n.forwards,h=n.rate||30,p=n.dwell||350,f=1/(w/(n.speed||100)*1e3/h)*(c?1:-1),g=!1!==n.isFinal,m=c?0:1,v=m,y=c?o.source:o.target,b=c?o.target:o.source,P=!0===n.paused,E=!1,x=!1,C=N,S="string"==typeof _?[_,{location:m,id:e}]:((w=k.extend({},_[1])).location=m,w.id=e,[_[0],w]),I=function(){x||C===G||C===R||(C=G,k.removeClass(y,T),k.removeClass(b,T),o.removeClass(D),i.fire(jsPlumbToolkit.Events.endOverlayAnimation,{connection:o,harness:u}))},u={eventGenerator:i,play:function(){E?x&&(x=!1,C===O?r():C===L?I():a=window.setInterval(j,h)):s()},pause:function(){x=!0,window.clearInterval(a)},cancel:function(){C!==G&&C!==R&&(window.clearInterval(a),$(!0))},connection:o};return n.previous?n.previous.eventGenerator.bind(jsPlumbToolkit.Events.endOverlayAnimation,s):P||s(),u}}.call("undefined"==typeof window?this:window),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var _=this.jsPlumbUtil;"undefined"!=typeof exports&&(exports.jsPlumbUtil=_);function c(_,n,o,i){for(var w=0;w<n.length;w++)for(var t=0;t<o.length;t++)y(_,n[w]+o[t],i)}var h=["node","port","edge","group"],p=["Added","Removed","Updated","Moved"],f=["edge"],g=["Source","Target"],m=["group:"],v=["addMember","removeMember"],y=function(_,n,o){_.instance.bind(n,o),_.bindings.push([n,o])};_.AutoSaver=function(n,_,o,i,w,t,e,d,$){var j=null,r=[];function s(_){return function(){_&&_.apply(_,arguments),e&&e()}}function a(){if(!u){try{t&&t()}catch(_){}null!=$?$(n):n.save({url:_,success:s(i),error:s(w),headers:o})}}function l(){null==d?a():j=(null==j||clearTimeout(j),setTimeout(a,d))}this.bindings=r,this.instance=n;var u=!1;y(this,"dataLoadStart",function(){u=!0}),y(this,"dataLoadEnd",function(){u=!1}),y(this,"graphClearStart",function(){u=!0}),y(this,"graphCleared",function(){u=!1}),c(this,h,p,l),c(this,f,g,l),c(this,m,v,l),this.discard=function(){r.forEach(function(_){return n.unbind(_[0],_[1])}),r.length=0}},_.CatchAllEventHandler=function(_){function n(){_.fire("dataUpdated")}this.bindings=[],this.instance=_,c(this,h,p,n),c(this,f,g,n),c(this,m,v,n)}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){var P=this.jsPlumbUtil;P.Selection=function(_){_=_||{},P.EventGenerator.apply(this,arguments),P.FilterableDataset.apply(this,[_.toolkit]);function w(_){return"Edge"===_.objectType?$:"Node"===_.objectType?e:d}var t,j=_.toolkit,e=[],d=[],$=[],r=Math.Infinity,s=Math.Infinity,a=Math.Infinity,n=_.generator,o=_.onReload,i=_.onBeforeReload,l=!0===_.autoFill,u=!1,c={},h=this,p=_.onClear||function(){},f=function(_,n){var o=_.objectType.toLowerCase()+n,n={Group:{data:_.data,group:_},Node:{data:_.data,node:_},Port:{data:_.data,node:_.node,port:_},Edge:{data:_.data,edge:_}};h.fire(o,n[_.objectType])};this.getModel=j.getModel,this.setSuspendGraph=j.setSuspendGraph,this.getNodeId=j.getNodeId,this.getGroupId=j.getNodeId,this.getEdgeId=j.getEdgeId,this.getPortId=j.getPortId,this.getNodeType=j.getNodeType,this.getGroupType=j.getNodeType,this.getEdgeType=j.getEdgeType,this.getPortType=j.getPortType,this.getObjectInfo=j.getObjectInfo,this.isDebugEnabled=j.isDebugEnabled,this.beforeStartConnect=j.beforeStartConnect,this.beforeConnect=j.beforeConnect,this.getEdgeFactory=j.getEdgeFactory,this.addPort=j.addPort,this.addEdge=j.addEdge,this.edgeMoved=j.edgeMoved,this.removeEdge=j.removeEdge,this.setEdgeGeometry=j.setEdgeGeometry,this.removeFromGroup=j.removeFromGroup,this.batch=j.batch,this.getGraph=j.getGraph;function g(_,n){if(c[_.getFullId()])return[[],[]];var o=function(_){var n=[],o=w(_),i="Edge"===_.objectType?s:"Node"===_.objectType?r:a;if(o.length>=i){if(t===P.Selection.DISCARD_NEW)return!1;n=o.splice(0,1),f(n[0],"Removed"),delete c[n[0].getFullId()]}return o.push(_),f(_,"Added"),n}(_);return!1===o?[[],[]]:(c[_.getFullId()]=_,n&&n(_,!0),[[_],o])}function m(n,_){return P.removeWithFunction(w(n),function(_){return _.id==n.id})&&f(n,"Removed"),delete c[n.getFullId()],_&&_(n,!1),[[],[]]}function v(_,n){return(c[_.getFullId()]?m:g)(_,n)}var y=function(_,i,w){var t,e=[],d=[];if(null==_)return e;var $=function(_){var n;if(P.isString(_))null!=(n=j.getNode(_)||j.getEdge(_)||j.getGroup(_))&&(t=i(n,w),e.push.apply(e,t[0]),d.push.apply(d,t[1]));else if(_.eachNode&&_.eachEdge)_.eachNode(function(_,n){$(n)}),_.eachEdge(function(_,n){$(n)}),_.eachGroup&&_.eachGroup(function(_,n){$(n)});else if(_.each)_.each(function(_,n){$(n.vertex||n)});else if(null!=_.length)for(var o=0;o<_.length;o++)$(_[o],w);else t=i(_,w),e.push.apply(e,t[0]),d.push.apply(d,t[1])};return $(_),[e,d]}.bind(this);j.bind("nodeRemoved",function(_){m(_.node)}),j.bind("groupRemoved",function(_){m(_.group)}),j.bind("portRemoved",function(_){m(_.port)}),j.bind("edgeRemoved",function(_){m(_.edge)}),j.bind("edgeTarget",function(_){c[_.edge.getFullId()]&&h.fire("edgeTarget",_)}),j.bind("edgeSource",function(_){c[_.edge.getFullId()]&&h.fire("edgeSource",_)}),j.bind("nodeAdded",function(_){n&&l&&!u&&this.reload()}.bind(this)),j.bind("nodeUpdated",function(_){c[_.node.getFullId()]&&h.fire("nodeUpdated",_)}),j.bind("groupUpdated",function(_){c[_.group.getFullId()]&&h.fire("groupUpdated",_)}),j.bind("edgeUpdated",function(_){c[_.edge.getFullId()]&&h.fire("edgeUpdated",_)}),j.bind("portUpdated",function(_){c[_.port.getFullId()]&&h.fire("portUpdated",_)}),this.remove=function(_,n){return y(_,m,n)},this.append=function(_,n){return y(_,g,n)},this.toggle=function(_,n){return y(_,v,n)},this.setMaxNodes=function(_){r=_},this.setMaxEdges=function(_){s=_},this.setCapacityPolicy=function(_){t=_},this.clear=function(_){e.length=0,$.length=0,d.length=0,c={},h.fire("graphClearStart"),_||p(this)},j.bind("graphCleared",function(){this.clear()}.bind(this)),j.bind("dataLoadEnd",function(){this.reload()}.bind(this)),this.reload=function(){null!=n&&(i&&i(),this.clear(),u=!0,this.fire("dataLoadStart"),n(this,j),this.fire("dataLoadEnd"),o&&o(),u=!1)},this.each=function(_,n){for(var o="Edge"===n?$:"Group"===n?d:e,i=0;i<o.length;i++)try{_(i,o[i])}catch(_){P.log("Selection iterator function failed",_)}},this.eachNode=this.each,this.eachGroup=function(_){this.each(_,"Group")},this.eachNodeOrGroup=function(_){this.each(_,"Node"),this.each(_,"Group")},this.eachEdge=function(_){this.each(_,"Edge")},this.getNodeCount=function(){return e.length},this.getNodeAt=function(_){return e[_]},this.getNodes=function(){return e},this.getNode=j.getNode,this.getGroupAt=function(_){return d[_]},this.getGroups=function(){return d},this.getGroup=j.getGroup,this.getGroupCount=function(){return d.length},this.getAll=function(){var _=[];return Array.prototype.push.apply(_,e),Array.prototype.push.apply(_,$),Array.prototype.push.apply(_,d),_};function b(_){for(var n=[],o=0;o<_.length;o++)null!=c[_[o].getId()]&&n.push(_[o]);return n}this.getAllEdgesFor=function(_,n){return b(_.getAllEdges({filter:n}))},this.getSourceEdgesFor=function(_){return b(_.getSourceEdges())},this.getEdgeCount=function(){return $.length},this.get=this.getNodeAt=function(_){return e[_]},this.getEdge=this.getEdgeAt=function(_){return $[_]},this.getEdges=function(){return $},this.setCapacityPolicy(P.Selection.DISCARD_EXISTING),!0!==_.lazy&&this.reload()},P.Selection.DISCARD_EXISTING="discardExisting",P.Selection.DISCARD_NEW="discardNew"}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var g=this.jsPlumbGraph={};g.version="0.1",g.name="jsPlumbGraph";function a(_,n){var o={};this.setAttribute=function(_,n){o[_]=n},this.getAttribute=function(_){return o[_]};var i=n.getType(_||{});this.getType=function(){return i},this.setType=function(_){i=_},this.graph=n}function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_){var n=16*Math.random()|0;return("x"==_?n:3&n|8).toString(16)})}function m(_,n,o){return null==_?i():"string"==typeof _?_:(n||o.getIdFunction())(_)||i()}function I(_,n){var o=n.getFullId(),i=_[o];return null==(i=null==i?_[o=(n.getNode?n.getNode():n).id]:i)?null:{p:i,id:o}}var v=g.Vertex=g.Node=function(_,n,t){a.apply(this,[_,t]),this.objectType="Node",this.id=m(_,n,t),this.data="string"==typeof(_=_)?{id:_}:_,this.getFullId=function(){return this.id};var i=[],w=0,e=0,d=[],o=[],$={};this.getEdges=function(_){if(null==_||null==_.filter)return i;for(var n=[],o=0;o<i.length;o++)_.filter(i[o])&&n.push(i[o]);return n},this.getSourceEdges=function(){return this.getEdges({filter:function(_){return _.source===this}.bind(this)})},this.getTargetEdges=function(){return this.getEdges({filter:function(_){return _.target===this}.bind(this)})},this.addEdge=function(_){i.push(_),_.source!==this&&_.isDirected()||e++,_.target!==this&&_.isDirected()||w++},this.deleteEdge=function(_){for(var n=-1,o=0;o<i.length;o++)if(i[o].getId()===_.getId()){n=o;break}return-1<n&&(i.splice(n,1),_.source!==this&&_.isDirected()||e--,_.target!==this&&_.isDirected()||w--,!0)},this.getAllEdges=function(_){for(var n=this.getEdges(_).slice(0),o=0;o<d.length;o++)n.push.apply(n,d[o].getEdges(_));return n},this.getAllSourceEdges=function(){for(var _=this.getSourceEdges().slice(0),n=0;n<d.length;n++)_.push.apply(_,d[n].getSourceEdges());return _},this.getAllTargetEdges=function(){for(var _=this.getTargetEdges().slice(0),n=0;n<d.length;n++)_.push.apply(_,d[n].getTargetEdges());return _},this.getDirectEdges=function(_){return this.getEdges(_)},this.getDirectSourceEdges=function(){return this.getSourceEdges()},this.getDirectTargetEdges=function(){return this.getTargetEdges()},this.getPortEdges=function(_){for(var n=[],o=0;o<d.length;o++)n.push.apply(n,d[o].getEdges(_));return n},this.getPortSourceEdges=function(){for(var _=[],n=0;n<d.length;n++)_.push.apply(_,d[n].getSourceEdges());return _},this.getPortTargetEdges=function(){for(var _=[],n=0;n<d.length;n++)_.push.apply(_,d[n].getTargetEdges());return _},this.addGraph=function(_){return _="string"==typeof _?new g.Graph({id:_}):_,o.push(_),_.id||(_.id=""+o.length),_},this.getGraph=function(_){for(var n=0;n<o.length;n++)if(o[n].id===_)return o[n]},this.getIndegreeCentrality=function(){for(var _=0,n=0;n<d.length;n++)_+=d[n].getIndegreeCentrality();return w+_},this.getOutdegreeCentrality=function(){for(var _=0,n=0;n<d.length;n++)_+=d[n].getOutdegreeCentrality();return e+_},this.getPorts=function(){return d},this.addPort=function(_,n){var o=m(_,n,t),o=this.getPort(o);return null==o&&(o=new l(_,n,this),d.push(o),$[o.id]=o),o},this.setPort=function(_,n){var o=this.getPort(_);return(o=o||this.addPort({id:_})).data=n,o.setType(this.graph.getType(n)),o},this.getPort=function(_){return $[_]};function j(_){return _.constructor==g.Port?_.id:_}this.renamePort=function(_,n){return!!$[_.id]&&($[n]=$[_.id],delete $[_.id],!0)},this.removePort=function(_){if(_){for(var n=j(_),o=-1,i=!1,w=0;w<d.length;w++)if(d[w].id===n){o=w;break}-1!=o&&(_=d[o],t.deleteVertex(_.getFullId()),d.splice(o,1),i=!0),delete $[n]}return i};var r=0,s={};this.setDefaultInternalCost=function(_){r=_},this.getInternalEdge=function(_,n){var _=j(_),n=j(n),o={source:$[_],target:$[n],cost:1/0};if(o.source&&o.target){var i,w=s[_+"-"+n]||{cost:r,directed:!1};for(i in w)o[i]=w[i]}return o},this.setInternalEdge=function(_,n,o,i){var w=j(_),t=j(n);return s[w+"-"+t]={cost:o||r,directed:i},this.getInternalEdge(_,n)},this.inspect=function(){for(var _="{ id:"+this.id+", edges:[\n",n=0;n<i.length;n++)_+=i[n].inspect()+"\n";return _+="]}"}},l=g.Port=function(_,n,o){v.apply(this,[_,n,o.graph]),this.objectType="Port",this.getNode=function(){return o},this.getFullId=function(){return o.id+this.graph.getPortSeparator()+this.id},this.isChildOf=function(_){return o==_},this.getPorts=this.addPort=this.deletePort=this.getPort=null},y=g.Edge=function(_){a.call(this,_.data,_.graph),this.source=_.source,this.target=_.target,this.objectType="Edge";var n=_.cost||1,o=!(!1===_.directed),i=_.id,w=null;this.data=_.data||{},this.getCost=function(){return n},this.setCost=function(_){n=_},this.getId=this.getFullId=function(){return null===i?this.source.id+"_"+this.target.id:i},this.setId=function(_){i=_},this.isDirected=function(){return o},this.setDirected=function(_){o=_},this.inspect=function(){if(null!=i)return"{ id:"+i+", connectionId:"+w+", cost:"+n+", directed:"+o+", source:"+this.source.id+", target:"+this.target.id+"}"}},t=g.Group=function(_,n,t){v.apply(this,arguments),this.objectType="Group";var e=[],o={};this.addVertex=this.addNode=function(_){return null==o[_.id]&&(e.push(_),(o[_.id]=_).group=this,!0)},this.getVertexCount=this.getNodeCount=function(){return e.length},this.getVertices=this.getNodes=function(){return e},this.deleteVertex=this.deleteNode=function(_){var n;(_="string"==typeof _?o[_]:_)&&(-1!==(n=e.indexOf(_))&&(e.splice(n,1),delete o[_.getFullId()]),delete _.group)},this.cleanup=function(_){for(var n=this.getAllDirectEdges(),o=n.length,i=0;i<o;i++)t.deleteEdge(n[0]);var w=e.length;for(i=0;i<w;i++)_?t.deleteVertex(e[0]):delete e[0].group;e.length=0},this.getAllDirectEdges=function(_){var n=[];n.push.apply(n,this.getEdges(_).slice(0));for(var o=this.getPorts(),i=0;i<o.length;i++)n.push.apply(n,o[i].getEdges(_));return n},this.getAllEdges=function(_){for(var n=[],o={},i=0;i<e.length;i++)Array.prototype.push.apply(n,e[i].getAllEdges(_).filter(function(_){var n=_.getId(),_=null==o[n];return o[n]=!0,_}));return n.push.apply(n,this.getAllDirectEdges(_)),n}},b=g.Cluster=function(_){this.vertices=[_],this.addVertex=function(_){this.vertices.push(_)}},P=(g.Graph=function(_){_=_||{},this.vertices=[],this.edges=[],this.groups=[],this.id=_.id;function $(_){delete w[_.id]}function o(_){w[_.id]=_}var j={},r=0,s={},a=0,d={},i=0,l=!(!1===_.defaultDirected),u=_.defaultCost||1,c=_.idFunction||function(_){return _.id},n=_.typeFunction||function(_){return _.type||"default"},h=!0===_.enableSubgraphs,p=_.portSeparator||".",w={};this.setIdFunction=function(_){c=_},this.getIdFunction=function(){return c},this.setTypeFunction=function(_){n=_},this.getType=function(_){return n(_)},this.getTopLevelElements=function(){return w},this.setEnableSubgraphs=function(_){h=_},this.setPortSeparator=function(_){p=_},this.getPortSeparator=function(){return p},this.splitPortId=function(_){return null!=_?_.split(p):[]},this.getVertexByPortId=function(_){_=this.splitPortId(_);if(2===_.length)return j[_[0]]};function f(_,i){if(null==_)return null;if("string"!=typeof _){if(_.constructor==g.Port||_.constructor==g.Node||_.constructor==g.Group)return _;var n=_;if("string"!=typeof(_=c(_)))return n}function o(_){if(j[_])return j[_];if(d[_])return d[_];var n=_.split(p),o=n[0],_=j[o]||d[o];return 2!==n.length||null==_?_:o=null==(o=_.getPort(n[1]))&&i?_.addPort(n[1]):o}var w=h?_.split("/"):[_];if(1==w.length)return o(w[0]);if(1<w.length&&w%2==0)throw"Subgraph path format error.";for(var t=null,e=0;e<w.length-1;e+=2)t=o(w[e]).getGraph(w[e+1]);return t.getVertex(w[w.length-1])}this.clear=function(){this.vertices.length=0,this.groups.length=0,a=r=0,j={},s={},d={},w={}},this.getVertices=this.getNodes=function(){return this.vertices},this.getVertexCount=this.getNodeCount=function(){return this.vertices.length},this.getVertexAt=this.getNodeAt=function(_){return this.vertices[_]},this.getEdgeCount=function(){return a},this.addEdge=function(_,n,o){var i=null==_.directed?!0==l:!(!1===_.directed),w=_.cost||u,t=m(_.data,n,this),e=f(_.source,!0),d=f(_.target,!0),n=_.data||{};if(null==e||null==e.objectType)throw new TypeError("Unknown source node ["+_.source+"]");if(null==d||null==d.objectType)throw new TypeError("Unknown target node ["+_.target+"]");if(o&&!o(e,d))return null;n=new y({source:e,target:d,cost:w,directed:i,data:n,id:t,graph:this});return n.source.addEdge(n),n.source!==n.target&&n.target.addEdge(n),s[t]=n,a++,null!=_.geometry&&(n.geometry=_.geometry),n},this.addVertex=this.addNode=function(_,n){n=new v(_,n||c,this);return j[n.id]?null:(this.vertices.push(n),(j[n.id]=n)._id=r++,o(n),n)},this.addVertices=this.addNodes=function(_,n){for(var o=0;o<_.length;o++)this.addVertex(_[o],n||c)},this.addGroup=function(_,n){n=new t(_,n||c,this);return d[n.id]||(this.groups.push(n),(d[n.id]=n)._id=i++,o(n),n)},this.getGroupCount=function(){return this.groups.length},this.getGroupAt=function(_){return this.groups[_]},this.getGroups=function(){return this.groups},this.addVertexToGroup=function(_,n){n="string"==typeof n?d[n]:n,(_=f(_))&&n&&(n.addVertex(_),$(_))},this.addVerticesToGroup=function(_,n){for(var o=0;o<_.length;o++)this.addVertexToGroup(_[o],n)},this.deleteVertexFromGroup=function(_){(_=f(_))&&_.group&&(_.group.deleteVertex(_),o(_))},this.deleteVerticesFromGroup=function(_,n){for(var o=0;o<_.length;o++)this.deleteVertexFromGroup(_[o],n)},this.deleteGroup=function(_,n){if(_="string"==typeof _?d[_]:_){_.cleanup(n),delete d[_.id];for(var o=-1,i=0;i<this.groups.length;i++)if(this.groups[i].id===_.id){o=i;break}return-1<o&&this.groups.splice(o,1),$(_),_}},this.getGroup=function(_){return"string"==typeof _?d[_]:_},this.deleteVertex=this.deleteNode=function(_){var n=f(_);if(n){if("Port"!==n.objectType){for(var o=-1,i=0;i<this.vertices.length;i++)if(this.vertices[i].id===n.id){o=i;break}-1<o&&(this.vertices.splice(o,1),null!=n.group&&n.group.deleteVertex(n))}for(var w=n.getEdges(),t=0;t<w.length;t++)this.deleteEdge(w[t]);if(a-=w.length,n.getPorts)for(var e=n.getPorts(),d=0;d<e.length;d++)this.deleteVertex(e[d]);delete j[n.getFullId()],r--,$(n)}},this.deleteEdge=function(_){var n;null!=(_=this.getEdge(_))&&((n=f(_.source))&&n.deleteEdge(_)&&a--,(n=f(_.target))&&n.deleteEdge(_),delete s[_.getId()])},this.getEdge=function(_){if(null!=_){if("string"!=typeof _){if(_.constructor===g.Edge)return _;var n=_;if("string"!=typeof(_=c(_)))return n}return s[_]}},this.getEdges=function(_){function n(_){var n;!w(_)||(n=_,null!=o&&n.source===e!==o||null!=i&&n.target===e!==i)||t.push(_)}var o=(_=_||{}).source,i=_.target,w=_.filter||function(){return!0},t=[];if(_.node)for(var e=f(_.node),d=e.getAllEdges(),$=0;$<d.length;$++)n(d[$]);else for($ in s)n(s[$]);return t},this.getAllEdges=function(){var _,n=[];for(_ in s)n.push(s[_]);return n},this.renamePort=function(_,n){return!!_.getNode().renamePort(_,n)&&(_.id=n,!0)},this.findPath=function(_,n,o,i,w){return _=f(_),n=f(n),e.compute({graph:this,source:_,target:n,strict:!(!1===o),nodeFilter:i,edgeFilter:w})},this.getDistance=function(_,n,o){return this.findPath(_,n,o).pathDistance},this.getVertex=this.getNode=f,this.setTarget=function(_,n){if(null==(n=f(n)))return{success:!1};var o=_.target;return _.target.deleteEdge(_),(_.target=n).addEdge(_),{old:o,edge:_,new:n,success:!0}},this.setSource=function(_,n){if(null==(n=f(n)))return{success:!1};var o=_.source;return _.source.deleteEdge(_),(_.source=n).addEdge(_),{old:o,edge:_,new:n,success:!0}},this.printPath=function(_,n){_=f(_),n=f(n);for(var o=this.findPath(_,n).path,i="["+_.id+" - "+n.id+"] : ",w=0;w<o.length;w++)i=i+"{ vertex:"+o[w].vertex.id+", cost:"+o[w].cost+", edge: "+(o[w].edge&&o[w].edge.getId())+" } ";return i},this.getDiameter=function(_){for(var n=0,o=0;o<this.vertices.length;o++)for(var i=0;i<this.vertices.length;i++)if(i!=o){var w=e.compute({graph:this,source:this.vertices[o],target:this.vertices[i]});if(null==w.path||0==w.path.length){if(!_)return 1/0}else n=Math.max(n,w.pathDistance)}return n},this.diameter=this.getDiameter,this.getCentrality=function(_){return((_=f(_)).getIndegreeCentrality()+_.getOutdegreeCentrality())/(this.getVertexCount()-1)},this.getDegreeCentrality=this.getCentrality,this.getIndegreeCentrality=function(_){return(_=f(_)).getIndegreeCentrality()/(this.getVertexCount()-1)},this.getOutdegreeCentrality=function(_){return(_=f(_)).getOutdegreeCentrality()/(this.getVertexCount()-1)},this.getCloseness=function(_){return 1/this.getFarness(_)},this.getFarness=function(_){_=f(_);var n,o=e.compute({graph:this,source:_,target:_,processAll:!0}),i=0;for(n in o.dist)i+=o.dist[n];return i/(this.getVertexCount()-1)},this.getBetweenness=function(_){var n=this.getVertexCount(),n=(n-1)*(n-2)/2,o=0,$=function(_,n,o,i,w){var t=o.parents[_][n];if(0==t.length)(e=i.slice()).unshift(_),w.push(e);else for(var e,d=0;d<t.length;d++)-1==i.indexOf(t[d][0].id)&&((e=i.slice()).unshift(t[d][0].id),$(_,t[d][0].id,o,e,w))};_=f(_);var i,w=P.compute({graph:this,focus:_});for(i in w.paths)for(var t in w.paths[i])if(i!=t){var e=[],d=0;$(i,t,w,[t],e);for(var j=0;j<e.length;j++){var r=e[j].indexOf(_.id);0<r&&r<e[j].length-1&&d++}o+=d/e.length,0}return o/n},this.inspect=function(){for(var _="",n=0;n<this.vertices.length;n++)_+=this.vertices[n].inspect()+"\n";return _},this.serialize=function(){for(var _,n,o,i,w={nodes:[],edges:[],ports:[],groups:[]},t=0;t<this.vertices.length;t++){_=this.vertices[t],w.nodes.push(_.data),n=_.getAllEdges(),o=_.getPorts();for(var e=0;e<n.length;e++)(n[e].source==_||"Port"===n[e].source.objectType&&n[e].source.getNode()==_)&&(r={source:n[e].source.getFullId(),target:n[e].target.getFullId()},n[e].data&&(r.data=n[e].data),n[e].geometry&&(r.geometry=n[e].geometry),w.edges.push(r));for(var d=0;d<o.length;d++){var $,j={};for($ in o[d].data)j[$]=o[d].data[$];j.id=o[d].getFullId(),w.ports.push(j)}}for(t=0;t<this.groups.length;t++){i=this.groups[t],w.groups.push(i.data),n=i.getEdges();for(var r,e=0;e<n.length;e++)n[e].source===i&&(r={source:i.getFullId(),target:n[e].target.getFullId()},n[e].data&&(r.data=n[e].data),w.edges.push(r))}return w},this.getClusters=function(){for(var t=[],e={},d=function(_,n){if(null!=_&&!e[_.id]){null==n?(n=new b(_),t.push(n)):n.addVertex(_),e[_.id]=!0;for(var o=_.getAllEdges(),i=0;i<o.length;i++){var w=o[i].source===_?o[i].target:o[i].source;d(w,n)}}},_=0;_<this.vertices.length;_++)d(this.vertices[_]);for(_=0;_<this.groups.length;_++)d(this.groups[_]);return t}},{getPath:function(_,n,o,i){if(_[o.id][i.id]===1/0)return null;var w=n[o.id][i.id];return null==w?" ":P.getPath(_,n,o,w)+" "+w.id+" "+P.getPath(_,n,w,i)},getPaths:function(_,n,o,i,w){if(_[o.id][i.id]===1/0)return null;var t=n[o.id][i.id];return 0===t.length?" ":P.getPaths(_,n,o,t[0])+" "+t[0].id+" "+P.getPaths(_,n,t[0],i)},compute:function(_){for(var n,o,i,w,t=_.graph,e=t.getVertexCount(),d={},$={},j=0;j<e;j++){var r,s=t.getVertexAt(j);for(d[s.id]||(d[s.id]={}),$[s.id]||($[s.id]={}),n=d[s.id][s.id]=0;n<e;n++)j!==n&&(r=t.getVertexAt(n),d[s.id][r.id]||(d[s.id][r.id]=1/0),$[s.id][r.id]||($[s.id][r.id]=[]));for(var a=s.getEdges(),l=0;l<a.length;l++)a[l].source===s?d[s.id][a[l].target.id]=a[l].getCost():(d[a[l].source.id]||(d[a[l].source.id]={},$[a[l].source.id]={}),d[s.id][a[l].source.id]=a[l].getCost())}for(l=0;l<e;l++)for(j=0;j<e;j++)for(n=0;n<e;n++)j!==n&&n!==l&&j!==l&&(o=t.getVertexAt(j).id,i=t.getVertexAt(n).id,w=t.getVertexAt(l).id,d[o][w]+d[w][i]<=d[o][i]&&d[o][w]+d[w][i]!==1/0&&(d[o][i]=d[o][w]+d[w][i],$[o][i]||($[o][i]=[]),$[o][i].unshift([t.getVertexAt(l),d[o][i]])));return{paths:d,parents:$}}}),e={compute:function(_){function j(_){return _.getFullId?_.getFullId():_.id}function r(_){return _=h[_.getFullId()],c[_.v.id]}function s(_,n){var o,i;if("Port"===_.objectType){for(e[_.getFullId()]=n,o=r(_),i=0;i<o.length;i++)o[i].p!==_&&(e[o[i].p.getFullId()]=n+_.getNode().getInternalEdge(_,o[i].p).cost);p||(e[_.getNode().id]=n)}else for(e[_.id]=n,o=c[_.id],i=0;i<o.length;i++)e[o[i].p.getFullId()]=n}function a(_){return w&&!w(_)?1/0:e[j(_)]}var n=_.graph,o=_.source,i=_.target,w=_.nodeFilter,t=_.edgeFilter,e={},l={},u={},d={dist:e,previous:l,edges:u,path:[]},$=_.processAll,c={},h={},p=!(!1===_.strict),f=[];if(null==o&&(o=n.getVertex(_.sourceId)),null==i&&(i=n.getVertex(_.targetId)),null==o||null==i)return d;for(var g=0;g<n.vertices.length;g++){var m=n.vertices[g],v=m.getPorts();f.push(m);var y={v:m,i:f.length-1};c[m.id]=[],s(m,1/0);for(var b=0;b<v.length;b++)f.push(v[b]),h[v[b].getFullId()]=y,c[m.id].push({p:v[b],i:f.length-1}),s(v[b],1/0)}s(o,0);for(var P=new Array(n.vertices.length),E=0,x=function(_,n,o,i){for(var w=0;w<n.length;w++){var t,e,d,$=n[w];o($)&&(t=(d=i($)).tp||d.tn,e=j(t),(d=a(_.node)+$.getCost())<a(t)&&(s(t,d),function(_,n,o){if("Port"===_.objectType){for(var i=r(_),w=0;w<i.length;w++)l[i[w].p.getFullId()]=o.node;p||(l[_.getNode().id]=o.node)}l[n]=o.node}(t,e,_),function(_,n,o){if("Port"===_.objectType){for(var i=r(_),w=0;w<i.length;w++)u[i[w].p.getFullId()]=o;p||(u[_.getNode().id]=o)}u[n]=o}(t,e,$)))}};E<f.length;){var C=function(_,n,o){for(var i,w=-1,t=null,e=1/0,d=0;d<_.length;d++)n[d]||((i=o(_[d]))<e?(e=i,t=_[w=d]):i===e&&_[d].getNode&&_[d].getNode()===t&&(t=_[w=d]));return{node:t,index:w}}(f,P,a),S=C.node?j(C.node):null;if(!C.node||a(C.node)===1/0)break;if(i&&(S===j(i)||!p&&C.node.isChildOf&&C.node.isChildOf(i))&&(d.path=function(_,n,o,i){for(var w=[],t=i,e=I(n,t);null!=e;)w.splice(0,0,{vertex:t,cost:_[e.id],edge:o[e.id]}),t=e.p,e=I(n,t);return w.splice(0,0,{vertex:t,cost:0,edge:null}),w}(e,l,u,i),d.pathDistance=d.path[d.path.length-1].cost,!$))break;P[C.index]=!0,E+=1,x(C,C.node.getAllEdges(),function(_){return(!t||t(_))&&(!_.isDirected()||C.node===_.source||!p&&_.source.isChildOf&&_.source.isChildOf(C.node))},function(_){var n=_.source.getNode?_.source.getNode():_.source,o=_.source.getNode?_.source:null,i=_.target.getNode?_.target.getNode():_.target,w=_.target.getNode?_.target:null;return _.source===C.node||!p&&_.source.isChildOf&&_.source.isChildOf(C.node)?{tn:i,tp:w}:{tn:n,tp:o}})}return d}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function K(_){return _.id}var Q=this,__=Q.jsPlumbUtil,n_=Q.jsPlumb,o_=Q.jsPlumbGraph,i_="default";Q.jsPlumbToolkitInstance=function(_){var $=(_=_||{}).idFunction||K,t=_.typeProperty||"type",e=_.edgeTypeProperty||"type",d=_.portTypeProperty||"type",n=_.typeFunction||function(_){return _[t]||i_},w=_.edgeIdFunction||$,j=_.edgeTypeFunction||function(_){return _[e]||i_},r=_.portIdFunction||$,o=_.portTypeFunction||function(_){return _[d]||i_},s=_.portExtractor,i=_.portUpdater,a=_.portDataProperty,l=_.portOrderProperty,u=this,c=!1,h=!1,p=_.model||{},f=function(_,n,o){n=null!=n&&__.isObject(n)?n:{},(n=__.clone(n)).id=n.id||__.uuid(),n.type=n.type||(null==_?null:_.type||_),o(n)},g=_.nodeFactory||f,m=_.edgeFactory||f,v=_.portFactory||f,y=_.groupFactory||f,b=_.autoSave&&(_.saveUrl||_.autoSaveHandler),P=_.autoSaveDebounceTimeout,E=_.autoSaveHandler,x=_.saveUrl,C=_.saveHeaders,S=null!=E?null:_.onAutoSaveSuccess||function(){},I=null!=E?null:_.onAutoSaveError||function(){},k=!0===_.doNotUpdateOriginalData,A=null!=E?null:_.onBeforeAutoSave||function(){},T=null!=E?null:_.onAfterAutoSave||function(){},f={portSeparator:_.portSeparator,defaultCost:_.defaultCost,defaultDirected:_.defaultDirected,enableSubgraphs:_.enableSubgraphs},D=!0===_.createMissingGroups;null!=a&&null==s&&(s=function(_){_=_[a]||[];return null!=l&&_.sort(function(_,n){_=_[l],n=n[l];return(null==_?1/0:_)-(null==n?1/0:n)}),_}),null!=a&&null==i&&(i=function(_,n,o){var i={};return null!=l&&o.sort(function(_,n){_=_.data[l],n=n.data[l];return(null==_?1/0:_)-(null==n?1/0:n)}),i[a]=jsPlumbUtil.map(o,function(_){return _.data}),jsPlumb.extend(_,i)}),__.EventGenerator.apply(this,arguments),__.FilterableDataset.apply(this,[this]);var M,N=new o_.Graph(f);b&&(M=new __.AutoSaver(this,x,C,S,I,A,T,P,E)),new __.CatchAllEventHandler(this),this.getNodeFactory=function(){return g},this.getGroupFactory=function(){return y},this.getEdgeFactory=function(){return m},this.getPortFactory=function(){return v},this.setNodeFactory=function(_){g=_},this.setGroupFactory=function(_){y=_},this.setEdgeFactory=function(_){m=_},this.setPortFactory=function(_){v=_},this.setDebugEnabled=function(_){h=_},this.isDebugEnabled=function(){return h},this.getModel=function(){return p||{}};var O,E=function(_,n){if(null==p)return!0;var o=this.getType(_),i=this.getType(n),w=O=null==O?new Q.jsPlumbToolkit.Model(p||{}):O,t=_.getNode?_.getNode():_,e=n.getNode?n.getNode():n,d="Node"===_.objectType?w.getNodeDefinition(o):w.getPortDefinition(o),$="Node"===n.objectType?w.getNodeDefinition(i):w.getPortDefinition(i),o=this.getNodeType(t),i=this.getNodeType(e),o=w.getNodeDefinition(o),i=w.getNodeDefinition(i);return!(null!=d.maxConnections&&_.getEdges().length>=d.maxConnections)&&(!(null!=$.maxConnections&&n.getEdges().length>=$.maxConnections)&&(_==n?!(!1===o.allowLoopback||!1===d.allowLoopback||!1===$.allowLoopback||!1===i.allowLoopback):t!=e||!(!1===o.allowNodeLoopback||!1===d.allowNodeLoopback||!1===$.allowNodeLoopback||!1===i.allowNodeLoopback)))}.bind(this);this.beforeConnect=_.beforeConnect||E,this.beforeMoveConnection=_.beforeMoveConnection||E,this.beforeStartConnect=_.beforeStartConnect||function(_,n){return{}},this.beforeDetach=_.beforeDetach||function(_,n,o){return!0},this.beforeStartDetach=_.beforeStartDetach||function(_,n){return!0},this.setSuspendGraph=function(_){c=_},this.setAutoSave=function(_){null!=M&&M.discard(),M=new __.AutoSaver(this,_.saveUrl,_.saveHeaders,_.onAutoSaveSuccess,_.onAutoSaveError,_.onBeforeAutoSave,_.onAfterAutoSave,_.autoSaveDebounceTimeout,_.autoSaveHandler)},this.setDoNotUpdateOriginalData=function(_){k=_},this.getTypeFunction=function(){return n},this.connect=function(_){var n;if(_=_||{},!c){var o=N.getVertex(_.source),i=N.getVertex(_.target),w=_.cost,t=_.directed;if(!o){if(_.doNotCreateMissingNodes)return;o=N.addVertex(_.source),u.fire("nodeAdded",{data:{},node:o})}if(!i){if(_.doNotCreateMissingNodes)return;i=N.addVertex(_.target),u.fire("nodeAdded",{data:{},node:i})}var e=_.data||{},d=this.beforeStartConnect(o,j(e));d&&("object"==typeof d&&(e=n_.extend(d,e)),!1!==this.beforeConnect(o,i,e)&&(n=N.addEdge({source:o,target:i,cost:w,directed:t,data:e,geometry:_.geometry}),u.fire("edgeAdded",{edge:n})))}return n},this.clear=function(){return this.fire("graphClearStart"),N.clear(),this.fire("graphCleared"),this},this.getGraph=function(){return N},this.getNodeCount=function(){return N.getVertexCount()},this.getNodeAt=function(_){return N.getVertexAt(_)},this.getNodes=function(){return N.getVertices()},this.eachNode=function(_){for(var n=0,o=N.getVertexCount();n<o;n++)_(n,N.getVertexAt(n))},this.eachGroup=function(_){for(var n=0,o=N.getGroupCount();n<o;n++)_(n,N.getGroupAt(n))},this.eachEdge=function(_){for(var n=N.getEdges(),o=0,i=n.length;o<i;o++)_(o,n[o])},this.getEdgeCount=function(){return N.getEdgeCount()},this.getGroupCount=function(){return N.getGroupCount()},this.getGroupAt=function(_){return N.getGroupAt(_)},this.getGroups=function(){return N.getGroups()},this.getClusters=function(){return N.getClusters()},this.getNodeId=function(_){return __.isObject(_)?$(_):_},this.getNodeType=function(_){return n(_)||"default"},this.getEdgeId=function(_){return __.isObject(_)?w(_):_},this.getEdgeType=function(_){return j(_)||"default"},this.getPortId=function(_){return __.isObject(_)?r(_):_},this.getPortType=function(_){return o(_)||"default"},this.getType=function(_){return("Node"===_.objectType?n:"Port"===_.objectType?o:j)(_.data)||"default"},this.setType=function(_,n){var o,i,w=this.getType(_);w!==n&&(o="Node"===_.objectType?t:"Port"===_.objectType?d:e,i=_.objectType.charAt(0).toLowerCase()+_.objectType.substring(1)+"TypeChanged",_.data[o]=n,this.fire(i,{obj:_,previousType:w,newType:n}))},this.addNode=function(_,n,o){var i=$(_),w=null;null==i&&"string"!=typeof _&&(_.id=__.uuid());var t=N.addNode(_,$);if(null==t)return N.getNode(i);if(null!=s){var e=s(t.data,t);if(null!=e)for(var d=0;d<e.length;d++)t.addPort(e[d],r)}return"string"!=typeof _&&null!=_.group&&null!=(w=null==(w=this.getGroup(_.group))&&D?N.addGroup(_.group):w)&&w.addVertex(t),o||u.fire("nodeAdded",{data:_,node:t,eventInfo:n}),null!=w&&u.fire("group:addMember",{node:t,group:w}),B||k||Q.jsPlumbToolkitIO.manage("addNode",z,U,t,$||N.getIdFunction(),u),t},this.addFactoryNode=function(_,n,o){arguments.length<3&&(2===arguments.length?(n="object"==typeof arguments[1]?arguments[1]:{},o="function"==typeof arguments[1]?arguments[1]:null):1===arguments.length&&(n={})),n.type=n.type||_,g(_,n,function(_){_=this.addNode(_);o&&o(_)}.bind(this))},this.addNodes=function(_){for(var n=0;n<_.length;n++)u.addNode.apply(u,[_[n]]);return u},this.addFactoryGroup=function(_,n,o){arguments.length<3&&(2===arguments.length?(n="object"==typeof arguments[1]?arguments[1]:{},o="function"==typeof arguments[1]?arguments[1]:null):1===arguments.length&&(n={})),n.type=n.type||_,y(_,n,function(_){_=this.addGroup(_);o&&o(_)}.bind(this))},this.addGroup=function(_,n,o){null==$(_)&&"string"!=typeof _&&(_.id=__.uuid());var i=N.addGroup(_,$);return B||k||Q.jsPlumbToolkitIO.manage("addGroup",z,U,i,$||N.getIdFunction(),u),o||u.fire("groupAdded",{data:_,group:i,eventInfo:n}),i},this.addToGroup=function(_,n,o,i){var w=!1;return _=u.getNode(_),n=u.getGroup(n),_&&n&&(w=n.addVertex(_))&&(_.data.group=n.id,i={node:_,group:this.getGroup(n),pos:i},o&&(i.sourceGroup=o),u.fire("group:addMember",i),u.fire("dataUpdated")),w},this.removeFromGroup=function(_,n,o){var i;return(_=u.getNode(_))&&_.group&&((i=_.group).deleteVertex(_),delete _.data.group,n||(_={node:_,group:i},o&&(_.targetGroup=o),u.fire("group:removeMember",_)),u.fire("dataUpdated")),i},this.removeGroup=function(_,n,o){var i=u.getObjectInfo(_);if(i&&i.obj){_=i.obj;i=[];Array.prototype.push.apply(i,_.getNodes());_=N.deleteGroup(_,n);return _&&(B||k||Q.jsPlumbToolkitIO.manage("removeGroup",z,U,_,$||N.getIdFunction(),u),o||u.fire("groupRemoved",{group:_,removeChildNodes:n,nodes:i})),u}},this.getNode=function(_){return N.getVertex(_)},this.getEdge=function(_){return N.getEdge(_)},this.getGroup=function(_){return N.getGroup(_)},this.getPort=function(_){var n=N.getVertexByPortId(_);if(n)return n.getPort(N.splitPortId(_)[1])},this.exists=function(_){for(var n=0;n<arguments.length;n++)if(null==N.getVertex(arguments[n]))return!1;return!0},this.removeNode=function(_,n){for(var o=(_=_.constructor===o_.Vertex||_.constructor===o_.Port?_:N.getVertex(_)).getAllEdges()||[],i=0;i<o.length;i++)u.removeEdge(o[i]);return N.deleteVertex(_.id),B||k||Q.jsPlumbToolkitIO.manage("removeNode",z,U,_,$||N.getIdFunction(),u),n||u.fire("nodeRemoved",{node:_,nodeId:_.id,edges:o}),u},this.addEdge=function(_,n,o){var i=N.addEdge(_,w,this.beforeConnect);return null!=i?(B||k||Q.jsPlumbToolkitIO.manage("addEdge",z,U,i,w||N.getIdFunction(),u),o||u.fire("edgeAdded",{edge:i,source:n,geometry:_.geometry,addedByMouse:_.addedByMouse},null)):this.isDebugEnabled()&&console.log("JSPLUMB: could not add edge",_,n),i},this.removeEdge=function(_,n){return null!=(_=N.getEdge(_))&&(N.deleteEdge(_),B||k||Q.jsPlumbToolkitIO.manage("removeEdge",z,U,_,w||N.getIdFunction(),u),u.fire("edgeRemoved",{edge:_,source:n},null)),u},this.edgeMoved=function(_,n,o){_[0===o?"source":"target"];return this[0===o?"setSource":"setTarget"](_,n)},this.setTarget=function(_,n,o){var i=N.setTarget.apply(N,arguments);return!1===i.success||o||u.fire("edgeTarget",i),i},this.setSource=function(_,n,o){var i=N.setSource.apply(N,arguments);return!1===i.success||o||u.fire("edgeSource",i),i},this.addNewPort=function(o,_,n,i){o=N.getVertex(o),v({node:o,type:_},n,function(_){var n=r(_),n=o.addPort(n);n.data=_,L(o,"addnewport"),B||k||Q.jsPlumbToolkitIO.manage("addPort",z,U,{node:o,port:n},r||N.getIdFunction(),u),i||u.fire("portAdded",{node:o,data:_,port:n},null)})},this.addPort=function(_,n,o){var i=_.addPort(n,r);return L(_,"addport"),B||k||Q.jsPlumbToolkitIO.manage("addPort",z,U,{node:_,port:i},r||N.getIdFunction(),u),o||u.fire("portAdded",{node:_,data:n,port:i},null),i},this.removePort=function(_,n,o){var i=!1,n=(_=_.constructor===o_.Vertex||_.constructor===o_.Port?_:N.getVertex(_)).getPort(n);if(n){var w=n.getAllEdges();if((i=_.removePort(n))&&!o){for(var t=0;t<w.length;t++)u.removeEdge(w[t]);L(_,"removeport"),u.fire("portRemoved",{node:_,port:n,edges:w},null)}}return i},this.remove=function(_){if(null!=_){var n=u.getObjectInfo(_);u.setSuspendRendering(!0);try{if(!n.obj||"Node"!==n.type&&"Edge"!==n.type&&"Group"!==n.type){for(;0<_.getNodeCount();)u.removeNode(_.getNodeAt(0));for(;0<_.getEdgeCount();)u.removeEdge(_.getEdgeAt(0));for(;0<_.getGroupCount();)u.removeGroup(_.getGroupAt(0))}else u["remove"+n.type](n.obj)}finally{u.setSuspendRendering(!1,!0)}}},this.setSuspendRendering=function(_,n){for(var o in J)J[o].setSuspendRendering(_,n)},this.batch=function(_){u.setSuspendRendering(!0);try{_()}catch(_){jsPlumbUtil.log("Error in transaction "+_)}finally{u.setSuspendRendering(!1,!0)}};var F=function(_,n,o,i,w){var t=N.getNode(_);if(t&&t.objectType){var e=n_.extend({},t.data),d="Port"===t.objectType?t.getFullId():t.id,$="Port"===t.objectType?r(e):null;if(n){for(var j in n)__.replace(t.data,j,n[j]);"Port"===t.objectType&&((_=r(t.data))!==t.id&&N.renamePort(t,_),L(t.getNode(),"updateport"))}e=i(t,e);e.originalId=d,null!=$&&(e.originalPortId=$),u.fire(o,e,null)}}.bind(this),L=function(_,n){var o;null==i||null!=(o=i(_.data,_,_.getPorts()))&&(_.data=o,B||this.fire("nodeUpdated",{node:_,updates:{},originalData:_.data,reason:n}))}.bind(this);this.updateGroup=function(_,o){F(_,o,"groupUpdated",function(_,n){return{group:_,updates:o||{},originalData:n}})},this.updateNode=function(_,o){F(_,o,"nodeUpdated",function(_,n){return{node:_,updates:o||{},originalData:n}})},this.updatePort=function(_,o){F(_,o,"portUpdated",function(_,n){return{port:_,node:_.getNode(),updates:o||{},originalData:n}})},this.updateEdge=function(_,n){var o=N.getEdge(_);if(o){_=n_.extend({},o.data);if(n)for(var i in n)null==o.data[i]?o.data[i]=n[i]:__.replace(o.data,i,n[i]);u.fire("edgeUpdated",{edge:o,updates:n||{},originalData:_},null)}},this.update=function(_,n){return(_=__.isString(_)?this.getNode(_):_)&&_.objectType&&this["update"+_.objectType](_,n),_},this.setEdgeGeometry=function(_,n){var o=jsPlumbUtil.clone(_.geometry||{});_.geometry=n,u.fire("edgePathEdited",{edge:_,geometry:n,originalGeometry:o}),u.fire("dataUpdated")},this.getPath=function(_){return new Q.jsPlumbToolkit.Path(this,_)};function R(_){return null==_?null:"*"===_?N:_.constructor===o_.Vertex||_.constructor===o_.Port?_:__.isString(_)||__.isObject(_)?N.getVertex(_):null}this.findGraphObject=R;function G($,j,r){function _(_,n,o,i){if(null!=_)for(var w=_[j]({filter:$.filter}),t=0;t<w.length;t++){var e=n&&_===N||w[t].source===_||r&&w[t].source.constructor===o_.Port&&w[t].source.getNode()===_,d=o&&_===N||w[t].target===_||r&&w[t].target.constructor===o_.Port&&w[t].target.getNode()===_;(n&&e||o&&d||i&&(e||d))&&(d=w[t],a[d.getId()]||(s.push(d),a[d.getId()]=!0))}}var s=[],a={};return _(R(($=$||{}).source),!0,!1,!1),_(R($.target),!1,!0,!1),_(R($.element),!1,!1,!0),s}var z,U,B;this.getEdges=function(_){return G(_,"getEdges",!1)},this.getAllEdges=function(){return N.getAllEdges()},this.getAllEdgesFor=function(_,n){return _.getAllEdges({filter:n})},this.getSourceEdgesFor=function(_,n){return _.getSourceEdges({filter:n})},this.selectAllEdges=function(){return this.filter(function(_){return"Edge"===_.objectType})},this.addAllEdgesToSelection=function(){this.addToSelection(this.getAllEdges())};function V(_,n,o){var i,w=(_=_||{}).type||"json",t=_.data,e=_.url,d=_.jsonp,$=_.onload,j=_.parameters||{},r=_.error||function(){};if(null==t&&null==e)throw new TypeError("You must supply either data or url to load.");function s(_){z=_,U=w,B=!0,u.fire(n),Q.jsPlumbToolkitIO.parse(w,_,u,j),q(o),$&&$(u,_),u.fire("graphChanged")}return t?s(t):e&&(d&&(i=-1===e.indexOf("?")?"?":"&",e=e+i+"callback=?"),i="json"===w?w:_.dataType,_=_.headers||{Accept:"application/json"},__.ajax({url:e,success:s,dataType:i,error:r,headers:_})),u}this.load=function(_){return V(_,"dataLoadStart","dataLoadEnd")},this.append=function(_){return V(_,"dataAppendStart","dataAppendEnd")},this.save=function(_){_=_||{};var n=this.exportData(_),o={"Content-Type":"application/json"};return n_.extend(o,_.headers||{}),__.ajax({url:_.url,type:"POST",data:n,success:_.success||function(){},error:_.error||function(){},headers:o}),u},this.exportData=function(_){return _=_||{},Q.jsPlumbToolkitIO.exportData(_.type||"json",u,_.parameters)};function H(_){return new __.Selection({toolkit:u,onClear:_||function(){}})}var W=H(function(_){u.fire("selectionCleared",{selection:_})});_.maxSelectedNodes&&W.setMaxNodes(_.maxSelectedNodes),_.maxSelectedEdges&&W.setMaxEdges(_.maxSelectedEdges),_.selectionCapacityPolicy&&W.setCapacityPolicy(_.selectionCapacityPolicy);function X(_,n,o,i){return n||o.clear(!0),o.append(_,function(_){i&&u.fire("select",{append:n,obj:_,selection:o})})}this.setSelection=function(_){X(_,!1,W,!0)},this.select=function(_,n){var o=H(),i=X(_,!0,o);if(n)for(var w=0;w<i[0].length;w++){var t=i[0][w];if("Node"===t.objectType||"Port"===t.objectType)for(var e=t.getAllEdges(),d=0;d<e.length;d++)o.append(e[d])}return o};var Y=function(_,n,o,i){for(var w,t,e=_.getAllEdges(),d=0,$=e.length;d<$;d++)(e[d].source===_||e[d].getNode&&e[d].getNode()===_)&&(i[t=(w=e[d].target).getFullId()]||(n.append(w),o&&n.append(e[d]),i[t]=!0,Y(w,n,o,i)))};this.selectDescendants=function(_,n,o){var i=u.getObjectInfo(_),_=H();return i.obj&&"Node"===i.obj.objectType&&(n&&X(i.obj,!0,_),(n={})[i.obj.getFullId()]=!0,Y(i.obj,_,o,n)),_},this.addToSelection=function(_){_=this.getObjectInfo(_);_&&(_=X(_.obj,!0,W,!0),Z("deselect",_[1]),Z("select",_[0]))};var Z=function(_,n){for(var o=0;o<n.length;o++)u.fire(_,{obj:n[o],selection:W})};this.toggleSelection=function(_){var o,_=this.getObjectInfo(_);_&&(o=[],_=W.toggle(_.obj,function(_,n){n||o.push(_)}),Z("deselect",_[1]),Z("deselect",o),Z("select",_[0]))},this.removeFromSelection=function(_){_=this.getObjectInfo(_);_&&W.remove(_.obj,function(_){u.fire("deselect",{obj:_,selection:W})})},this.addPathToSelection=function(_){this.addToSelection(this.getPath(_))},this.selectAll=function(){throw new TypeError("not implemented")},this.clearSelection=W.clear,this.getSelection=function(){return W},this.setMaxSelectedNodes=function(_){W.setMaxNodes(_)},this.setMaxSelectedEdges=function(_){W.setMaxEdges(_)},this.setSelectionCapacityPolicy=function(_){W.setCapacityPolicy(_)};var q=function(_){u.setSuspendGraph(!0),u.fire(_),u.setSuspendGraph(!1),B=!1},J={};this.render=function(_,n){var o=n_.extend({},n||{});if(n_.extend(o,_),o.toolkit=u,null==o.container)throw new Error("jsPlumbToolkit: You must specify a `container` into which to render");null!=_.selection&&(_.selection.constructor===__.Selection?o.toolkit=_.selection:o.toolkit=new __.Selection({generator:_.selection,toolkit:u})),o.toolkitInstance=u;var i=o.type||Q.jsPlumbToolkit.DefaultRendererType,n=new Q.jsPlumbToolkit.Renderers[i](o),i=o.id||__.uuid();return(J[i]=n).id=i,null!=_.selection&&(n.reload=o.toolkit.reload.bind(o.toolkit)),n._onDestroy=function(_){delete J[_.id]},n},this.getRenderer=function(_){return J[_]},this.getRenderers=function(){return J},this.getObjectInfo=function(_,n){var o={els:{},obj:null,type:null,id:null,el:null},i=function(_){if(null!=_)return _.jtk?_:i(_.parentNode)};if(null!=_){if(_.eachNode&&_.eachEdge)return{obj:_};if(__.isArray(_))return{obj:_};var w=n_.getElement(_);if(null!=w&&w.jtk)o.el=w,o.obj=w.jtk.port||w.jtk.node||w.jtk.group;else if(null!=_.tagName){w=i(w);null!=w&&(o.el=w,o.obj=w.jtk.port||w.jtk.node||w.jtk.group)}else{if("string"==typeof _?_=this.getNode(_)||this.getGroup(_)||this.getPort(_):"object"==typeof _&&void 0===_.objectType&&(_=this.getNode($(_))),null==_)return o;o.obj=_,null!=n&&(o.el=n(_))}null==n&&(o.els=function(_){var n,o={};for(n in J)o[n]=[J[n],J[n].getRenderedElement(_)];return o}(o.obj)),null!=o.obj&&(o.id=o.obj.id,o.type=o.obj.objectType)}return o},this.getVersion=function(){return"%VERSION%"},_.data&&(E=_.dataType||"json",u.load({data:_.data,type:E}))},__.extend(Q.jsPlumbToolkitInstance,[__.FilterableDataset,__.EventGenerator]),Q.jsPlumbToolkit=new Q.jsPlumbToolkitInstance({}),Q.jsPlumbToolkit.DefaultRendererType=null,Q.jsPlumbToolkit.ready=n_.ready,Q.jsPlumbToolkit.Renderers={},Q.jsPlumbToolkit.Widgets={};function _(_){return new Q.jsPlumbToolkitInstance(_)}Q.jsPlumbToolkit.newInstance=_,"undefined"!=typeof exports&&(exports.jsPlumbToolkit=Q.jsPlumbToolkit,exports.newInstance=_)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){var s=this.jsPlumbToolkit,a=this.jsPlumbUtil;s.Model=function(i,_){(i=i||{}).nodes=i.nodes||{},i.edges=i.edges||{},i.ports=i.ports||{},i.groups=i.groups||{};function n(_){if(d.edges[_])return d.edges[_];var n,o=a.mergeWithParents([_,"default"],i.edges);return null!=o.label&&(o.overlays=o.overlays||[],n=["Label",{id:"label",label:o.label}],o.labelClass&&(n[1].labelStyle={cssClass:o.labelClass}),o.labelLocation&&(n[1].location=o.labelLocation),o.labelLocationAttribute&&(n[1].labelLocationAttribute=o.labelLocationAttribute),o.overlays.push(n)),delete o.parent,d.edges[_]=o}function o(_,n){return d.ports[_]||(delete(n=n&&n.ports?a.mergeWithParents([_,"default"],n.ports):a.mergeWithParents([_,"default"],i.ports)).parent,d.ports[_]=n)}var w,t,e={},d={nodes:{},edges:{},groups:{},ports:{}};if(void 0!==_){for(var $ in i.edges){if((w=n($)).overlays)for(t=0;t<w.overlays.length;t++)if(a.isArray(w.overlays[t])&&w.overlays[t][1].events)for(var j in w.overlays[t][1].events)w.overlays[t][1].events[j]=function(o,i){return function(_,n){o.call(i,{overlay:_,e:n,component:_.component,edge:_.component.edge})}}(w.overlays[t][1].events[j],w.overlays[t]);_.registerConnectionType($,w)}for(t in i.ports)w=o(t),_.registerEndpointType(t,w);if(i.states)for(var r in i.states)e[r]=new s.UIState(r,i.states[r],_)}return{getNodeDefinition:function(_){if(d.nodes[_])return d.nodes[_];var n=a.mergeWithParents([_,"default"],i.nodes);return delete n.parent,d.nodes[_]=n},getEdgeDefinition:n,getPortDefinition:o,getGroupDefinition:function(_){if(d.groups[_])return d.groups[_];var n=a.mergeWithParents([_,"default"],i.groups);return delete n.parent,d.groups[_]=n},getState:function(_){return e[_]}}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){function e(o){function i(){--n<=0&&d()}var n=0;this.add=function(_){n++,jsPlumbUtil.ajax({url:_,success:function(_){var n=o.innerHTML;n+=_,o.innerHTML=n,i()},error:function(_){i()}})},this.ensureNotEmpty=function(){n<=0&&d()}}var n=jsPlumbToolkit.ready,o=[],i=!1,d=function(){i=!0;for(var _=0;_<o.length;_++)n.call(n,o[_])};jsPlumbToolkit.ready=function(_){i?n.call(n,_):o.push(_)},jsPlumb.ready(function(){var _=document.getElementById("jsPlumbToolkitTemplates");if(_)d();else{(_=document.createElement("div")).style.display="none",_.id="jsPlumbToolkitTemplates",document.body.appendChild(_);for(var n=new e(_),o=document.getElementsByTagName("script"),i=0;i<o.length;i++){var w=o[i].getAttribute("type"),t=o[i].getAttribute("src");"text/x-jtk-templates"==w&&n.add(t)}n.ensureNotEmpty()}})}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";this.jsPlumbToolkit.Classes={LASSO:"jtk-lasso",LASSO_SELECT_DEFEAT:"jtk-lasso-select-defeat",MINIVIEW:"jtk-miniview",MINIVIEW_CANVAS:"jtk-miniview-canvas",MINIVIEW_PANNER:"jtk-miniview-panner",MINIVIEW_ELEMENT:"jtk-miniview-element",MINIVIEW_GROUP_ELEMENT:"jtk-miniview-group-element",MINIVIEW_PANNING:"jtk-miniview-panning",MINIVIEW_COLLAPSE:"jtk-miniview-collapse",MINIVIEW_COLLAPSED:"jtk-miniview-collapsed",MOST_RECENTLY_DRAGGED:"jtk-most-recently-dragged",NODE:"jtk-node",PORT:"jtk-port",GROUP:"jtk-group",SELECT_DEFEAT:"jtk-drag-select-defeat",SURFACE:"jtk-surface",SURFACE_DIRECT:"jtk-surface-direct-render",SURFACE_NO_PAN:"jtk-surface-nopan",SURFACE_CANVAS:"jtk-surface-canvas",SURFACE_PAN:"jtk-surface-pan",SURFACE_PAN_LEFT:"jtk-surface-pan-left",SURFACE_PAN_TOP:"jtk-surface-pan-top",SURFACE_PAN_RIGHT:"jtk-surface-pan-right",SURFACE_PAN_BOTTOM:"jtk-surface-pan-bottom",SURFACE_PAN_ACTIVE:"jtk-surface-pan-active",SURFACE_SELECTED_ELEMENT:"jtk-surface-selected-element",SURFACE_SELECTED_CONNECTION:"jtk-surface-selected-connection",SURFACE_PANNING:"jtk-surface-panning",SURFACE_ELEMENT_DRAGGING:"jtk-surface-element-dragging",SURFACE_DROPPABLE_NODE:"jtk-surface-droppable-node",TOOLBAR:"jtk-toolbar",TOOLBAR_TOOL:"jtk-tool",TOOLBAR_TOOL_SELECTED:"jtk-tool-selected",TOOLBAR_TOOL_ICON:"jtk-tool-icon"},this.jsPlumbToolkit.Constants={click:"click",start:"start",stop:"stop",drop:"drop",disabled:"disabled",pan:"pan",select:"select",drag:"drag",left:"left",right:"right",top:"top",bottom:"bottom",width:"width",height:"height",leftmin:"leftmin",leftmax:"leftmax",topmin:"topmin",topmax:"topmax",min:"min",max:"max",nominalSize:"50px",px:"px",onepx:"1px",nopx:"0px",em:"em",absolute:"absolute",relative:"relative",none:"none",block:"block",hidden:"hidden",div:"div",id:"id",plusEquals:"+=",minusEquals:"-=",dot:".",transform:"transform",transformOrigin:"transform-origin",nodeType:"Node",portType:"Port",edgeType:"Edge",groupType:"Group",surfaceNodeDragScope:"surfaceNodeDrag",mistletoeLayoutType:"Mistletoe",surfaceType:"Surface",jtkStatePrefix:"jtk-state-",msgCannotSaveState:"Cannot save state",msgCannotRestoreState:"Cannot restore state",nodeUpdatedPortRemoved:"removeport"},this.jsPlumbToolkit.Attributes={jtkNodeId:"jtk-node-id",relatedNodeId:"related-node-id"},this.jsPlumbToolkit.Methods={addClass:"addClass",removeClass:"removeClass"},this.jsPlumbToolkit.Events={afterLayoutRefresh:"afterLayoutRefresh",beforeDrop:"beforeDrop",beforeDetach:"beforeDetach",click:"click",canvasClick:"canvasClick",canvasDblClick:"canvasDblClick",connection:"connection",connectionAborted:"connectionAborted",connectionDetached:"connectionDetached",connectionMoved:"connectionMoved",connectionDragStop:"connectionDragStop",connectionEdit:"connectionEdit",contentDimensions:"contentDimensions",contextmenu:"contextmenu",dataLoadStart:"dataLoadStart",dataAppendStart:"dataAppendStart",dataLoadEnd:"dataLoadEnd",dataAppendEnd:"dataAppendEnd",dblclick:"dblclick",drag:"drag",drop:"drop",dragover:"dragover",dragend:"dragend",edgeAdded:"edgeAdded",edgePathEdited:"edgePathEdited",edgeRemoved:"edgeRemoved",edgeTypeChanged:"edgeTypeChanged",elementDragged:"elementDragged",elementAdded:"elementAdded",elementRemoved:"elementRemoved",endOverlayAnimation:"endOverlayAnimation",graphClearStart:"graphClearStart",graphCleared:"graphCleared",groupAdded:"groupAdded",groupDragStop:"groupDragStop",groupExpand:"group:expand",groupCollapse:"group:collapse",groupRelayout:"group:relayout",groupRemoved:"groupRemoved",groupMemberAdded:"group:addMember",groupMemberRemoved:"group:removeMember",groupMoveEnd:"groupMoveEnd",groupUpdated:"groupUpdated",lassoEnd:"lasso:end",modeChanged:"modeChanged",mousedown:"mousedown",mousemove:"mousemove",mouseout:"mouseout",mouseup:"mouseup",mouseenter:"mouseenter",mouseleave:"mouseleave",mouseover:"mouseover",nodeAdded:"nodeAdded",nodeDropped:"nodeDropped",nodeMoveStart:"nodeMoveStart",nodeMove:"nodeMove",nodeMoveEnd:"nodeMoveEnd",nodeRemoved:"nodeRemoved",nodeVisibility:"nodeVisibility",edgeTarget:"edgeTarget",nodeTypeChanged:"nodeTypeChanged",nodeTraverseEnd:"endNodeTraversal",nodeTraverseStart:"startNodeTraversal",edgeSource:"edgeSource",objectRepainted:"objectRepainted",pan:"pan",portAdded:"portAdded",portRemoved:"portRemoved",portTypeChanged:"portTypeChanged",redraw:"redraw",rotate:"rotate",start:"start",startOverlayAnimation:"startOverlayAnimation",stateRestored:"stateRestored",stop:"stop",tap:"tap",touchend:"touchend",touchmove:"touchmove",touchstart:"touchstart",unload:"unload",nodeRendered:"nodeRendered",nodeUpdated:"nodeUpdated",portUpdated:"portUpdated",edgeUpdated:"edgeUpdated",portRenamed:"portRenamed",zoom:"zoom",relayout:"relayout",deselect:"deselect",selectionCleared:"selectionCleared",resize:"resize",anchorChanged:"anchorChanged"}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var o=this.jsPlumbUtil;"undefined"!=typeof exports&&(exports.jsPlumbUtil=o),o.Storage={set:function(_,n){localStorage.setItem(_,n)},get:function(_){return localStorage.getItem(_)},clear:function(_){localStorage.removeItem(_)},clearAll:function(){for(;0<localStorage.length;){var _=localStorage.key(0);localStorage.removeItem(_)}},setJSON:function(_,n){if("undefined"==typeof JSON)throw new TypeError("JSON undefined. Cannot store value.");o.Storage.set(_,JSON.stringify(n))},getJSON:function(_){if("undefined"==typeof JSON)throw new TypeError("JSON undefined. Cannot retrieve value.");return JSON.parse(o.Storage.get(_))}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var _=this.jsPlumbToolkit,$=this.jsPlumbUtil;_.Path=function(t,_){this.bind=t.bind,this.getModel=t.getModel,this.setSuspendGraph=t.setSuspendGraph,this.getNodeId=t.getNodeId,this.getEdgeId=t.getEdgeId,this.getPortId=t.getPortId,this.getNodeType=t.getNodeType,this.getEdgeType=t.getEdgeType,this.getPortType=t.getPortType;for(var e=t.getGraph().findPath(_.source,_.target,_.strict,_.nodeFilter,_.edgeFilter),n=function(){for(var _=0;_<e.path.length;_++)e.path[_].edge&&t.removeEdge(e.path[_].edge);return this}.bind(this),_=function(){for(var _=0;_<e.path.length;_++)t.removeNode(e.path[_].vertex);return this}.bind(this),o=[],i={},w=0;w<e.path.length;w++)o.push(e.path[w].vertex),i[e.path[w].vertex.getFullId()]=[e.path[w].vertex,w];this.getNodes=function(){return o},this.getNode=function(_){return i["string"==typeof _?_:_.id][0]},this.getAllEdgesFor=function(_){_=i[_.id][1];return _<e.path.length-1?[e.path[_+1].edge]:[]};function d(_,n){for(var o=n||0;o<e.path.length;o++)try{_(o,e.path[o])}catch(_){$.log("Path iterator function failed",_)}}this.each=function(o){d(function(_,n){o(_,n)})},this.eachNode=function(o){d(function(_,n){o(_,n.vertex)})},this.eachEdge=function(o){d(function(_,n){o(_,n.edge)},1)},this.getNodeCount=function(){return e.path.length},this.getNodeAt=function(_){return e.path[_].vertex},this.getEdgeCount=function(){return 0===e.path.length?0:e.path.length-1},this.getEdgeAt=function(_){return _<0&&(_=e.path.length-1+_),e.path.length>_+1?e.path[_+1].edge:null},this.path=e,this.deleteEdges=n,this.deleteNodes=_,this.deleteAll=_,this.isEmpty=function(){return 0===e.path.length},this.getCost=function(){return e.pathDistance},this.contains=function(_,n){var o=t.findGraphObject(_),i=!1;if(o)for(var w=0;w<e.path.length;w++)if(e.path[w].vertex===o||e.path[w].edge===o||!n&&"Port"===e.path[w].vertex.objectType&&e.path[w].vertex.isChildOf(o)){i=!0;break}return i},this.exists=function(){return null!=e.pathDistance},this.selectEdges=function(_){return _selectEdges(_,"getEdges",!1)},this.selectAllEdges=function(_){return _selectEdges(_,"getAllEdges",!0)}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){var _=(n.parse=function(_,n,o,i){var w=this.parsers[_];if(null==w)throw new Error("jsPlumb Toolkit - parse - ["+_+"] is an unsupported type");return w(n,o,i)},n.exportData=function(_,n,o){var i=this.exporters[_];if(null===i)throw new Error("jsPlumb Toolkit - exportData - ["+_+"]  is an unsupported type");return i(n,o)},n.manage=function(_,n,o,i,w,t){this.managers[o]&&this.managers[o][_]&&this.managers[o][_](n,i,w)},n.JSONGraphParser=function(_,n,o){for(var i=_.nodes||[],w=_.edges||[],t=_.ports||[],e=_.groups||[],d=0;d<e.length;d++)n.addGroup(e[d]);for(var $=0;$<i.length;$++)n.addNode(i[$]);for(var j,r=0;r<t.length;r++)if(t[r].nodeId){var s=n.getNode(t[r].nodeId);if(null==s)throw new Error("Unknown node ["+t[r].nodeId+"]");s.addPort(t[r])}else t[r].id?(j=n.getGraph().getVertexByPortId(t[r].id))&&((s=jsPlumb.extend(t[r],{})).id=n.getGraph().splitPortId(t[r].id)[1],j.addPort(s)):console.log("could not add port with definition "+t[r]+"; no nodeId or id found");for(var a=0;a<w.length;a++){var l={source:w[a].source,target:w[a].target,cost:w[a].cost||1,directed:w[a].directed,data:w[a].data};w[a].geometry&&(l.geometry=w[a].geometry),n.addEdge(l)}},n.JSONGraphExporter=function(_,n){return _.getGraph().serialize()},n.hierarchicalJsonParser=function(_,w,n){var t=function(_){var n=w.addNode(_);if(_.children)for(var o=0;o<_.children.length;o++){var i=w.addNode(_.children[o]);w.addEdge({source:n,target:i}),t(_.children[o])}};t(_)},n.exporters={json:n.JSONGraphExporter},n.parsers={json:n.JSONGraphParser,"hierarchical-json":n.hierarchicalJsonParser},n.managers={json:{removeNode:function(_,n,o){var i=o(n.data);jsPlumbUtil.removeWithFunction(_.nodes,function(_){return _.id===i})},removeEdge:function(_,n,o){var i=o(n.data);jsPlumbUtil.removeWithFunction(_.edges,function(_){return _.data&&_.data.id===i})},addNode:function(_,n,o){_.nodes=_.nodes||[],_.nodes.push(n.data)},addEdge:function(_,n,o){n={source:n.source.getFullId(),target:n.target.getFullId(),data:n.data||{}};_.edges=_.edges||[],_.edges.push(n)},addPort:function(_,n,o){_.ports=_.ports||[];var i=jsPlumb.extend({},n.port.data||{});i.id=n.port.getFullId(),_.ports.push(i)},removePort:function(_,n,o){var i=n.port.getFullId();jsPlumbUtil.removeWithFunction(_.ports,function(_){return _.id===i})}}},n);function n(){}this.jsPlumbToolkitIO=_,"undefined"!=typeof exports&&(exports.jsPlumbToolkitIO=_)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){var p=this,f=p.jsPlumbToolkit;f.Support={ingest:function(_){var r=_.jsPlumb||p.jsPlumb;if(!r.getContainer())throw new TypeError("No Container set on jsPlumb instance. Cannot continue.");function w(_,n){var o=l(_),i=u(_),w=r.getId(_),t=[];if(n=n||{},null==a[w]){var e=r.getOffset(_);a[w]=s.addNode(jsPlumb.extend({id:o,type:i,left:e.left,top:e.top},n),null,!0),_.jtk={node:a[w]};var d=r.getEndpoints(_);if(0<d.length)for(var $=0;$<d.length;$++){var j=s.addPort(a[w],{id:""+$},!0);t.push([j,d[$]]),d[$].setParameter("portId",""+$),d[$].setParameter("nodeId",w)}}return t}var s=f.newInstance(),n=r.select(),a={},o=function(){return"default"},l=_.idFunction||function(_){return r.getId(_)},u=_.typeFunction||o,d=_.idFunction||function(_){return _.id},$=_.edgeTypeFunction||o,o=!1!==_.render,i=[];if(_.nodeSelector)for(var t=r.getContainer().querySelectorAll(_.nodeSelector),e=0;e<t.length;e++){var j=r.getId(t[e]);i.push.apply(i,w(t[e],j)),r.manage(j,t[e])}var c=r.getManagedElements();for(j in c)i.push.apply(i,w(c[j].el,j));if(n.each(function(_){var n,o,i,w,t,e;o=a[(n=_).sourceId],i=a[n.targetId],w=d(n),t=$(n),e=n.endpoints[0].getParameter("portId"),_=n.endpoints[1].getParameter("portId"),null!=e&&(o=o.getPort(e)),null!=_&&(i=i.getPort(_)),n.edge=s.addEdge({source:o,target:i,data:{id:w,type:t}},null,!0)}),o){_=p.jsPlumb.extend({},_.renderParams||{});_.jsPlumbInstance=r,_.container=r.getContainer(),_.layout=_.layout||{type:"Absolute"};for(var h=s.render(_),e=0;e<i.length;e++)h.ingestEndpoint.apply(h,i[e]);return h.ingest=function(_,n){r.getContainer().appendChild(_);var o=w(_,n);h.importNode(_,l(_));for(var i=0;i<o.length;i++)h.ingestEndpoint.apply(h,o[i])},h}return s}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var H=this,W=H.jsPlumbToolkit.Layouts={Decorators:{}},X=H.jsPlumbUtil;W.AbstractLayout=function(_){this.viewport=_.viewport;var w=this,o=_.adapter,$=_.renderer,i=_.parameters||{},t=_.getElementForNode,e=H.Farahey.getInstance({viewport:this.viewport,getPosition:function(_){_=$.getViewportPosition(_);return{left:_.x,top:_.y}},getSize:function(_){_=$.getViewportPosition(_);return[_.w,_.h]},getId:function(_){return _.id},setPosition:function(_,n){var o,i,w,t,e,d=$.getViewportPosition(_);0!==d.r?(i=[n.left,n.top],w=[n.left+d.w,n.top],o=[n.left+d.w,n.top+d.h],t=[n.left,n.top+d.h],e=[(i[0]+w[0])/2,(i[1]+t[1])/2],i=jsPlumbUtil.rotatePoint(i,e,-d.r),w=jsPlumbUtil.rotatePoint(w,e,-d.r),t=jsPlumbUtil.rotatePoint(t,e,-d.r),e=jsPlumbUtil.rotatePoint(o,e,-d.r),d=Math.min(i[0],w[0],t[0],e[0]),e=Math.min(i[1],w[1],t[1],e[1]),R(_.id,d,e)):R(_.id,n.left,n.top)},padding:i.padding,filter:function(_){return(!m[_]||!m[_].group)&&(!w.canMagnetize||w.canMagnetize(_))}}),d=!1!==_.magnetized&&(w.defaultMagnetized||!0===_.magnetize),j=i.magnetizer&&i.magnetizer.iterations||10,r=!1!==_.negativeValuesAllowed;this.decorators=function(_,n,o){if(null==_)return[];for(var i,w,t,e=[],d=0;d<_.length;d++){var $=(i=_[d],t=w=void 0,w="string"==typeof i?i:i[0],t=W.Decorators[w],i="string"==typeof i?{}:i[1],t?new t(i,n,o):(X.log("Decorator ["+w+"] nor registered on jsPlumbToolkit.Layouts.Decorators. Not fatal."),null));$&&e.push($)}return e}(_.decorators,_.adapter,_.container),this.adapter=_.adapter;function s(){A=!1,p=h=1/0,g=f=-1/0;for(var _=0;_<w.decorators.length;_++)w.decorators[_].reset({remove:a.remove});u={},c.splice(0),b={},x.length=0,C.length=0,P.length=0,E.length=0,y={},e.reset(),w.reset&&w.reset()}var a=_.jsPlumb||H.jsPlumb,l=_.jsPlumbToolkit,u={},c=[],h=1/0,p=1/0,f=-1/0,g=-1/0,m={},v={},y={},b={},P=[],E=[],x=[],C=[],n=_.container,S=a.getSize(n),I=_.width||S[0],k=_.height||S[1],A=!1;function T(_,n){return b[_]||(n=n||[0,0],b[_]={id:_,size:O(_),position:n,xmax:n[0],ymax:n[1],xmin:n[0],ymin:n[1]}),b[_]}function D(_){delete b[_]}function M(){for(var _ in P.length=0,x.length=0,E.length=0,C.length=0,b)F(P,b[_],"xmax"),F(E,b[_],"ymax"),F(x,b[_],"xmin"),F(C,b[_],"ymin");if(h=0<x.length?x[0].xmin:0,f=0<P.length?P[P.length-1].xmax:0,p=0<C.length?C[0].ymin:0,g=0<E.length?E[E.length-1].ymax:0,!r&&(h<0||p<0)){var n=h<0?h:0,o=p<0?p:0;if(n<0||o<0){for(var i in u)u[i][0]-=n,u[i][1]-=o;for(var w in b)b[w].position[0]-=n,b[w].xmin-=n,b[w].xmax-=n,b[w].position[1]-=o,b[w].ymin-=o,b[w].ymax-=o;h-=n,p-=o,f-=n,g-=o}}}this.getMagnetizedElements=function(){return e.getElements()},this.magnetize=function(_){(_=_||{}).options=_.options||{},_.options.iterations=_.options.iterations||j;var n=_.event?"executeAtEvent":_.origin?"execute":"executeAtCenter",o=_.event?[_.event,_.options]:_.origin?[_.origin,_.options]:[_.options];_.force&&this.forceMagnetize&&this.forceMagnetize();o=e[n].apply(e,o);z(a.repaintEverything,o)},this.nodeAdded=function(_,n){var o;w.adapter.filter(_.node)&&(o=n&&n.position?n.position:_.node.data&&_.node.data.left&&_.node.data.top?_.node.data:w.adapter.getOffset(_.el),!this._nodeAdded||(n=this._nodeAdded(_,n))&&(o.left=n[0],o.top=n[1]),m[_.node.id]=_.node,R(_.node.id,o.left,o.top),O(_.node.id,_.el),e.addElement(_.node))},this.nodeRemoved=function(_){delete u[_.node.id],delete y[_.node.id],delete m[_.node.id],D(_.node.id),this._nodeRemoved&&this._nodeRemoved(_.node),e.removeElement(_.node)},this.groupAdded=function(_,n){var o;w.adapter.filter(_.group)&&(o=n&&n.position?n.position:_.group.data&&_.group.data.left&&_.group.data.top?_.group.data:w.adapter.getOffset(_.el),!this._groupAdded||(n=this._groupAdded(_,n))&&(o.left=n[0],o.top=n[1]),v[_.group.id]=_.group,R(_.group.id,o.left,o.top),O(_.group.id,_.el),e.addElement(_.group))},this.groupRemoved=function(_){delete u[_.group.id],delete y[_.group.id],delete v[_.group.id],D(_.group.id),this._groupRemoved&&this._groupRemoved(_.group),e.removeElement(_.group)};function N(_,n,o){m[_]&&w._nodeMoved?w._nodeMoved(_,n,o):v[_]&&w._groupMoved&&w._groupMoved(_,n,o)}var O=function(_,n){var o=y[_];return o||(null!=(n=n||t(_))?(o=a.getSize(n),y[_]=o):o=[0,0]),o},F=function(_,n,o){_.push(n);for(var i=_.length-1,w=_[i];0<i&&w[o]<_[i-1][o];)_[i]=_[i-1],--i;return _[i]=w,i},L=function(_,n,o){var i;null!=_&&(n=parseFloat(n),o=parseFloat(o),isNaN(n)&&(n=0),isNaN(o)&&(o=0),(i=u[_])||(i=u[_]=[0,0],c.push([i,_])),(i=T(_,[n,o])).position[0]=n,i.position[1]=o,B(i),u[_]=[n,o])}.bind(this),R=(this.setMagnetizedPosition=function(n,_,o,i){L(n,_,o),this.magnetize({options:{filter:function(_){return _===n},padding:[5,5],exclude:function(_,n){return null!=n.group},excludeFocus:!0}});o=this.getPosition(n);return i&&N(n,o[0],o[1]),o},function(_,n,o,i){L(_,n,o),i&&N(_,n,o)}),G=function(_){var n=t(_);if(null==n)return null;var o=O(_),_=T(_).position;return w.adapter.setElementPosition(n,_[0],_[1],o,!0),_.concat(o)}.bind(this),z=this.draw=function(_,n){for(var o in b)null!=n&&!n[o]||G(o);for(var i=0;i<w.decorators.length;i++)w.decorators[i].decorate({adapter:w.adapter,layout:w,append:function(_,n,o){w.adapter.append(_,n,o,!0)},setAbsolutePosition:w.adapter.setAbsolutePosition,toolkit:l,jsPlumb:a,bounds:[h,p,f,g],floatElement:w.adapter.floatElement,fixElement:w.adapter.fixElement});_&&_()};this.setPosition=function(_,n,o,i){R(_,n,o,!0),i||M()},this.bb=function(_){console.log(_);_=function(_){var n,o=1/0,i=1/0,w=-1/0,t=-1/0;for(n in _)o=Math.min(o,_[n][0]),w=Math.max(w,_[n][0]),i=Math.min(i,_[n][1]),t=Math.max(t,_[n][1]);return[[o,i],[w,t],Math.abs(o-w),Math.abs(i-t)]}(u);!function(){for(var _ in u)console.log(_,u[_][0],u[_][1])}(),console.log(_[0],_[1],_[2],_[3])};var U=this.getPositions=function(){return u},n=(this.getPosition=function(_){return u[_]},this.getExtents=function(){return[h,p,f,g]});this.getSize=function(_){return y[_]};function B(_,n){_.xmax=_.position[0]+_.size[0],_.ymax=_.position[1]+_.size[1],_.xmin=_.position[0],_.ymin=_.position[1],n&&M()}this.getSizes=function(){return y};S=function(_,n){y[_]=n;_=T(_);_.size=n,B(_,!0)};this.setSize=S,this.begin=function(_,n){},this.end=function(_,n){};var V=function(_){if(null!=l){var n;n=H.jsPlumb.extend({padding:[0,0]},w.defaultParameters||{}),H.jsPlumb.extend(n,i||{}),i=n,e.setElements(o.getElements()),this.begin&&this.begin(l,i);for(;!A;)this.step(l,i);M(),z(function(){d&&w.magnetize(),w.end&&w.end(l,i),_&&_()})}}.bind(this);return this.relayout=function(_,n){s(),null!=_&&(i=_),V(n)},this.layout=function(_){A=!1,V(_)},this.clear=function(){s()},this.destroy=function(){this.viewport=null,e=null},{adapter:_.adapter,jsPlumb:a,toolkit:l,getPosition:function(_,n,o,i){var w=u[_];if(!w){if(null!=n&&null!=o)w=[n,o];else{if(i)return null;w=[Math.floor(Math.random()*(I+1)),Math.floor(Math.random()*(k+1))]}R(_,w[0],w[1])}return w},setPosition:R,getRandomPosition:function(_,n,o,i){n=n||10,o=o||10;var w=Math.floor(Math.random()*n),n=Math.floor(Math.random()*o),o=T(_,[w,n]);return o.position=[w,n],B(o,!0!==i),u[_]=[w,n],[w,n]},getSize:O,setSize:S,getPositions:U,setPositions:function(_){u=_},getExtents:n,width:I,height:k,reset:s,draw:z,setDone:function(_){A=_}}},W.EmptyLayout=function(i){var w={},o={};this.refresh=this.relayout=this.layout=function(){this.clear();for(var _,n=i.getElements(),o=0;o<n.length;o++)_=n[o],w[_.id]=[0,0]},this.nodeRemoved=this.groupRemoved=function(_){delete w[_.id]},this.nodeAdded=this.groupAdded=function(_){w[_.id]=!1},this.getPositions=function(){return w},this.getPosition=function(_){return w[_]},this.setPosition=function(_,n,o){w[_]=[n,o]},this.getExtents=function(){return[0,0,0,0]},this.clear=function(){},this.getMagnetizedElements=function(){return[]},this.setSize=function(_,n){o[_]=n},this.getSize=function(_){return o[_]},this.getSizes=function(){return o},this.destroy=function(){o=w=null}},W.Mistletoe=function(_){if(!_.parameters.layout)throw"No layout specified for MistletoeLayout";var o={},n=H.jsPlumb.extend({},_);n.getElementForNode=function(_){return o[_]};var i,w,t,e=W.AbstractLayout.apply(this,[n]),d=_.parameters.layout,$=function(){e.setPositions(d.getPositions()),e.draw(),this.fire("redraw")}.bind(this);X.EventGenerator.apply(this,arguments),this.map=function(_,n){o[_]=n};function j(){o={},i=d.layout,w=d.relayout,t=d.clear,d.layout=function(){i.apply(d,arguments),$()},d.relayout=function(){e.reset(),w.apply(d,arguments),$()},d.clear=function(){t.apply(d,arguments),e.reset()}}j(),this.setHostLayout=function(_){d=_,j()};var r=this.destroy;this.destroy=function(){r.apply(this),r=$=e=o=null}};var _=function(o){o=o||{};function j(_,n){return(o.locationFunction||function(_){return[_.data.left,_.data.top]})(_)}var r=W.AbstractLayout.apply(this,arguments),i=function(_,n,o){for(var i=r.adapter[_](),w=i.length,t=0;t<w;t++){var e=i[t],d=e.getFullId(),$=r.getPosition(d,null,null,!0);null==$&&($=j(e)),this.setPosition(d,$[0],$[1],!0)}}.bind(this);return this.begin=function(_,n){i("getElements",_,n)},this._nodeAdded=function(_,n){return j(_.node,o.parameters)},this._groupAdded=function(_,n){return j(_.group,o.parameters)},this.getAbsolutePosition=function(_,n){return j(_)},this.step=function(){r.setDone(!0)},r};X.extend(_,W.AbstractLayout),W.AbsoluteBackedLayout=_,W.Absolute=function(_){W.AbsoluteBackedLayout.apply(this,arguments)},X.extend(W.Absolute,W.AbsoluteBackedLayout);_=function(i){var w=W.AbsoluteBackedLayout.apply(this,arguments),t=i.adapter;this.absoluteBacked=!0===i.absoluteBacked;return this.begin=function(_,n){n.ignoreLoops=!(!1===i.ignoreLoops),n.getRootNode=n.getRootNode||function(_){if(!1!==i.multipleRoots)return _.filter(function(_){if("Node"!==_.objectType&&"Group"!==_.objectType)return!1;var n=_.getTargetEdges();return(0===n.length||function(_,n){for(var o=0;o<_.length;o++)if(_[o].target!==n||_[o].source!==n)return!1;return!0}(n,_))&&t.filter(_)}).getAll();_=w.adapter.getElements();return 0<_.length?_[0]:null},n.getChildEdges=n.getChildEdges||function(o,_){return w.toolkit.getAllEdgesFor(o,function(_){var n=_.target.getNode?_.target.getNode():_.target;return(_.source===o||!0!==i.ignorePorts&&_.source.getNode&&_.source.getNode()===o)&&t.filter(n)})},n.rootNode=n.getRootNode(_),n.rootNode||w.setDone(!0)},w};X.extend(_,W.AbstractLayout),W.AbstractHierarchicalLayout=_}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var n=this.jsPlumbToolkit.Layouts,p=this.Farahey;n.Circular=function(_){_=_||{};var c=n.AbstractLayout.apply(this,arguments),h=!!_.parameters&&!0===_.parameters.centerRootNode;_.group;this.defaultParameters={padding:30,locationFunction:_.locationFunction},this.step=function(_,n){var o,i=c.adapter.getElements(),w=10;if(h&&(o=c.getSize(i[0].id),w=Math.max(o[0],o[1])+80,c.setPosition(i[0].id,0,0),i=i.slice(1)),0!==i.length){for(var t=2*Math.PI/i.length,e=-Math.PI/2,d=0;d<i.length;d++){var $,j,r,s,a,l,u=i[d];c.setPosition(u.id,0+Math.sin(e)*w,0+Math.cos(e)*w,!0),e+=t,0<d&&(r=i[d-1],a=c.getSize(r.id),j={x:($=c.getPosition(r.id))[0]-n.padding,y:$[1]-n.padding,w:a[0]+2*n.padding,h:a[1]+2*n.padding},s=i[d],l=c.getSize(s.id),s={x:(r=c.getPosition(s.id))[0]-n.padding,y:r[1]-n.padding,w:l[0]+2*n.padding,h:l[1]+2*n.padding},s=p.calculateSpacingAdjustment(j,s),a=[$[0]+a[0]/2,$[1]+a[1]/2],l=[r[0]+s.left+l[0]/2,r[1]+s.top+ +l[1]/2],l=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),w=Math.max(w,l/2/Math.sin(t/2)))}for(d=0;d<i.length;d++)u=i[d],c.setPosition(u.id,0+Math.sin(e)*w,0+Math.cos(e)*w,!0),e+=t;c.setDone(!0)}else c.setDone(!0)}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var $=this.jsPlumbToolkit.Layouts,I=this.jsPlumbUtil,k="compress",A="auto";$.Hierarchical=function(_){function u(_){var n=x[_];return n||(n={entries:[],pointer:0},x[_]=n),n}function c(_,n,o,i,w){var t=u(o),_={node:_,parents:null==i?[]:[i],childGroup:w,loc:t.pointer,index:t.entries.length,dimensions:n,size:n[g],children:[]},w=n[0===g?1:0];return null==l[o]?l[o]=w:l[o]=Math.max(l[o],w),t.pointer+=n[g]+m[g],t.entries.push(_),i&&i.children.push(_),_}function h(_){return 0<_.parents.length?_.parents[0].loc:null}function p(_,n){if(0===_.parents.length)return null;for(var o=_.parents[0].size,i=1;i<_.parents.length;i++)o+=n+_.parents[i].size;return o}function e(_){return 0<_.parents.length?_.parents[0].childGroup:null}function f(_){if(0<_.size){var n=s[j](_),o=r[_.depth],i="end"===j?1/0:-1/0,w=0;null!=o&&0<o.length&&(o=(o=o[o.length-1]).nodes[o.nodes.length-1],i="end"===j?o.loc-_.size:o.loc+o.size+m[g]),"end"!==j&&i<=n||"end"===j&&n<=i?_.loc=n:(w=i-n,_.loc=i);for(var t=_.loc,n="end"===j?_.nodes.length-1:0,e="end"===j?-1:_.nodes.length,d="end"===j?-1:1,$=n;$!==e;$+=d)_.nodes[$].loc=t,t+=_.nodes[$].size,t+=m[g];0!==w&&a(_),n=(i=_).depth,(w=r[n])||(w=[],r[n]=w),i.index=w.length,w.push(i)}}function o(_){var n=_.nodes[0].loc,o=_.nodes[_.nodes.length-1].loc+_.nodes[_.nodes.length-1].size,i=(o=d[j](_,n,o))-h(_);if(!function(_,n){if(0<_.parents.length){for(var o=n-_.parents[0].loc,i=0;i<_.parents.length;i++)_.parents[i].loc+=o;var w=_.parents[_.parents.length-1],n=u(_.depth-1);n.pointer=Math.max(n.pointer,w.loc+w.size+m[g])}}(_,o),!(0<(o=_).parents.length&&!0===o.parents[0].root))for(var w=e(_),t=(0<(_=_).parents.length?_.parents[_.parents.length-1].childGroupIndex:null)+1;t<w.nodes.length;t++)w.nodes[t].loc+=i}var i,g,m,v,y,b=$.AbstractHierarchicalLayout.apply(this,arguments),l=[],n=null!=_.parameters?_.parameters.spacing:A,P=null!=_.parameters&&null!=_.parameters.compress?!0===_.parameters.compress:n===k,E=null!=_.parameters&&!0===_.parameters.invert,j=null!=_.parameters&&_.parameters.align||"center",x=[],r=[],C=b.toolkit.getNodeId,s={center:function(_){return h(_)+p(_,m[g])/2-(_.size-m[g])/2},start:h,end:function(_){return h(_)+p(_,0)-(_.size-m[g])}},d={center:function(_,n,o){return(n+o)/2-p(_)/2},start:function(_,n,o){return n},end:function(_,n,o){return n}},a=function(_){for(var n=_;null!=n;)o(n),n=e(n)},S=function(_,n){if(!v[_.node.id]){v[_.node.id]=!0;var o,i=[],w={nodes:[],loc:0,size:0,parents:[_],depth:n+1,children:[]},t=[],e={},d=u(n+1);for(Array.prototype.push.apply(i,y(_.node,b.toolkit)),o=0;o<i.length;o++){var $,j,r,s,a,l=(j=_.node,($=i[o]).source===j||$.source.getNode&&$.source.getNode()===j?i[o].target:i[o].source);l.getNode&&(l=l.getNode()),null==(l=b.toolkit.getNode(l))||l===_.node||e[l.id]||($=b.getSize(C(l)),-1!==(j=jsPlumbUtil.findWithFunction(d.entries,function(_){return C(_.node)===C(l)}))?((a=d.entries[j]).parents.push(_),r=h(a)+p(a,m[g])/2-a.size/2-a.loc,(s=function(_){for(var n=_.childGroupIndex;n<_.childGroup.nodes.length;n++){_.childGroup.nodes[n].loc+=r;for(var o=0;o<_.children.length;o++)s(_.children[o]);_.childGroup.size+=r}})(a)):((a=c(l,$,n+1,_,w)).childGroupIndex=w.nodes.length,w.nodes.push(a),w.size+=$[g]+m[g],t.push(a)),e[l.id]=!0)}for(f(w),o=0;o<t.length;o++)S(t[o],n+1);return i.length}};this.defaultParameters={padding:[60,60],orientation:"horizontal",border:0,locationFunction:_.locationFunction,align:"center"};var w=this.begin;this.begin=function(_,n){w.apply(this,arguments),i=n.orientation,g="horizontal"===i?0:1,m=n.padding,x.length=0,r.length=0,v={},y=n.getChildEdges,l.length=0},this.step=function(_,n){for(var o,i,w,t=I.isArray(n.rootNode)?n.rootNode:[n.rootNode],e=0;e<t.length;e++){o=t[e];var d,$,j=b.getSize(o.id),r=c(o,j,0,null,null),s=0,a=function(_,n){var o=0===g?1:0;return P&&_.parents&&0<_.parents.length?b.getPosition(C(_.parents[0].node))[o]+function(_,n){_=jsPlumbUtil.map(_.parents,function(_){return _.dimensions[n]});return Math.max.apply(null,_)}(_,o)+m[o]:n},j=!(r.root=!0);if(0===S(r,0,null)&&!0===this.absoluteBacked&&(r=this.getAbsolutePosition(o),isNaN(r[0])||isNaN(r[1])||(b.setPosition(o.id,r[0],r[1]),j=!0)),!j)for(i=0;i<x.length;i++){for(x[i].otherAxis=s,w=0;w<x[i].entries.length;w++)d=0===g?x[i].entries[w].loc:a(x[i].entries[w],s),$=1===g?x[i].entries[w].loc:a(x[i].entries[w],s),b.setPosition(C(x[i].entries[w].node),d,$,!0);E?i<x.length-1&&(x[i].otherAxisSize=l[i+1]+m[0===g?1:0],s-=x[i].otherAxisSize):(x[i].otherAxisSize=l[i]+m[0===g?1:0],s+=x[i].otherAxisSize)}}b.setDone(!0)},this.getHierarchy=function(){return x},this.getOrientation=function(){return i};var t=this.nodeRemoved;this.nodeRemoved=function(){x=[],t.apply(this,arguments)},this.getPadding=function(){return m}},I.extend($.Hierarchical,$.AbstractHierarchicalLayout)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){this.jsPlumbToolkit.Layouts.Decorators.Hierarchy=function(_){var d,o=[];this.reset=function(_){for(var n=0;n<o.length;n++)_.remove(o[n]);o.length=0},this.decorate=function(_){if(_.bounds[0]!=1/0){var n=_.layout.getHierarchy();d=(_.layout.getPadding()||[60,60])[1];for(var o=_.layout.getOrientation(),i="horizontal"===o?["width","height",_.bounds[2]-_.bounds[0]]:["height","width",_.bounds[3]-_.bounds[1]],w=0;w<n.length;w++){var t=document.createElement("div");_.append(t),t.className="level "+(w%2?"odd":"even"),t.style[i[0]]=i[2]+2*d+"px",t.style[i[1]]=n[w].otherAxisSize+"px";var e="horizontal"===o?[_.bounds[0]-d,n[w].otherAxis-d/2]:[n[w].otherAxis-d/2,_.bounds[1]-d];_.setAbsolutePosition(t,e)}}}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var n=this.jsPlumbToolkit.Layouts,_=this.jsPlumbUtil;n.Spring=function(_){this.defaultMagnetized=!0;var C=n.AbsoluteBackedLayout.apply(this,arguments);_=_||{},this.defaultParameters={padding:[50,50],iterations:500,maxRepulsiveForceDistance:6,k:2,c:.01,maxVertexMovement:.5,locationFunction:_.locationFunction};function S(_){_.getNode&&(_=_.getNode());var n,o=T[_.id];return o||(n=C.getRandomPosition(_.id,.5,.5,!0),o=T[_.id]={id:_.id,n:_,sp:n,p:[n[0],n[1]],f:[0,0]}),o}function I(_,n,o){N=Math.min(N,n),F=Math.min(F,o),O=Math.max(O,n),L=Math.max(L,o),_.p[0]=n,_.p[1]=o}var k,A=jsPlumbUtil.merge(this.defaultParameters,_.parameters||{}),T={},D=!1!==_.absoluteBacked,M=0,N=1/0,O=-1/0,F=1/0,L=-1/0,R=1,G=1,z=0,U=function(_){return[.19*C.width+(_[0]-N)*R,.19*C.height+(_[1]-F)*G]};this._nodeMoved=this._groupMoved=function(_,n,o){_=T[_];_&&(_.sp=[n,o],_.p=(_=_.sp,[N+(_[0]-.19*C.width)/R,F+(_[1]-.19*C.height)/G]))},this.forceMagnetize=function(){for(var _ in T)T[_].locked=!1},this.canMagnetize=function(_){return T[_]&&!0!==T[_].locked},this.reset=function(){T={},N=F=1/(M=0),O=L=-1/0},this._nodeRemoved=this._groupRemoved=function(_){delete T[_.id]},this._nodeAdded=this._groupAdded=function(_,n){n&&n.position&&((_=S(_.node||_.group))&&(_.locked=!0,C.setPosition(_.id,n.position.left,n.position.top,!0)))},this.begin=function(_,n){M=0,k=[],Array.prototype.push.apply(k,C.adapter.getElements())},this.step=function(_,n){for(var o,i,w,t,e,d,$,j,r,s,a,l,u=[],c=function(_){return u[_]||(u[_]=S(k[_]),u[_])},h=z=0;h<k.length;h++){var p=c(h);if(D&&!p.locked){var f=this.getAbsolutePosition(p.n,n);if(null!=f&&2===f.length&&null!=f[0]&&null!=f[1]&&!isNaN(f[0])&&!isNaN(f[1])){I(p,f[0],f[1]),p.sp=p.p,C.setPosition(p.id,f[0],f[1],!0),p.locked=!0;continue}}for(var g=h+1;g<k.length;g++){var m=c(g);j=m,l=a=s=r=void 0,(m=p).locked&&j.locked||((s=(a=j.p[0]-m.p[0])*a+(r=j.p[1]-m.p[1])*r)<.01&&(s=(a=.1*Math.random()+.1)*a+(r=.1*Math.random()+.1)*r),(l=Math.sqrt(s))<A.maxRepulsiveForceDistance&&(z++,a=(s=A.k*A.k/l)*a/l,l=s*r/l,j.f[0]+=j.locked?0:(m.locked?2:1)*a,j.f[1]+=j.locked?0:(m.locked?2:1)*l,m.f[0]-=m.locked?0:(j.locked?2:1)*a,m.f[1]-=m.locked?0:(j.locked?2:1)*l))}for(var v=C.toolkit.getAllEdgesFor(p.n).filter(function(_){return C.adapter.filter(_.target)}),y=0;y<v.length;y++)o=p,i=v[y],$=d=e=t=w=void 0,$=S(i.target),o.locked&&$.locked||(z++,(t=(e=$.p[0]-o.p[0])*e+(w=$.p[1]-o.p[1])*w)<.01&&(t=(e=.1*Math.random()+.1)*e+(w=.1*Math.random()+.1)*w),t=((t=(d=Math.sqrt(t))>A.maxRepulsiveForceDistance?(d=A.maxRepulsiveForceDistance)*d:t)-A.k*A.k)/A.k,(null==i.weight||i.weight<1)&&(i.weight=1),e=(t*=.5*Math.log(i.weight)+1)*e/d,d=t*w/d,$.f[0]-=$.locked?0:(o.locked?2:1)*e,$.f[1]-=$.locked?0:(o.locked?2:1)*d,o.f[0]+=o.locked?0:($.locked?2:1)*e,o.f[1]+=o.locked?0:($.locked?2:1)*d)}if(0!==z)for(h=0;h<k.length;h++){var b=c(h),P=A.c*b.f[0],E=A.c*b.f[1],x=A.maxVertexMovement;(P=x<P?x:P)<-x&&(P=-x),(E=x<E?x:E)<-x&&(E=-x),I(b,b.p[0]+P,b.p[1]+E),b.f[0]=0,b.f[1]=0}M++,(0===z||M>=A.iterations)&&(function(){for(var _ in R=C.width/(O-N)*.62,G=C.height/(L-F)*.62,T){var n=T[_];n.locked||(n.sp=U(n.p),C.setPosition(n.id,n.sp[0],n.sp[1],!0))}}(),C.setDone(!0))},this.end=function(){for(var _ in T)T[_].locked=!0}},_.extend(n.Spring,n.AbsoluteBackedLayout)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var n=this.jsPlumbToolkit.Layouts,O=this.Farahey;n.Balloon=function(_){_=_||{};var T,D=n.AbstractHierarchicalLayout.apply(this,arguments),M=[];this.defaultParameters={padding:50,locationFunction:_.locationFunction,groupPadding:100};var e=O.getInstance({padding:[100,100],getPosition:function(_){return{left:_.extents[0],top:_.extents[2]}},setPosition:function(_,n){for(var o=0;o<_.group.length;o++){var i=_.offsets[_.group[o].id];_.setPosition(_.group[o].id,n.left+i.left,n.top+i.top)}},getSize:function(_){return[_.extents[1]-_.extents[0],_.extents[3]-_.extents[2]]},getId:function(_){return _.focus.id},filter:function(_){return M[0].focus.id!==_}}),o=this.begin;this.begin=function(_,n){o.apply(this,arguments),M.length=0,T=n.getChildEdges};var N=function(_,n,w){function o(_,n,o,i){return{x:_-w.padding,y:n-w.padding,w:o+2*w.padding,h:i+2*w.padding}}function i(_){return r[_]||(r[_]=D.getSize(_),r[_])}var t,e={focus:_,childMap:{},children:[],positions:{},incidentAngles:[],setPosition:function(_,n,o){this.positions[_]=[n,o]},getPosition:function(_){return this.positions[_]},setIncidentAngle:function(_,n){this.incidentAngles[_]=n},group:[_]},d=n?n.position:[0,0],$=d[0],j=d[1],r={};e.setPosition(_.id,d[0],d[1]);var s=T(_);for(c=0;c<s.length;c++){var a=s[c].target.getNode?s[c].target.getNode():s[c].target;e.childMap[a.id]||(e.childMap[a.id]=!0,e.children.push(a))}if(d=i(e.focus.id),v=Math.max(d[0],d[1]),t=o($-d[0]/2,j-d[1]/2,d[0],d[1]),D.setPosition(e.focus.id,-d[0]/2,-d[1]/2,!0),0<e.children.length){M.push(e);for(var l=2*Math.PI/(e.children.length+(n?1:0)),u=n?n.incidentAngle+Math.PI+l:Math.PI,n=u,c=0;c<e.children.length;c++){g=i((k=e.children[c]).id);var h,p,f,g,m,v,y=o($+Math.sin(u)*g[0],j+Math.cos(u)*g[1],g[0],g[1]),b=O.calculateSpacingAdjustment(t,y),P=Math.sqrt(Math.pow(y.x+b.left-$,2)+Math.pow(y.y+b.top-j,2));v=Math.max(v,P),e.setPosition(k.id,y.x+b.left,y.y+b.top),u+=l,0<c&&(m=i((f=e.children[c-1]).id),p=o((h=e.getPosition(f.id))[0],h[1],m[0],m[1]),y=i((g=e.children[c]).id),g=o((f=e.getPosition(g.id))[0],f[1],y[0],y[1]),b=O.calculateSpacingAdjustment(p,g),m=[h[0]+m[0]/2,h[1]+m[1]/2],y=[f[0]+b.left+y[0]/2,f[1]+b.top+ +y[1]/2],P=Math.sqrt(Math.pow(m[0]-y[0],2)+Math.pow(m[1]-y[1],2)),v=Math.max(v,P/2/Math.sin(l/2)))}for(u=n,c=0;c<e.children.length;c++)k=e.children[c],e.setIncidentAngle(k.id,u),e.setPosition(k.id,$+Math.sin(u)*v,j+Math.cos(u)*v,!0),u+=l;var E,x=e.positions[_.id][0],n=D.getSize(_.id),C=x+n[0],S=e.positions[_.id][1],I=S+n[1];for(c=0;c<e.children.length;c++){var k=e.children[c];N(k,{parent:_,incidentAngle:e.incidentAngles[k.id],position:e.positions[k.id]},w)||(E=D.getSize(k.id),e.group.push(k),x=Math.min(x,e.positions[k.id][0]),C=Math.max(C,e.positions[k.id][0]+E[0]),S=Math.min(S,e.positions[k.id][1]),I=Math.max(I,e.positions[k.id][1]+E[1]))}for(e.extents=[x,C,S,I],e.offsets={},c=0;c<e.group.length;c++){var A=e.group[c];e.offsets[A.id]={left:e.positions[A.id][0]-e.extents[0],top:e.positions[A.id][1]-e.extents[2]}}}return e.children.length};this.step=function(_,n){if(n.rootNode&&0<n.rootNode.length){var o;N(n.rootNode[0],null,n),0<M.length&&(o=(M[0].extents[0]+M[0].extents[1])/2,n=(M[0].extents[2]+M[0].extents[3])/2,e.setElements(M),e.execute([o,n]));for(var i=0;i<M.length;i++){var w,t=M[i];for(w in t.positions)D.setPosition(w,t.positions[w][0],t.positions[w][1],!0)}}D.setDone(!0)}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";this.jsPlumb;var _=this.jsPlumbToolkit;_.UI=_.UI||{},_.UI.ActiveDragFilter=function(l,_,u){var c={};_.bind("connectionDrag",function(_){var o,n,i,w,t,e=_.source.jtk.port,d=e?e.getNode():_.source.jtk.node,$=u.getNodeCount(),j=u.getGroupCount();function r(_,n){o=u.beforeConnect(_,n),t=n.getFullId(),!1===o&&null==c[t]&&(c[t]=l.setTargetEnabled(n,!1))}if(e)for(r(e,d),n=d.getPorts(),i=0;i<n.length;i++)r(e,n[i]);for(i=0;i<$;i++){var s=u.getNodeAt(i);for(r(e||d,s),n=s.getPorts(),w=0;w<n.length;w++)r(e||d,n[w])}for(i=0;i<j;i++){var a=u.getGroupAt(i);for(r(e||d,a),n=a.getPorts(),w=0;w<n.length;w++)r(e||d,n[w])}}),_.bind("connectionDragStop",function(){function _(_){!0===c[_.getFullId()]&&l.setTargetEnabled(_,!0)}for(var n,o,i=u.getNodeCount(),w=0;w<i;w++){var t=u.getNodeAt(w);for(_(t),n=t.getPorts(),o=0;o<n.length;o++)_(n[o])}var e=u.getGroupCount();for(w=0;w<e;w++){var d=u.getGroupAt(w);for(_(d),n=d.getPorts(),o=0;o<n.length;o++)_(n[o])}c={}})}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var S_=this,_=S_.jsPlumbToolkit.Renderers,I_=S_.jsPlumbToolkit,k_=S_.jsPlumbUtil,A_=S_.jsPlumb,T_=S_.Knockle,D_=_.atts={NODE:"data-jtk-node-id",PORT:"data-jtk-port-id",GROUP:"data-jtk-group-id"},M_=_.els={SOURCE:"JTK-SOURCE",PORT:"JTK-PORT",TARGET:"JTK-TARGET"},N_=I_.Classes,O_=I_.Events,F_=I_.Constants;I_.UIState=function(e,d,i){for(var _ in d){var n,o;d.hasOwnProperty(_)&&(n="*"===_?"e-state-"+e:"e-state-"+e+"-"+_,o="*"===_?"c-state-"+e:"c-state-"+e+"-"+_,i.registerEndpointType(n,d[_]),i.registerConnectionType(o,d[_]))}this.activate=function(_,w,t){_.eachEdge(function(_,n){var o=w.getRenderedConnection(n.getId()),i=t.getEdgeType(n.data),i=i?"c-state-"+e+"-"+i:null;i&&o.addType(i,n.data),d["*"]&&o.addType("c-state-"+e,n.data),$(n,o,n.source,0,"addType",t),$(n,o,n.target,1,"addType",t)}),_.eachNode(function(_,n){var o=t.getNodeType(n.data),o=o?d[o]:null,n=w.getRenderedNode(n.id);o&&o.cssClass&&i.addClass(n,o.cssClass),d["*"]&&i.addClass(n,d["*"].cssClass)})};var $=function(_,n,o,i,w,t){i=n.endpoints[i],o=t.getPortType(o.data);i[w]("e-state-"+e+"-"+o),i[w]("e-state-"+e)};this.deactivate=function(_,w,t){_.eachEdge(function(_,n){var o=w.getRenderedConnection(n.getId()),i=t.getEdgeType(n.data),i=i?"c-state-"+e+"-"+i:null;i&&o.removeType(i,n.data),d["*"]&&o.removeType("c-state-"+e),$(n,o,n.source,0,"removeType",t),$(n,o,n.target,1,"removeType",t)}),_.eachNode(function(_,n){var o=t.getNodeType(n.data),o=o?d[o]:null,n=w.getRenderedNode(n.id);o&&o.cssClass&&i.removeClass(n,o.cssClass),d["*"]&&i.removeClass(n,d["*"].cssClass)})}},_.mouseEvents=["click","dblclick","contextmenu","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover"],_.createElement=function(_,n){var o={width:_.width,height:_.height,position:_.position||F_.absolute},i={};_.display&&(o.display=_.display),_.id&&(i.id=_.id),_.top&&(o.top=_.top+"px"),_.left&&(o.left=_.left+"px"),_.right&&(o.right=_.right+"px"),_.bottom&&(o.bottom=_.bottom+"px");i=A_.createElement(_.type||F_.div,o,_.clazz,i);return null!=n&&A_.appendElement(i,n),i};function n(_){this._jsPlumb=this.getJsPlumb(),this._el=this._jsPlumb.getElement(_.container),this.getWidth=function(){return this._jsPlumb.getSize(this._el)[0]},this.getHeight=function(){return this._jsPlumb.getSize(this._el)[1]},this.append=function(_){_=_jsPlumb.getElement(_);this._jsPlumb.appendElement(_,this._el)},this.remove=function(_){_=this._jsPlumb.getElement(_);this._jsPlumb.removeElement(_)},this.setAbsolutePosition=A_.setAbsolutePosition,this.getOffset=function(_,n){return this._jsPlumb.getOffset(_,n)}}_.DOMElementAdapter=n;function o(_){this.getOffset=function(){return _.getOffset.apply(_,arguments)},this.append=function(){return _.append.apply(_,arguments)},this.setAbsolutePosition=function(){return _.setAbsolutePosition.apply(_,arguments)},this.floatElement=function(){return _.floatElement.apply(_,arguments)},this.fixElement=function(){return _.fixElement.apply(_,arguments)}}function L_(n,i){o.apply(this,[i]),this.getElements=n.getNodes,this.filter=function(_){return"Node"===_.objectType&&_.group==n},this.setElementPosition=function(_,n,o){return i.setAbsolutePosition(_,[n,o])}}function R_(t,n){o.apply(this,[t]),this.filter=function(_){return!!n||("Group"===_.objectType||"Node"===_.objectType&&null==_.group)},this.getElements=function(){var _=t.getNodes();return n||(_=_.filter(function(_,n){return null==_.group}),Array.prototype.push.apply(_,t.getGroups())),_},this.setElementPosition=function(_,n,o,i,w){return t.setPosition({el:_,x:n,y:o,doNotUpdateElement:!1,doNotUpdateLayout:!0,doRevalidate:!1,size:i,doNotFireEvent:w})}}function i($){function _(_,n){var o=A_.createElement("div",{border:"1px solid #456",position:"absolute"},N_.NODE);return o.innerHTML=_.name||_.id,o}$=$||{},this._viewportManager=new S_.jsPlumbToolkitViewport;var n='<div data-jtk-node-id="${id}" class="'+N_.NODE+'"></div>',g={rotors:{render:function(_,n){n=j.template(_,n);return 0<n.childNodes.length&&(n.childNodes[0]._jtkCommands=n.commands),n.childNodes[0]},cleanup:function(_,n){j.remove(n),n.parentNode&&n.parentNode.removeChild(n)}}},t=!0===$.debug,j=T_.newInstance({defaultTemplate:n,templateResolver:$.templateResolver,templates:$.templates}),m=this,v=$.toolkit,d=$.toolkitInstance,e=new I_.Layouts.EmptyLayout(new R_(m)),r=A_.getElement($.container),s=!(!1===$.elementsDraggable),a=!0===$.elementsDroppable,i=!1,o=!1!==$.refreshAutomatically,y=$.templateRenderer?k_.isString($.templateRenderer)?g[$.templateRenderer]:$.templateRenderer:g.rotors,b=!1!==$.enhancedView,w=$.assignPosse||function(){return null},l=$.modelLeftAttribute||"left",u=$.modelTopAttribute||"top",c=!1!==$.storePositionsInModel,h=$.objectFilter||function(){return!0},p=!0===$.ignoreGroups,P=!0===$.renderPortsAsynchronously;this.getModelPositionAttributes=function(){return[l,u]},this.getLabelLocationAttribute=function(_){return K.getEdgeDefinition(v.getEdgeType(_.data||{})).labelLocationAttribute||"labelLocation"};var n=k_.merge($.jsPlumb||{}),f=$.jsPlumbInstance||A_.getInstance(n,$.overrideFns),E=f.getId(r);f.bind("beforeDrop",function(_){var n=_.connection,o=n.endpoints[0].graph||n.source.jtk,i=n.endpoints[1].graph||n.target.jtk,n=o.port||o.node||o.group,o=i.port||i.node||i.group,i=_.connection.edge;return null==i?v.beforeConnect(n,o,_.connection.getData()):v.beforeMoveConnection(n,o,i)}),f.bind("beforeDrag",function(_){var n=_.endpoint.graph||_.source.jtk,o=n.port||n.node,i=_.endpoint.connectionType,w=v.beforeStartConnect(o,i);return t&&(n=K.getEdgeDefinition(i)||{},console.log("\n------------------------\nDrag started with edge type `"+i+"`, having definition :"),console.log(n),console.log("Edge source is a "+o.objectType+", having type ["+o.getType()+"], with definition :"),o=K["get"+o.objectType+"Definition"](o.getType())||{},console.log(o),console.log("Toolkit response to drag start :"),console.log(w),console.log("---------------------------\n")),!1===w&&_.endpoint.isTemporarySource&&_.endpoint._deleteOnDetach&&f.deleteEndpoint(_.endpoint),w}),f.bind("beforeDetach",function(_,n){var o=_.endpoints[0].graph||_.source.jtk,i=_.endpoints[1].graph||_.target.jtk,o=o.port||o.node,i=i.port||i.node,_=_.edge;return v.beforeDetach(o,i,_,n)}),f.bind("beforeStartDetach",function(_){var n=_.endpoint.graph||_.source.jtk,n=n.port||n.node,_=_.connection.edge;return v.beforeStartDetach(n,_)}),k_.EventGenerator.apply(this,arguments),$.activeFiltering&&new I_.UI.ActiveDragFilter(m,f,v),this.setDebug=function(_){t=_,console.log("-----------------------\nSurface debug switched "+(_?"on":"off")+" \n-------------------------\n")},this.getJsPlumb=function(){return f},this.getToolkit=function(){return d},this.getDataSource=function(){return v};var x=[O_.canvasClick,O_.canvasDblClick,O_.nodeAdded,O_.nodeDropped,O_.nodeRemoved,O_.nodeRendered,O_.groupAdded,O_.groupRemoved,O_.groupMoveEnd,O_.groupMemberAdded,O_.groupMemberRemoved,O_.groupCollapse,O_.groupExpand,O_.groupRelayout,O_.nodeMoveStart,O_.nodeMove,O_.nodeMoveEnd,O_.portAdded,O_.portRemoved,O_.edgeAdded,O_.edgeRemoved,O_.edgeTypeChanged,O_.nodeTypeChanged,O_.portTypeChanged,O_.dataLoadEnd,O_.anchorChanged,O_.objectRepainted,O_.modeChanged,O_.lassoEnd,O_.pan,O_.zoom,O_.relayout,O_.click,O_.tap,O_.stateRestored,O_.startOverlayAnimation,O_.endOverlayAnimation,O_.nodeVisibility,O_.afterLayoutRefresh,O_.rotate],C=m.bind,S=f.bind;if(this.setHoverSuspended=f.setHoverSuspended,this.isHoverSuspended=f.isHoverSuspended,this.setJsPlumbDefaults=function(_){delete _.Container,f.restoreDefaults(),f.importDefaults(_)},this.bind=function(_,n){(-1==x.indexOf(_)?S:C)(_,n)},$.events)for(var I in $.events)this.bind(I,$.events[I]);if($.interceptors)for(var k in $.interceptors)this.bind(k,$.interceptors[k]);var A=!1;function T(_){A=!0;try{_()}catch(_){jsPlumbUtil.log("An error occurred while ignoring Toolkit events",_)}finally{A=!1}}S(O_.connection,function(n){var o,_,i,w,t,e,d,$,j,r;null==n.connection.edge&&(n.sourceEndpoint.getParameter("nodeId")||n.sourceEndpoint.setParameter("nodeId",M[n.sourceEndpoint.elementId].id),n.targetEndpoint.getParameter("nodeId")||n.targetEndpoint.setParameter("nodeId",M[n.targetEndpoint.elementId].id),t=n.sourceEndpoint.getParameter("portType"),j=K.getPortDefinition(t),o=null!=j&&j.edgeType?j.edgeType:n.sourceEndpoint.getParameter("edgeType")||"default",_=n.sourceEndpoint.getParameter("nodeId"),i=n.sourceEndpoint.getParameter("portId"),w=n.targetEndpoint.getParameter("nodeId"),t=n.targetEndpoint.getParameter("portId"),e=_+(i?"."+i:""),d=w+(t?"."+t:""),$=v.getNode(e)||v.getGroup(e),j=v.getNode(d)||v.getGroup(d),!(r={sourceNodeId:_,sourcePortId:i,targetNodeId:w,targetPortId:t,type:o,source:$,target:j,sourceId:e,targetId:d,sourceType:$.objectType,targetType:j.objectType})===v.getEdgeFactory()(o,n.connection.getData()||{},function(_){_=k_.populate(_,$.data,null,!0),r.edge=v.addEdge({source:e,target:d,cost:n.connection.getCost(),directed:n.connection.isDirected(),data:_,addedByMouse:!0},m),G[r.edge.getId()]=n.connection,n.connection.edge=r.edge,U(o,r.edge,n.connection),r.addedByMouse=!0,r.connection=n.connection,m.fire(O_.edgeAdded,r)},r)&&f.deleteConnection(n.connection))}),S(O_.connectionMoved,function(_){var n=0===_.index?_.newSourceEndpoint:_.newTargetEndpoint,o=n.graph||n.element.jtk;T(function(){v.edgeMoved(_.connection.edge,o.port||o.node||o.group,_.index)})}),S(O_.connectionDetached,function(_){T(function(){v.removeEdge(_.connection.edge)});var n=_.sourceEndpoint.getParameters(),o=_.targetEndpoint.getParameters(),i=n.nodeId+(n.portId?"."+n.portId:""),w=o.nodeId+(o.portId?"."+o.portId:"");m.fire(O_.edgeRemoved,{sourceNodeId:n.nodeId,targetNodeId:o.nodeId,sourcePortId:n.portId,targetPortId:o.portId,sourceId:i,targetId:w,source:v.getNode(i),target:v.getNode(w),edge:_.connection.edge})}),S(O_.connectionEdit,function(_){v.setEdgeGeometry(_.connection.edge,_.geometry)}),S(O_.groupDragStop,function(_){m.getLayout().setPosition(_.group.id,_.pos[0],_.pos[1],!0),_.uigroup=_.group,m.fire(O_.groupMoveEnd,A_.extend(_,{group:v.getGroup(_.uigroup.id)}))}),S(O_.groupMemberAdded,function(_){var n,o;!i&&_.el.jtk&&_.el.jtk.node&&(n=null==_.sourceGroup?null:v.getGroup(_.sourceGroup.id),(o=v.addToGroup(_.el.jtk.node,_.group.id,n,_.pos))&&(_.el._droppedOnGroup=!0,m.fire(O_.groupMemberAdded,{node:_.el.jtk.node,group:o,uigroup:_.group,sourceGroup:n})))}),S(O_.groupMemberRemoved,function(_){var n;!i&&_.el.jtk&&_.el.jtk.node&&(n=null==_.targetGroup?null:v.getGroup(_.targetGroup.id),v.removeFromGroup(_.el.jtk.node,!1,n))}),S(O_.groupCollapse,function(_){var n=v.getGroup(_.group.id);n&&m.fire(O_.groupCollapse,{group:n,uigroup:_.group})}),S(O_.groupExpand,function(_){var n=v.getGroup(_.group.id);n&&m.fire(O_.groupExpand,{group:n,uigroup:_.group})});var D={},M={},N={},O={},F=[],L={},R=[];this.getNodeCount=function(){return R.length},this.getNodeAt=function(_){return R[_]},this.getNodes=function(){return R},this.getNode=function(_){return D[_]},this.getGroupCount=function(){return F.length},this.getGroupAt=function(_){return F[_]},this.getGroups=function(){return F};var G={},z=function(_){return G[_.getId()]},U=function(_,n,o){if(!o.getParameter("edge")){var i=K.getEdgeDefinition(_);if(i&&i.events)for(var t in i.events)!function(o,i,w){w.bind(t,function(_,n){o.apply(o,[{edge:i,e:n,connection:w,toolkit:v,renderer:m}])})}(i.events[t],n,o)}};function B(_,n){i?H.push([_,n]):null!=(n=w(n))&&((n=k_.isArray(n)?n:[n]).unshift(_),f.addToPosse.apply(f,n))}function V(){for(var _=0;_<H.length;_++)B.apply(this,H[_])}this.setSuspendRendering=function(_,n){i=_,f.setSuspendDrawing(_),n&&this.refresh()},this.batch=function(_){this.setSuspendEvents(!0),v.batch(_),this.setSuspendEvents(!1)};var H=[];function W(_,n){var o=f.getGroup(_.id),i=o.getDragArea(),w=_.layout.getExtents(),n=n.maxSize||[w[2],w[3]];i.style.width=Math.min(n[0],w[2])+"px",i.style.height=Math.min(n[1],w[3])+"px",m.setSize&&(o=f.getSize(o.getEl()),m.setSize(_.id,o[0],o[1]))}this.expandGroup=function(_){f.expandGroup("string"==typeof _?_:_.id)},this.collapseGroup=function(_){f.collapseGroup("string"==typeof _?_:_.id)},this.toggleGroup=function(_){f.toggleGroup("string"==typeof _?_:_.id)},m.autoSizeGroups=function(_){for(var n in O){var o,i=v.getGroup(n);!i||((o=K.getGroupDefinition(v.getNodeType(i.data))).autoSize||_)&&W(i,o)}},m.sizeGroupToFit=function(_,n){var o;!_||((o=K.getGroupDefinition(v.getNodeType(_.data))).autoSize||n)&&W(_,o)};var X=[],Y={};function Z(o,i,_){_?(X.push({event:o,fn:i}),v.bind(o,i,!0)):(_=function(){i.apply(m,arguments);for(var _=Y[o]||[],n=0;n<_.length;n++)_[n].apply(m,arguments)},X.push({event:o,fn:_}),v.bind(o,_,!0))}function q(_,n){var o,i,w=D[_.id];if(null==w){if(!0===K.getNodeDefinition(v.getNodeType(_.data)).ignore)return!1;if(!(w=$_(_,_.data,_)))throw new Error("Cannot render node");var t=f.getId(w);D[_.id]=w,M[t]=_,R.push(_),w.jtk={node:_},null==_.group||p?m.append(w,t,n?n.position:null):(o=w,e=(i=_).group,(t=O[e.id])&&((t.querySelector("[jtk-group-content]")||t).appendChild(o),f.addToGroup(e.id,o,!0),e.layout.nodeAdded({node:i,el:o}),m.nodeAppendedToGroup(o,t,e))),B(w,_),m_(w,_);var e={node:_,el:w,id:_.id};null!=_.group&&!p||m.getLayout().nodeAdded(e,n),m.fire(O_.nodeAdded,e)}return w}function J(_,n){if(!p){var o=O[_.id];if(null==o){var i=K.getGroupDefinition(v.getNodeType(_.data));if(!0===i.ignore)return!1;if(!0===i.ghost&&(i.ghostProxyParent=r),!(o=r_(_,_.data,_)))throw new Error("Cannot render Group");var w=f.getId(o);O[_.id]=o,F.push(_),L[w]=_,o.jtk={group:_},m.append(o,w,n?n.position:null),B(o,_),m_(o,_);var w={group:_,el:o},t={el:o,id:_.id};A_.extend(t,{dragOptions:$.dragOptions||{}}),t.dragOptions[A_.dragEvents[F_.stop]]=k_.wrap(t.dragOptions[A_.dragEvents[F_.stop]],function(_){_.el.jtk&&_.el.jtk.group&&(t.dragOptions.magnetize?_.pos=m.getLayout().setMagnetizedPosition(_.el.jtk.group.id,_.pos[0],_.pos[1],!0):m.getLayout().setPosition(_.el.jtk.group.id,_.pos[0],_.pos[1],!0),!1!==c&&(m.storePositionInModel({id:_.el.jtk.group.id,group:!0,leftAttribute:l,topAttribute:u}),v.fire(O_.groupUpdated,{group:_.el.jtk.group},null)),m.fire(O_.groupMoveEnd,{el:_.el,group:_.el.jtk.group,pos:_.pos,e:_.e,eventPosition:_.pos}))}),f.addGroup(A_.extend(t,i));i=i.layout||{type:"Absolute"};_.layout=s_(i,_),m.getLayout().groupAdded({group:_,el:o,id:_.id},n),m.fire(O_.groupAdded,w)}return o}}var K,Q={dataLoadStart:n=function(){H.length=0,f.setSuspendDrawing(!0),this.setSuspendRendering(!0)}.bind(this),dataAppendStart:n,dataLoadEnd:function(){m.setSuspendRendering(!1),V(),f.getGroupManager().refreshAllGroups(),m.relayout(),f.setSuspendDrawing(!1,!0),e&&m.fire(O_.dataLoadEnd)},dataAppendEnd:function(){m.setSuspendRendering(!1),V(),m.refresh(),f.setSuspendDrawing(!1,!0),e&&m.fire(O_.dataAppendEnd)},nodeAdded:function(_){var n=_.node;if(h(n)){_=q(n,_.eventInfo);if(null!=_){for(var o=f.getSelector(_,"[data-port-id]"),i=0;i<o.length;i++){var w=o[i].getAttribute("data-port-id");N[n.id+"."+w]=o[i],o[i].jtk=o[i].jtk||{node:n,port:n.getPort(w)}}m.refresh(!0)}}},nodeRemoved:function(_){(_.node.group?_.node.group.layout:m.getLayout()).nodeRemoved({node:_.node});var n=D[_.nodeId];m.fire(O_.nodeRemoved,{node:_.node,el:n});var o=f.getId(n);f.removeAllEndpoints(n,!0),y.cleanup(_.node,n),delete D[_.nodeId],delete l_[_.nodeId],delete u_[_.nodeId],delete M[o],_=_.node,-1!==(_=R.indexOf(_))&&R.splice(_,1),delete n.jtk,m.refresh(!0)},"group:addMember":function(_){var n=D[_.node.id];n&&(_.pos&&(null!=_.node.data[l]&&(_.node.data[l]=_.pos.left),null!=_.node.data[u]&&(_.node.data[u]=_.pos.top)),m.fire(O_.groupMemberAdded,A_.extend(_,{el:n,groupEl:O[_.group.id]})),m.getJsPlumb().addToGroup(_.group.id,n,!0),e.nodeRemoved(_),_.sourceGroup&&_.sourceGroup.layout.nodeRemoved(_),_.group.layout.nodeAdded({node:_.node,el:n,pos:_.pos}),m.relayoutGroup(_.group))},"group:removeMember":function(_){var n=D[_.node.id];n&&(m.fire(O_.groupMemberRemoved,A_.extend(_,{el:n,groupEl:O[_.group.id]})),m.getJsPlumb().removeFromGroup(_.group.id,n,!0),_.group.layout.nodeRemoved(_),m.getJsPlumb().getContainer().appendChild(n),_.targetGroup?_.targetGroup.layout.nodeAdded({node:_.node}):(e.nodeAdded({node:_.node,el:n}),n=m.getJsPlumb().getOffset(n),m.getLayout().setPosition(_.node.id,n.left,n.top),c&&m.storePositionInModel(_.node.id)),m.relayoutGroup(_.group))},groupAdded:function(_){var n=_.group;h(n)&&null!=J(n,_.eventInfo)&&m.refresh(!0)},groupRemoved:function(n){var _=n.group;m.getLayout().groupRemoved({group:_});var o=O[_.id],i=f.getId(o),w=f.removeGroup(_.id,n.removeChildNodes,!0,!0),t=null;if(null!=w)for(var e in t={},w){var d=M[e];null!=d&&(v_({node:d,x:w[e].left,y:w[e].top,doNotUpdateElement:!0}),t[d.id]=[w[e].left,w[e].top])}y.cleanup(n.group,o),m.fire(O_.groupRemoved,{group:_,el:o,nodes:n.nodes,nodesRemoved:n.removeChildNodes,nodePositions:t}),F=F.filter(function(_){return _.id!==n.group.id}),delete O[_.id],delete L[i],delete o.jtk},edgeAdded:function(_){var n,o,w;A||_.source===m||(n=_.edge,h(n.source)&&h(n.target)&&(p&&(n.source.objectType===F_.groupType||n.target.objectType===F_.groupType)||(o=K.getEdgeDefinition(v.getEdgeType(n.data||{})))&&!0===o.ignore||(w=n,_=function(){var _=i_(w);_.doNotFireConnectionEvent=!0,v.isDebugEnabled()&&console.log("Renderer","adding edge with params",_);var n,o,i=f.connect(_);return null!=i?(n=i.getConnector(),o=!1,_.geometry&&n.importGeometry&&n.importGeometry(_.geometry,i)&&(i.repaint(),o=!0),i.edge=w,G[w.getId()]=i,U(_.type,w,i),m.fire(O_.edgeAdded,{source:w.source,target:w.target,connection:i,edge:w,geometry:o?w.geometry:null}),$.refreshLayoutOnEdgeConnect&&m.refresh(!0),_=w.source.getNode?w.source.getNode():w.source,o=D[_.id]||O[_.id],_=w.target.getNode?w.target.getNode():w.target,!1!==(D[_.id]||O[_.id])._jtkVisible&&!1!==o._jtkVisible||b_(w,!1)):(console.log("jsPlumb: WARN : An edge could not be rendered "+w+" and is being removed from the dataset."),v.removeEdge(w)),i},$.connectionHandler?$.connectionHandler(n,_,m):(o=_(),!n.geometry||(_=o.getConnector()).importGeometry&&_.importGeometry(n.geometry,o)))))},edgeRemoved:function(_){var n,o;A||_.source===m||(n=_.edge,(o=G[n.getId()])&&(v.isDebugEnabled()&&console.log("Renderer","removing edge",n),_=n,m.fire(O_.edgeRemoved,{sourceNodeId:_.source.getNode?_.source.getNode().getId:_.source.getFullId(),targetNodeId:_.target.getNode?_.target.getNode().getId:_.target.getFullId(),sourcePortId:"Port"===_.source.objectType?_.source.id:null,targetPortId:"Port"===_.target.objectType?_.target.id:null,sourceId:_.source.getFullId(),targetId:_.target.getFullId(),source:_.source,target:_.target,edge:_}),delete G[n.getId()],null!=o._jsPlumb&&f.deleteConnection(o,{fireEvent:!1})))},edgeTypeChanged:function(_){var n,o,i;A||_.source===m||(n=_.obj,(o=G[n.getId()])&&((i=K.getEdgeDefinition(_.newType))&&!0===i.ignore||((i.endpoint||i.endpoints)&&(o.replaceEndpoint(0,i.endpoints?i.endpoints[0]:i.endpoint),o.replaceEndpoint(1,i.endpoints?i.endpoints[1]:i.endpoint)),i.connector&&o.setConnector(i.connector),o.setType(_.newType,n.data))))},edgeTarget:function(_){var n,o,i;A||(n=_.edge,o=G[n.getId()],_=n.target.getFullId(),i=D[_]||O[_]||N[_]||a_[_],o?f.silently(function(){null!=i&&(v.isDebugEnabled()&&console.log("target change",o),f.setTarget(o,i))}):null!=i&&v.isDebugEnabled()&&k_.log("Target for Edge "+n.getId()+" changed to Node "+i.id+"; we have no valid connection."))},edgeSource:function(_){var n,o,i;A||(n=_.edge,o=G[n.getId()],_=n.source.getFullId(),i=D[_]||O[_]||N[_]||a_[_],o?f.silently(function(){null!=i&&f.setSource(o,i)}):null!=i&&v.isDebugEnabled()&&k_.log("Source for Edge "+n.getId()+" changed to Node "+i.id+"; we have no valid connection."))},graphClearStart:function(){for(var _ in f.reset(!0),O)y.cleanup(_,O[_]);for(var n in D)y.cleanup(n,D[n]);e&&e.clear(),R.length=0,F.length=0,G={},D={},O={},M={},L={},N={},a_={},m.getZoom&&f.setZoom(m.getZoom())},portAdded:function(_){var n,o=D[_.node.id]||O[_.node.id];K.getPortDefinition(v.getPortType(_.data)).isEndpoint?f_(new p_(_.data,o,_.port),_.node):(n=N[_.port.getFullId()])?d_(n,_.port,o,_.node):(n=j_(_.port,_.data,_.node),P||(null!=n?d_(n=f.getElement(n),_.port,o,_.node):jsPlumbUtil.log("no element rendered for port",_.port,_.data))),f.recalculateOffsets(o),m.refresh(!0)},portRemoved:function(i){var _=D[i.node.id]||O[i.node.id],n=i.node.id+"."+i.port.id,o=N[n];null!=o&&(f.setSuspendEvents(!0),f.remove(o),f.setSuspendEvents(!1),delete N[n],delete a_[n],(n=function(_){var n,o;f[_]&&(n=f[_][i.port.id],o=i.port.getNode(),null!=n&&(f[_][i.port.id]=n.filter(function(_){return _[1]!==o})))})("_sourceDefsByPortId"),n("_targetDefsByPortId"),m.fire(O_.portRemoved,{node:i.node,port:i.port,portEl:o,nodeEl:_}),f.recalculateOffsets(_),m.refresh(!0))},edgeUpdated:function(_){var n=G[_.edge.getId()];n&&(_=i_(_.edge),n.setType(["default",_.type].join(" "),_.data))},portUpdated:function(e){var d,_=N[e.originalId];_&&(_._rotors&&_._rotors.instance===j&&j.update(_,e.port.data),m.repaint(D[e.node.id]),(_=e.port.getFullId())!==e.originalId&&(N[_]=N[e.originalId],delete N[e.originalId],e.originalPortId&&(d=e.port.getNode(),(_=function(_,n){var o=f[_];if(o=o&&o[e.originalPortId])for(var i=0;i<o.length;i++)if(o[i][1]===d){var w=f[n][o[i][0]];if(w)for(var t in w)w[t].def.portId===e.originalPortId&&(w[t].def.portId=e.port.id,w[t].def.parameters.portId=e.port.id)}})("_sourceDefsByPortId","sourceEndpointDefinitions"),_("_targetDefsByPortId","targetEndpointDefinitions"))))},nodeUpdated:function(_){var n=D[_.node.getFullId()];if(n){if(n._rotors&&n._rotors.instance===j)for(var o=j.update(n,_.node.data),i=0;i<o.removed.length;i++)f.remove(o.removed[i].el,!0);_.reason!==F_.nodeUpdatedPortRemoved&&(m_(n,_.node),null!=(_=w(_.node))?((_=k_.isArray(_)?_:[_]).unshift(n),f.setPosse.apply(f,_)):f.removeFromAllPosses(n)),m.repaint(n)}},groupUpdated:function(_){var n=O[_.group.getFullId()];if(n){if(n._rotors&&n._rotors.instance===j)for(var o=j.update(n,_.group.data),i=0;i<o.removed.length;i++)f.remove(o.removed[i].el,!0);_.reason!==F_.nodeUpdatedPortRemoved&&(m_(n,_.group),null!=(_=w(_.group))?((_=k_.isArray(_)?_:[_]).unshift(n),f.setPosse.apply(f,_)):f.removeFromAllPosses(n)),m.repaint(n)}}};if(!1!==this.bindToolkitEvents)for(var __ in Q)Z(__,Q[__]);function n_(_){return null==_?v:"string"==typeof _?v.select(_,!0):_.jtk?v.select(_.jtk.port||_.jtk.node,!0):_}this.setView=function(_){_=k_.merge(v.getModel(),_||{});K=new I_.Model(_,f)},this.setView($.view),this.getView=function(){return K};var o_=[];this.activateState=function(_,n){_=K.getState(_);_&&(n=n_(n),_.activate(n,m,v),o_.push(_))},this.deactivateState=function(_,n){var o=K.getState(_);o&&(n=n_(n),o.deactivate(n,m,v),k_.removeWithFunction(o_,function(_){return _===o}))},this.resetState=function(){for(var _=0;_<o_.length;_++)o_[_].deactivate(v,m,v);o_.length=0};var i_=function(t){var _=v.getEdgeType(t.data),e={type:_,connectionType:_,data:t.data,cost:t.getCost(),directed:t.isDirected(),geometry:t.geometry},o=K.getEdgeDefinition(_);!function(_){if(o)for(var n=0;n<_.length;n++)o[_[n]]&&(e[_[n]]=o[_[n]])}(["connector","endpoints","endpoint","endpointStyles","endpointStyle"]),e.anchor&&!e.anchors&&(e.anchors=[e.anchor,e.anchor],delete e.anchor),e.endpoint&&!e.endpoints&&(e.endpoints=[e.endpoint,e.endpoint],delete e.endpoint);function d(_,n,o,i,w){var t;i&&i[o]&&((t=_[n]||[i[o],i[o]])[w]=i[o],_[n]=t)}_=function(_,n){var o,i,w;t[_].getNode?(i=t[_].getNode(),o=t[_].getFullId(),w=a_[o]||N[o],e[_]=null!=w?w:N[o],null==e[_]&&(e[_]=D[v.getNodeId(i.data)]),i=K.getPortDefinition(t[_].getType()),d(e,"anchors","anchor",i,n),d(e,"endpoints","endpoint",i,n)):(i=v.getNodeId(t[_].data),w=(0===n?l_:u_)[i],e[_]=null==w?D[i]||O[i]:w)};return _("source",0),_("target",1),e},w_={};this.asynchronousPortRendered=function(_,n,o){var i=v.getPortId(o),w=w_[i],t=n.getPort(i);if(!w)return m_(_,n),t;try{return _=e_(w.object,_,i,w.objectType,w.def,w.node,w.jtkClass,w.jtkAttributeName,w.makeDraggable),N[n.id+v.getGraph().getPortSeparator()+i]=_,d_(_,t,O[n.id]||D[n.id],n),function(){for(var _=[],n=0;n<t_.length;n++){var o=m.getRenderedElement(t_[n][0].target),i=m.getRenderedElement(t_[n][0].source);o&&i?t_[n][1]():_.push(t_[n])}t_=_}(),t}catch(_){return jsPlumbUtil.log("Cannot finish asynchronous render of port",_),null}finally{delete w_[i]}};var t_=[];function e_(_,o,n,i,w,t,e,d,$){o.setAttribute(d,n),A_.addClass(o,e),o.jtk=o.jtk||{},o.jtk[i]=_,o.jtk.node=t;_=f.getId(o);f.manage(_,o),null!=t.data.rotation&&f.rotate(_,t.data.rotation),$&&s&&C_.makeDraggable&&C_.makeDraggable(o,w.dragOptions),a&&C_.makeDroppable&&C_.makeDroppable(o,w.dropOptions);if(w&&w.events)for(var j in w.events)!function(n){f.on(o,n,function(_){_={el:o,e:_,toolkit:v,renderer:m};_["Node"===t.objectType?"node":"group"]=t,w.events[n](_)})}(j);return o}function d_(_,n,o,i){N[i.id+v.getGraph().getPortSeparator()+n.id]=_,m_(_,i),m.fire(O_.portAdded,{node:i,nodeEl:o,port:n,portEl:_})}this.addUnrenderedEdge=function(_,n){t_.push([_,n])};var $_=(n=function(s,a,l,u,c,h,p,f){return function(_,n,o){var i,w=a(n),t=null,e=l(n),d=K[u](e),$=n;if(b){$=A_.extend({},d&&d.parameters||{}),A_.extend($,n);var j={};for(i in $)$.hasOwnProperty(i)&&null!=$[i]&&($[i].constructor==Function?j[i]=$[i](n):j[i]=$[i]);$=j}if(!P||"port"!==s){if(d){var r=d.template||"jtk-template-"+e;if(null==(t=d.templateRenderer?d.templateRenderer(r,$,v,s,m,d,o):y.render(r,$,v,s,m,d,o))){try{t=g.rotors.render(r,$,v,s,m,d,o)}catch(_){}null==t&&(t=c($,w))}}else t=c($,w);return t=e_(_,t,w,s,d,o,p,f,h)}w_[w]={id:w,data:$,objectType:s,def:d,jtkClass:p,jtkAttributeName:f,makeDraggable:h,node:o,object:_}}})("node",v.getNodeId,v.getNodeType,"getNodeDefinition",_,!0,N_.NODE,D_.NODE),j_=n("port",v.getPortId,v.getPortType,"getPortDefinition",_,!1,N_.PORT,D_.PORT),r_=n("group",v.getNodeId,v.getNodeType,"getGroupDefinition",_,!0,N_.GROUP,D_.GROUP);this.initialize=function(){var _,n,t,o;if(v.setSuspendGraph(!0),f.setSuspendDrawing(!0),$.jsPlumbInstance){for(o in $.jsPlumbInstance.select().each(function(_){G[_.edge.getId()]=_}),_=$.jsPlumbInstance.getManagedElements()){var i=_[o].el;D[i.jtk.node.id]=i,M[$.jsPlumbInstance.getId(i)]=i.jtk.node,R.push(i.jtk.node);i={node:i.jtk.node,el:i,id:i.jtk.node.id};null!=_.group&&!p||m.getLayout().nodeAdded(i),m.fire(O_.nodeAdded,i)}C_.doImport&&C_.doImport(D,G)}else{for(e=0,d=v.getGroupCount();e<d;e++)n=v.getGroupAt(e),h(n)&&J(n);for(e=0,d=v.getNodeCount();e<d;e++)_=v.getNodeAt(e),h(_)&&q(_);for(var w=function(_){var n,o,i,w=v.getAllEdgesFor(_);for(t=0;t<w.length;t++)(w[t].source===_||w[t].source.getNode&&w[t].source.getNode()===_)&&((i=K.getEdgeDefinition(v.getNodeType(w[t].data)))&&!0===i.ignore||null!=(n=i_(w[t])).source&&null!=n.target&&(n.doNotFireConnectionEvent=!0,null!=(o=f.connect(n))&&(i=o.getConnector(),n.geometry&&i.importGeometry&&i.importGeometry(n.geometry,o),o.edge=w[t],G[w[t].getId()]=o,U(n.type,w[t],o))))},e=0,d=v.getNodeCount();e<d;e++)_=v.getNodeAt(e),D[_.id]&&w(_);for(e=0,d=v.getGroupCount();e<d;e++)_=v.getGroupAt(e),O[_.id]&&w(_)}this.relayout(),f.setSuspendDrawing(!1,!0),v.setSuspendGraph(!1)},this.getContainer=function(){return r},this.getContainerId=function(){return E},this.getRenderedElement=function(_){if(null==_)return null;var n=_.getFullId();return(_.objectType===F_.portType?N:_.objectType===F_.groupType?O:D)[n]},this.getRenderedNode=function(_){return D[_]},this.getRenderedGroup=function(_){return O[_]},this.getRenderedPort=function(_){return N[_]},this.getRenderedConnection=function(_){return G[_]},this.getRenderedEndpoint=function(_){var n=E_(_),_=null;return _=n&&n.obj&&"Port"===n.obj.objectType?a_[n.obj.getFullId()]:_},this.getViewportPosition=function(_){_=D[_.id]||O[_.id],_=f.getId(_);return m._viewportManager.getPosition(_)};var s_=function(_,n){var o=m._getGroupDragArea?m._getGroupDragArea(n):O[n.id],_=f.extend({container:o,getElementForNode:function(_){return D[_]},negativeValuesAllowed:!1},_);if(!I_.Layouts[_.type])throw"no such layout ["+_.type+"]";return _.jsPlumbToolkit=v,_.adapter=new L_(n,m),_.renderer=m,_.locationFunction||(_.locationFunction=function(_){return[T_.data(_.data,l),T_.data(_.data,u)]}),new I_.Layouts[_.type](_)};this.adHocLayout=function(_){var n;_&&(n=e,this.setLayout(_),e=n)},this.setLayout=function(_,n){_&&(_=A_.extend({jsPlumb:this.getJsPlumb(),viewport:this._viewportManager},_),e=function(_){_=f.extend({container:r,getElementForNode:function(_){return D[_]||O[_]}},_);if(_.jsPlumbToolkit=v,_.adapter=new R_(m,p),_.renderer=m,!I_.Layouts[_.type])throw"no such layout ["+_.type+"]";return _.locationFunction||(_.locationFunction=function(_){return[T_.data(_.data,l),T_.data(_.data,u)]}),new I_.Layouts[_.type](_)}(_),n||m.refresh())},this.getLayout=function(){return e},this.getMagnetizedElements=function(){return null!=e?e.getMagnetizedElements():[]},this.magnetize=function(_){null!=e&&e.magnetize(_)},this.rotate=function(_,n){var o=E_(_);if(o.el){o.obj.data.rotation=n;for(var _=f.getId(o.el),i=f.rotate(_,n),w=0;w<i.c.length;w++){var t=i.c[w].edge,e=i.c[w].connector;e&&e.geometry&&e.exportGeometry&&d.setEdgeGeometry(t,e.exportGeometry())}this._viewportManager.rotateElement(_,n),this.fire("rotate",o.obj,n)}},this.refresh=function(_){i||_&&!o||(e?e.layout(function(){this.fire(O_.afterLayoutRefresh,{bounds:this.getBoundsInfo(),positions:e.getPositions(),sizes:e.getSizes()}),"undefined"!=typeof window?window.setTimeout(f.repaintEverything,0):f.repaintEverything()}.bind(this)):f.repaintEverything())},this.setRefreshAutomatically=function(_){o=_},this.reload=function(){jsPlumbUtil.log("JSPLUMB: `reload` method not implement unless you're rendering a Selection")},this.relayout=function(_){i||(e?e.relayout(_,function(){m.relayoutGroups(),f.repaintEverything(),this.fire(O_.relayout,{bounds:this.getBoundsInfo(),positions:e.getPositions(),sizes:e.getSizes()})}.bind(this)):f.repaintEverything())},this.relayoutGroups=function(){v.eachGroup(function(_,n){h(n)&&m.relayoutGroup(n)})},this.relayoutGroup=function(_){if(!_.layout){var n=E_(_);if(!n.obj||!n.obj.layout)return;_=n.obj}_.layout.relayout(),m.sizeGroupToFit(_,!0),f.revalidate(O[_.id]),m.fire(O_.groupRelayout,_,O[_.id])},this.getPath=function(_){var n=v.getPath(_);return n&&(n.setVisible=function(_){m.setVisible(n,_)},n.addNodeClass=function(o){n.eachNode(function(_,n){f.addClass(D[n.id],o)})},n.removeNodeClass=function(o){n.eachNode(function(_,n){f.removeClass(D[n.id],o)})},n.addEdgeClass=function(o){n.eachEdge(function(_,n){G[n.getId()].addClass(o)})},n.removeEdgeClass=function(o){n.eachEdge(function(_,n){G[n.getId()].removeClass(o)})},n.addClass=function(_){this.addNodeClass(_),this.addEdgeClass(_)},n.removeClass=function(_){this.removeNodeClass(_),this.removeEdgeClass(_)}),n},this.getPosition=function(_){var n=this.getLayout();if(n){_=E_(_).id;return n.getPosition(_)}},this.getSize=function(_){return f.getSize(E_(_).el)},this.getCoordinates=function(_){var n=this.getLayout();if(n){var o=E_(_);if(o.obj){_=f.getSize(o.el),o=(o.obj.group?o.obj.group.layout:n).getPosition(o.id);return{x:o[0],y:o[1],w:_[0],h:_[1]}}return{x:0,y:0,w:0,h:0}}};var a_={},l_={},u_={};this.ingestEndpoint=function(_,n){(a_[_.getFullId()]=n).graph={node:_.getNode(),port:_}};var c_=function(_,i,n){var o,w=_.value("port-id"),t=_.value("port-type")||"default",e=_.value("scope")||f.getDefaultScope(),d=i.getPorts(),$=jsPlumbUtil.findWithFunction(d,function(_){return _.id===w}),j=-1===$?null:d[$],r=v.getNodeType(i),d=K.getNodeDefinition(r),$=K.getPortDefinition(w,d),r=K.getPortDefinition(t,d),s=k_.merge(r,$),a=null==s?{}:null!=j?k_.populate(s,j.data,null,!0):k_.populate(s,i.data,null,!0),d=a.edgeType||_.value("edge-type")||"default",l={paintStyle:"connectorStyle",hoverPaintStyle:"connectorHoverStyle",overlays:"connectorOverlays",endpointStyle:"paintStyle"},u=K.getEdgeDefinition(d);if(u)for(var c in u)"label"===c||null==a[o=l[c]||c]&&(a[o]=u[c]);if(a.connectionType=d,a.portId=w,a.portType=t,a.scope=e,a.parameters=a.parameters||{},a.parameters.portId=w,a.parameters.portType=t,a.parameters.edgeType=d,a.parameters.scope=e,a.parameters.nodeId=i.id,a.events={},s.events)for(c in s.events)a.events[c]=function(o){return function(_){var n=i.getPort(w),_=[{portId:w,nodeId:i.id,port:n,node:i,portType:t,endpoint:_.endpoint,anchor:_.anchor}];o.apply(o,_)}}(s.events[c]);if(s.interceptors)for(c in s.interceptors)a[c]=function(n){return function(_){_=[{connection:_.connection||_,source:E_(_.source),target:E_(_.target),scope:_.scope}];return n.apply(n,_)}}(s.interceptors[c]);r=_.value("anchor-x"),$=_.value("anchor-y"),j=_.value("orientation-x"),d=_.value("orientation-y"),e=_.value("offset-x"),_=_.value("offset-y");return null!=r&&null!=$&&(a.anchor=[parseFloat(r),parseFloat($),parseInt(j||"0",10),parseInt(d||"0",10),parseFloat(e||"0"),parseFloat(_||"0")]),A_.extend(a,n||{}),a.events.anchorChanged=function(_){m.fire("anchorChanged",{portId:w,nodeId:i.id,portType:t,node:i,port:i.getPort(w),endpoint:_.endpoint,anchor:_.anchor})},a},h_=function(i){this.element=i.parentNode,this.value=function(_,n){_=i.getAttribute(_);return null==_?n:_},this.setValue=function(_,n){i.setAttribute(_,n)},this.findDataValues=function(_){for(var n=0;n<i.attributes.length;n++){var o=i.attributes[n];0===o.name.indexOf("data-")&&(_[o.value]=o.name.split("-")[1])}}},p_=function(o,i,_){this.element=i,this.port=_,this.value=function(_,n){_=o[_.replace(/(\-\w)/g,function(_){return _[1].toUpperCase()})];return null==_?n:_},this.findDataValues=function(_){for(var n in o)0===n.indexOf("data-")&&(_[o[n]]=n.split("-")[1])},this.setValue=function(_,n){i.setAttribute(_,n)}};function f_(_,n,o){var i;null==_.value("jtk-processed")&&(_.setValue("jtk-processed",!0),i=c_(_,n,o),"true"===_.value("is-source")&&(i.isSource=!0),"true"===_.value("is-target")&&(i.isTarget=!0),o=f.addEndpoint(_.element,i),a_[n.id+"."+i.portId]=o,i=_.port||n.addPort({id:i.portId}),o.graph={port:i},o.graph["Node"===n.objectType?"node":"group"]=n,j.onUpdate(_.element,function(){}))}function g_(_,n){if(n.events)for(var o in n.events)f.on(_,o,n.events[o])}var m_=function(_,n){for(var o=A_.getSelector(_,M_.PORT),i=A_.getSelector(_,M_.SOURCE),w=A_.getSelector(_,M_.TARGET),t=0;t<i.length;t++)!function(_,o,n){var i,w,t,e;null==_.value("jtk-processed")&&(_.setValue("jtk-processed",!0),(i=c_(_,o,n)).rank="Node"===o.objectType?10:0,null!=i.portId&&(N[o.id+"."+i.portId]=_.element,_.element.jtk=_.element.jtk||{},_.element.jtk.port=v.addPort(o,{id:i.portId,type:i.portType||"default"},!0),g_(_.element,i)),(w=_.value("filter"))&&(n="true"===_.value("filter-exclude"),i.filter=w,i.filterExclude=n),"true"===_.value("is-source")&&(i.isSource=!0),delete i.uniqueEndpoint,delete i.createEndpoint,i.extract={},_.findDataValues(i.extract),"true"===_.value("endpoint")?(null==i.maxConnections&&(i.maxConnections=-1),i.isSource=!0,(e=f.addEndpoint(_.element,i)).graph={},e.graph["Node"===o.objectType?"node":"group"]=o,null==i.portId?l_[o.id]=e:a_[o.id+"."+i.portId]=e,j.onUpdate(_.element,function(){})):(e=_.element._katavorioDrop?_.element._katavorioDrop.length:0,f.makeSource(_.element,i),null!=i.portId&&(f._sourceDefsByPortId=f._sourceDefsByPortId||{},f._sourceDefsByPortId[i.portId]=f._sourceDefsByPortId[i.portId]||[],f._sourceDefsByPortId[i.portId].push([f.getId(_.element),o])),e<(_.element._katavorioDrop?_.element._katavorioDrop.length:0)&&(t=_.element._katavorioDrop[_.element._katavorioDrop.length-1]),j.onUpdate(_.element,function(_){var n=A_.getSelector(_,"jtk-source");1!==n.length||(n=c_(new h_(n[0]),o,null)).scope&&(f.setSourceScope(_,n.scope,n.edgeType),t&&t.k.setDropScope(t,n.scope))})))}(new h_(i[t]),n);for(t=0;t<w.length;t++)!function(_,n,o){var i,w;null==_.value("jtk-processed")&&(_.setValue("jtk-processed",!0),(i=c_(_,n,o)).rank="Node"===n.objectType?10:0,null!=i.portId&&(N[n.id+"."+i.portId]=_.element,_.element.jtk=_.element.jtk||{},_.element.jtk.port=v.addPort(n,{id:i.portId,type:i.portType||"default"},!0),g_(_.element,i)),"true"===_.value("is-target")&&(i.isTarget=!0),delete i.uniqueEndpoint,delete i.createEndpoint,"true"===_.value("endpoint")?(null==i.maxConnections&&(i.maxConnections=-1),i.isTarget=!0,(o=f.addEndpoint(_.element,i)).graph={},o.graph["Node"===n.objectType?"node":"group"]=n,null==i.portId?u_[n.id]=o:a_[n.id+"."+i.portId]=o,j.onUpdate(_.element,function(){})):(f.makeTarget(_.element,i),null!=i.portId&&(f._targetDefsByPortId=f._targetDefsByPortId||{},f._targetDefsByPortId[i.portId]=f._targetDefsByPortId[i.portId]||[],f._targetDefsByPortId[i.portId].push([f.getId(_.element),n])),w=_.element._katavorioDrop[_.element._katavorioDrop.length-1],j.onUpdate(_.element,function(_){_=A_.getSelector(_,"jtk-target");1!==_.length||(_=c_(new h_(_[0]),n,null)).scope&&(w.targetDef.def.scope=_.scope,w.k.setDropScope(w,_.scope))})))}(new h_(w[t]),n);for(t=0;t<o.length;t++)f_(new h_(o[t]),n)};function v_(_){var n,o,i,w,t=_.info||E_(_.node);return t&&t.obj&&(n=null!=_.x&&_.x||0,o=null!=_.y&&_.y||0,w=(i="Port"===t.obj.objectType?t.obj.getNode():t.obj).id,!1!==_.updateLayout&&(i.group?i.group.layout:e)[_.magnetize?"setMagnetizedPosition":"setPosition"](w,n,o),!0===_.doNotUpdateElement||_.magnetize||f.setAbsolutePosition(t.el,[n,o],_.animateFrom,_.animateOptions),!0===_.revalidate&&f.revalidate(t.el),_.storeInModel&&c&&m.storePositionInModel(w)),t}function y_(_,n,o){if(1===n.connections.length)n.setVisible(o,!0);else if(o)n.setVisible(!0,!0);else{for(var i=0;i<n.connections.length;i++)if(n.connections[i]!==_&&n.connections[i].isVisible())return;n.setVisible(!1,!0)}}function b_(_,n,o){var i=z(_);i&&(!n||!1!==(_=i).endpoints[0].element._jtkVisible&&!1!==_.endpoints[1].element._jtkVisible)&&(i.setVisible(n),o||(y_(i,i.endpoints[0],n),y_(i,i.endpoints[1],n)))}function P_(_,o){var i;if(_.eachNode&&_.eachEdge)i={nodes:[],edges:[]},_.eachNode(function(_,n){i.nodes.push(o(E_(n)))}),_.eachEdge(function(_,n){i.edges.push(o(E_(n)))});else if(_.length&&"string"!=typeof _){i=[];for(var n=0;n<_.length;n++)i.push(o(E_(_[n])))}else i=o(E_(_));return i}function E_(_){return _ instanceof f.getDefaultConnectionType()&&(_=_.edge),v.getObjectInfo(_,function(_){return _.getNode?N[_.getFullId()]||D[_.getNode().id]:D[_.id]||O[_.id]})}if(this.setLayout($.layout,!0),this.storePositionsInModel=function(_){var n,w=(_=_||{}).leftAttribute||"left",t=_.topAttribute||"top",o=e.getPositions();for(n in o){var i=v.getNode(n)||v.getGroup(n);i&&(T_.data(i.data,w,o[n][0]),T_.data(i.data,t,o[n][1]))}v.eachGroup(function(_,n){var o=n.getNodes(),i=n.layout.getPositions();for(_=0;_<o.length;_++)T_.data(o[_].data,w,i[o[_].id][0]),T_.data(o[_].data,t,i[o[_].id][1])})},this.storePositionInModel=function(_){var n="string"==typeof _?_:_.id,o="string"!=typeof _&&_.leftAttribute||"left",i="string"!=typeof _&&_.topAttribute||"top",w=v[_.group?"getGroup":"getNode"](n),n=(w.group?w.group.layout:e).getPosition(n);return w&&(c||_.force)&&(T_.data(w.data,o,n[0]),T_.data(w.data,i,n[1])),n},this.setPosition=function(_){return v_({info:null,node:_.node,x:_.x,y:_.y,doNotUpdateElement:_.doNotUpdateElement,animateFrom:null,animateOptions:null,updateLayout:!0!==_.doNotUpdateLayout,revalidate:!0===_.doRevalidate,storeInModel:!0,size:_.size})},this.setMagnetizedPosition=function(_,n,o,i){return v_({info:null,node:_,x:n,y:o,doNotUpdateElement:i,animateFrom:null,animateOptions:null,updateLayout:!0,magnetize:!0,revalidate:!0})},this.animateToPosition=function(_,n,o,i){var w=E_(_);w&&v_({info:w,node:_,x:n,y:o,animateFrom:[(w=e.getPosition(w.id))[0],w[1]],animateOptions:i})},this.isVisible=function(_){return P_(_,function(_){switch(_.type){case"Edge":var n=z(_.obj);return!!n&&n.isVisible();case"Node":return!1!==_.el._jtkVisible}})},this.setVisible=function(_,e,d){null!=_&&P_(_,function(_){switch(_.type){case"Edge":b_(_.obj,e,d);break;case"Node":!function(_,n){if(n&&(n.style.display=e?"block":"none",n._jtkVisible=e,m.fire(O_.nodeVisibility,{node:_,el:n,state:e}),!d))for(var o,i,w=v.getAllEdgesFor(_),t=0;t<w.length;t++)e?(i=w[t].source.getNode?w[t].source.getNode():w[t].source,o=w[t].target.getNode?w[t].target.getNode():w[t].target,i=i===_?o:i,m.isVisible(i)&&b_(w[t],e,d)):b_(w[t],e,d)}(_.obj,_.el);break;case"Port":n=(n=_.obj).getFullId(),!void a_[n].setVisible(e)}var n})},this.addToPosse=function(_,n,o){k_.each(_,function(_){_=E_(_);_.el&&f.addToPosse(_.el,{id:n,active:!1!==o})})},this.setPosse=function(_,n){k_.each(_,function(_){_=E_(_);_.el&&f.setPosse(_.el,n)})},this.removeFromPosse=function(_,n){k_.each(_,function(_){_=E_(_);_.el&&f.removeFromPosse(_.el,n)})},this.removeFromAllPosses=function(_){k_.each(_,function(_){_=E_(_);_.el&&f.removeFromAllPosses(_.el)})},this.setPosseState=function(_,n,o){k_.each(_,function(_){_=E_(_);_.el&&f.setPosseState(_.el,n,o)})},this.destroy=function(){var n;e&&e.destroy(),j.destroy();for(var _=0;_<X.length;_++)try{n=X[_],v.unbind(n.event,n.fn)}catch(_){k_.log("WARN: Could not unbind event "+n.event+" during destroy operation.")}this._destroy&&this._destroy(),this._onDestroy&&this._onDestroy(this),f.destroy(),y=Q=null,R.length=0,F.length=0,H.length=0,G={},D={},O={},M={},L={},N={},a_={},$=v=C_=r=m=null},this.registerTag=function(_,n,o){j.registerTag(_,n,o)},$.tags)for(var x_ in $.tags)this.registerTag(x_,$.tags[x_]);var C_={viewportManager:this._viewportManager,jsPlumb:f,toolkit:v,container:r,containerId:E,getConnectionsForEdges:function(_){for(var n=[],o=0;o<_.length;o++)n.push(G[_[o].getId()]);return n},getConnectionForEdge:z,getElement:function(_){return D[_]||O[_]},getNodeForElementId:function(_){return M[_]},getGroupForElementId:function(_){return L[_]},getObjectInfo:E_,nodeMap:function(){return D},portMap:function(){return N},groupMap:function(){return O},nodeList:function(){return R},isIgnoreGroups:function(){return p},reverseGroupMap:function(){return L},reverseNodeMap:function(){return M},bindToToolkit:function(_,n){null==Q[_]?Z(_,n,!0):(Y[_]=Y[_]||[],Y[_].push(n))}};return C_}_.AbstractRenderer=i,_.DOM=function(_){i.apply(this,arguments),n.apply(this,arguments)}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function _(n,o,i){return function(_){return _[n]/o*(i?-1:1)}}function w(i,w,t){return function(_){var n,o;w&&null!=_.mozInputSource&&1!==_.mozInputSource||(n=e(_||event),o=d(_||event),_.normalizedWheelDelta=n,t&&!_.metaKey&&!_.ctrlKey||i(_,o,n,_.metaKey||_.ctrlKey))}}var n={webkit:{mac:_("deltaY",120),win:_("deltaY",100)},safari:_("wheelDeltaY",120,!0),firefox:{mac:function(_){return _.deltaY*(1===_.deltaMode?25:1)*-1/120},win:function(_){return-1*_.deltaY/3}},ie:function(_){return _.wheelDelta/120},default:function(_){return _.deltaY||_.wheelDelta}},o={webkit:{mac:_("deltaX",120),win:_("deltaX",100)},safari:_("wheelDeltaX",120,!0),firefox:{mac:function(_){return _.deltaX*(1===_.deltaMode?25:1)*-1/120},win:function(_){return-1*_.deltaX/3}},ie:function(_){return _.wheelDelta/120},default:function(_){return _.deltaX||_.wheelDelta}},i="undefined"!=typeof navigator,t=!i||/Mac/.test(navigator.userAgent)?"mac":"win",i=i?-1!==navigator.userAgent.indexOf("Firefox")?"firefox":/Chrome/.test(navigator.userAgent)?"webkit":/Safari/.test(navigator.userAgent)?"safari":/WebKit/.test(navigator.userAgent)?"webkit":/Trident/.test(navigator.userAgent)?"ie":"default":"default",e="function"==typeof n[i]?n[i]:n[i][t],d="function"==typeof o[i]?o[i]:o[i][t],$="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";this.addWheelListener=function(_,n,o,i){i=w(n,o,i);_.addEventListener?_.addEventListener($,i,!1):_.attachEvent&&_.attachEvent("onmousewheel",i)}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){this.PinchListener=function(n){function r(_){n[_](l,c,u,u/c)}function s(){n.onPinchEnd()}function a(_,n,o,i){return Math.sqrt(Math.pow(o-_,2)+Math.pow(i-n,2))}var _="onpointerdown"in document.documentElement,o="ontouchstart"in document.documentElement,l=[0,0],u=0,c=0,h="onPinchStart",i=function(o){function i(_){return _.touches||[]}function w(_,n){return _.item?_.item(n):_[n]}function t(_){var n=w(_,0),_=w(_,1);return a(n.pageX,n.pageY,_.pageX,_.pageY)}function e(_){var n=w(_,0),_=w(_,1);return[(n.pageX+_.pageX)/2,(n.pageY+_.pageY)/2]}var d=!1,$=function(_){d=!1,jsPlumbUtil.consume(_),o.unbind(document,"touchmove",j),o.unbind(document,"touchend",$),s()},j=function(_){var n;!d||2===(n=i(_)).length&&(jsPlumbUtil.consume(_),u=t(n),l=e(n),r("onPinch"))};o.bind(o.el,"touchstart",function(_){var n=i(_);2===n.length&&!1!==o.enableWheelZoom&&(l=e(n),u=c=t(n),d=!0,o.bind(document,"touchmove",j),o.bind(document,"touchend",$),jsPlumbUtil.consume(_),r(h))})};_?function(){function o(){2===t&&(l=[(w[1].p[0]+w[0].p[0])/2,(w[1].p[1]+w[0].p[1])/2],u=a(w[1].p[0],w[1].p[1],w[0].p[0],w[0].p[1]))}var i={},w=[],t=0,e=!1;n.bind(n.el,"pointerdown",function(_){2<=t||e||(w[t]={e:_,p:[_.pageX,_.pageY]},i[""+_.pointerId]=t,t++,o(),2===t&&(c=u,r(h)))}),n.bind(document,"pointerup",function(_){null!=i[""+_.pointerId]&&(delete i[""+_.pointerId],e=0!==--t,s())}),n.bind(document,"pointermove",function(_){var n;e||2!==t||null!=(n=i[_.pointerId])&&(w[n].p=[_.pageX,_.pageY],o(),r("onPinch"))})}():o&&i(n),this.destroy=function(){n=null}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function d(){return{x:0,y:0,w:0,h:0,r:0,c:[0,0],t:{x:0,y:0,c:[0,0],w:0,h:0}}}function o(_,n,o,i,w){function t(_,n){return[e[0]+Math.round((_-e[0])*d-(n-e[1])*$),e[1]+Math.round((n-e[1])*d-(_-e[0])*$)]}var e=[_+o/2,n+i/2],d=Math.cos(w/360*Math.PI*2),$=Math.sin(w/360*Math.PI*2),j=t(_,n),r=t(_+o,n),s=t(_+o,n+i),a=t(_,n+i),_=t(_+o/2,n+i/2),o=Math.min(j[0],r[0],s[0],a[0]),n=Math.max(j[0],r[0],s[0],a[0]),i=Math.min(j[1],r[1],s[1],a[1]);return{x:o,y:i,w:n-o,h:Math.max(j[1],r[1],s[1],a[1])-i,c:_,r:w}}function w(_,n,o){var i=0;return n[1]>_[1]?i=-1:n[1]<_[1]&&(i=1),o&&(i*=-1),i}this.jsPlumbToolkitViewport=function(){this._eventsSuspended=!1,jsPlumbUtil.EventGenerator.apply(this),this._sortedElements={xmin:[],xmax:[],ymin:[],ymax:[]},this._elementMap={},this._transformedElementMap={},this._bounds={minx:0,maxx:0,miny:0,maxy:0},this._clearElementIndex=function(n,_){var o=jsPlumbUtil.findWithFunction(_,function(_){return _[0]===n});-1<o&&_.splice(o,1)},this._updateElementIndex=function(_,n,o,i){!function(_,n,o,i){if(0===n.length)n.push(_);else{for(var w=0,t=n.length,e=Math.floor((w+t)/2);w<t;)o(_,n[e],i)<0?t=e:w=e+1,e=Math.floor((w+t)/2);n.splice(e,0,_)}}([_,n],o,w,i)},this._updateBounds=function(_,n){null!=n&&(this._clearElementIndex(_,this._sortedElements.xmin),this._clearElementIndex(_,this._sortedElements.xmax),this._clearElementIndex(_,this._sortedElements.ymin),this._clearElementIndex(_,this._sortedElements.ymax),this._updateElementIndex(_,n.t.x,this._sortedElements.xmin,!1),this._updateElementIndex(_,n.t.x+n.t.w,this._sortedElements.xmax,!0),this._updateElementIndex(_,n.t.y,this._sortedElements.ymin,!1),this._updateElementIndex(_,n.t.y+n.t.h,this._sortedElements.ymax,!0),this._recalculateBounds())},this._recalculateBounds=function(){this._bounds.minx=0<this._sortedElements.xmin.length?this._sortedElements.xmin[0][1]:0,this._bounds.maxx=0<this._sortedElements.xmax.length?this._sortedElements.xmax[0][1]:0,this._bounds.miny=0<this._sortedElements.ymin.length?this._sortedElements.ymin[0][1]:0,this._bounds.maxy=0<this._sortedElements.ymax.length?this._sortedElements.ymax[0][1]:0},this._finaliseUpdate=function(_,n){n.t=o(n.x,n.y,n.w,n.h,n.r),this._transformedElementMap[_]=n.t,this._updateBounds(_,n)},this._fireUpdate=function(_){this.fire("update",_||{})},this.shouldFireEvent=function(){return!this._eventsSuspended},this.startTransaction=function(){this._eventsSuspended=!0},this.endTransaction=function(_){this._eventsSuspended=!1,_||this._fireUpdate()},this.updateElements=function(_){this.startTransaction();for(var n=0;n<_.length;n++){var o=_[n];this.updateElement(o.id,o.x,o.y,o.width,o.height,o.rotation)}this.endTransaction()},this.updateElement=function(_,n,o,i,w,t){this._elementMap[_]=this._elementMap[_]||d();var e=this._elementMap[_];null!=n&&(e.x=n),null!=o&&(e.y=o),null!=i&&(e.w=i),null!=w&&(e.h=w),null!=t&&(e.r=t||0),e.c[0]=e.x+e.w/2,e.c[1]=e.y+e.h/2,this._finaliseUpdate(_,e)},this.addElement=function(_,n,o,i,w,t){this.updateElement(_,n,o,i,w,t)},this.rotateElement=function(_,n){this._elementMap[_]=this._elementMap[_]||d();var o=this._elementMap[_];o.r=n||0,this._finaliseUpdate(_,o),this._fireUpdate({type:"rotate",id:_,rotation:o.r})},this.getBoundsWidth=function(){return this._bounds.maxx-this._bounds.minx},this.getBoundsHeight=function(){return this._bounds.maxy-this._bounds.miny},this.getX=function(){return this._bounds.minx},this.getY=function(){return this._bounds.miny},this.setSize=function(_,n,o){null!=this._elementMap[_]&&this.updateElement(_,null,null,n,o,null)},this.reset=function(){this._sortedElements.xmin.length=0,this._sortedElements.xmax.length=0,this._sortedElements.ymin.length=0,this._sortedElements.ymax.length=0,this._elementMap={},this._transformedElementMap={},this._recalculateBounds()},this.remove=function(_){this._clearElementIndex(_,this._sortedElements.xmin),this._clearElementIndex(_,this._sortedElements.xmax),this._clearElementIndex(_,this._sortedElements.ymin),this._clearElementIndex(_,this._sortedElements.ymax),delete this._elementMap[_],delete this._transformedElementMap[_],this._recalculateBounds()},this.getPosition=function(_){return this._transformedElementMap[_]||d()},this.getElements=function(){return this._transformedElementMap},this.isEmpty=function(){for(var _ in this._elementMap)return!1;return!0}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var O_=this,F_=O_.jsPlumb;this.ZoomWidget=function(h){h.events=h.events||{},this.viewportManager=h.viewportManager||new O_.jsPlumbToolkitViewport;var a,t,w,e,d=this,_=function(){},$=h.canvas,r=h.domElement||function(_){return _},l=r($),s=h.viewport,p=r(s),u=h.events.zoom||_,c=(h.events.maybeZoom,h.events.pan||_),i=h.events.mousedown||_,o=h.events.mouseup||_,j=h.events.mousemove||_,f=h.events.transformOrigin||_,g=!(!1===h.clamp),m=!1!==h.clampZoom,v=h.panDistance||50,y=!1!==h.enablePan,b=!0===h.directRender,n=!1!==h.enableWheelZoom,P=!1!==h.enableAnimation,E=h.wheelFilter||function(){return!0},x=!0===h.wheelZoomMetaKey,C=(!0===h.wheelReverse?-1:1)*(h.wheelSensitivity||10),S=!0===h.wheelPan,I=!1!==h.enablePanButtons,k=(h.padding,!1!==h.consumeRightClick),A=h.smartMinimumZoom,T="mouseup",D="mousemove",M=["webkit","Moz","ms"],N=h.bind,O=h.unbind,F=!(!1===h.enabled),L=h.clampToBackground,R=h.clampToBackgroundExtents,G=h.filter||function(_){return!1},z=h.width,U=h.height,B=h.zoom||1,V=[0,0],H=!1,W=!1,X=!1,Y=!1,Z=h.zoomRange||[.05,3],q={},J={},K=function(_,n,o,i){this.viewportManager.updateElement(_,n[0],n[1],o,i)}.bind(this);this.setBoundsFor=K,this.setSize=function(_,n,o){this.viewportManager.setSize(_,n,o)},this.setSuspendRendering=function(_){0};var Q=[],__=null,n_=null,o_=null,i_=function(){window.clearTimeout(__),o_&&h.removeClass(o_,"jtk-surface-pan-active"),o_=null},w_=function(o,i){return function(_){var n=m_(l,10*o,10*i,null);c(n[0],n[1],B,B,_),a&&a.pan(),N_.pan()}},t_=function(){window.clearTimeout(n_)},_=function(_,n,o,i,w){var t,e,d,$,j,r,s=document.createElement("div");for(t in s.innerHTML=w||"",s.style.position="absolute",n)s.style[t]=n[t];return s.className="jtk-surface-pan jtk-surface-pan-"+_,p.appendChild(s),h.bind(s,"click",(e=o,d=i,function(n){m_(l,e*v,d*v,null,!0,function(_){c(_[0],_[1],B,B,n),a&&a.pan(),N_.pan()})})),h.bind(s,"mousedown",($=o,j=i,r=s,function(){o_=r,h.addClass(o_,"jtk-surface-pan-active"),h.bind(document,"mouseup",i_),__=window.setTimeout(function(){h.bind(document,T,t_),n_=window.setInterval(w_($,j),60)},150)})),Q.push(s),s};I&&(_("top",{left:"0px",top:"0px"},0,-1,"&#8593;"),_("bottom",{left:"0px",bottom:"0px"},0,1,"&#8595;"),_("left",{left:"0px",top:"0px"},-1,0,"&#8592;"),_("right",{right:"0px",top:"0px"},1,0,"&#8594;"));function e_(_,n,o){o=o||l;for(var i=0;i<M.length;i++){var w=_.replace(/([a-z]){1}/,function(_){return M[i]+_.toUpperCase()});o.style[w]=n}o.style[_]=n}function d_(_){e_("transformOrigin",V[0]+"% "+V[1]+"%",_)}function $_(_,n,o,i){var w=V[0]/100*n,t=V[1]/100*o,e=-w*(1-B),d=-t*(1-B);V=_,d_(),w=V[0]/100*n,t=V[1]/100*o,i=m_(l,-w*(1-B)-e,-t*(1-B)-d,i),f&&f(V,i)}function j_(_,n,o){var i,n=(i=_,_=n,n=d.mapLocation(i,_),i=[n.left,n.top],_=h.width($),n=h.height($),{w:_,h:n,xy:i,xScale:i[0]/_,yScale:i[1]/n,o:[i[0]/_*100,i[1]/n*100]});$_(n.o,n.w,n.h,o)}function r_(_){var n=a_(_);j_(n[0],n[1],_)}function s_(_,n){var o=h.width($),i=h.height($);$_([_/o*100,n/i*100],o,i)}var a_=function(_){var n,o=c_(_);return o&&0<o.length&&((o=u_(o,0))&&(n=[o.pageX,o.pageY])),n&&n[0]&&n[1]?n:null!=_.pageX?[_.pageX,_.pageY]:[0,0]};this.pageLocation=a_;function l_(_,n,o,i){p_(w,n=150<(n=n<-150?-150:n)?150:n,-150,150,o,i)}var u_=function(_,n){return _.item?_.item(n):_[n]},c_=function(_){return _.touches||[]},h_=function(_,n,o,i,w){if(!b&&!(null==_||isNaN(_)||_<0)){var t,e=Z[0];if(A?(e=.5,t=this.getBoundsInfo().z,_/t<e&&(_=t*e)):_<e&&(_=e),_>Z[1]&&(_=Z[1]),i){var d=B<_?.05:-.05,$=B,j=_<B,r=window.setInterval(function(){$=h_($+d),j&&$<=_&&window.clearInterval(r),!j&&_<=$&&window.clearInterval(r)});return B}e_("transform","scale("+_+")");e=B;return B=_,w||u(0,0,B,e,n,o),null!=a&&a.setZoom(_),N_&&N_.pan(),m&&(n=g_(l),(o=f_(n[0],n[1]))[0]==n[0]&&o[1]==n[1]||g_(l,o[0],o[1],null,!i)),B}}.bind(this),p_=function(_,n,o,i,w,t){_+=n/(0<=n?i:o)*(Z[0<=n?1:0]-_);h_(_,w,t)},f_=function(_,n,o){if(g||L||R){var i=v_(),w=_,t=n,e=g?this.getBoundsInfo():{x:0,y:0,w:0,h:0,vw:h.width(p),vh:h.height(p),padding:o,z:1};o=(o||20)*B,(L||R)&&null!=a&&(d=a.getWidth(),$=a.getHeight(),j=Math.max(e.x+e.w,d),d=Math.max(e.y+e.h,$),e.w=j-e.w,e.h=d-e.h,$=e.vw/e.w,j=e.vh/e.h,e.z=Math.min($,j),R&&(o=Math.max(e.vw,e.vh)));var d=[e.x+e.w,e.y+e.h];a&&(d[0]=Math.max(d[0],a.getWidth()),d[1]=Math.max(d[1],a.getHeight()));var $=_+i[0]+d[0]*B-o,j=n+i[1]+d[1]*B-o,d=_+i[0]+e.x*B+o,o=n+i[1]+e.y*B+o;return $<0&&(w-=$),d>e.vw&&(w-=d-e.vw),j<0&&(t-=j),o>e.vh&&(t-=o-e.vh),[w,t]}return[_,n]}.bind(this),g_=function(_,n,o,i,w,t,e){if(1===arguments.length)return[parseInt(_.style.left,10)||0,parseInt(_.style.top,10)||0];var d=f_(n,o);return P&&!w&&h.animate?h.animate(_,{left:d[0],top:d[1]},{step:e,complete:function(){t&&t(d)}}):(_.style.left=d[0]+"px",_.style.top=d[1]+"px",t&&t(d)),d};l.style.left="0px",l.style.top="0px";var m_=function(_,n,o,i,w,t){var e=g_(_);return g_(_,e[0]+n,e[1]+o,i,!w,t)},v_=function(){var _=h.width($),n=h.height($),_=V[0]/100*_,n=V[1]/100*n;return[_*(1-B),n*(1-B)]},y_={start:function(_,n){var o;W||(o=_.srcElement||_.target,F&&(o===l||o===p||o._jtkDecoration||a&&a.owns(o)||!0===G(o,_))&&(Y=!1,3!==_.which||!1===h.enableWheelZoom||null!=_.mozInputSource&&1!==_.mozInputSource?n.length<=1&&(H=!0,t=a_(_),e=g_(l),jsPlumbUtil.consume(_)):(X=!0,t=a_(_),r_(_),e=g_(l),w=B)),i(_,d))},move:function(_,n){var o,i,w;Y=!1,W||(X?(o=(i=a_(_))[0]-t[0],w=i[1]-t[1],l_(0,w,_)):H&&y&&null!=t&&(jsPlumbUtil.consume(_),o=(i=a_(_))[0]-t[0],w=i[1]-t[1],w=g_(l,e[0]+o,e[1]+w,_,!0),c(w[0],w[1],B,B,_),a&&a.pan(),N_&&N_.pan(),jsPlumbUtil.consume(_)),j(_,d))},end:function(_,n){W||(t=null,Y=H=X=!1,O(document,D,P_),O(document,T,E_),N(document,D,x_),o(_,d))},contextmenu:function(_){}},b_=function(_,n){"contextmenu"===_&&k&&n.preventDefault&&n.preventDefault();var o=c_(n);y_[_](n,o)},P_=function(_){b_("move",_)},E_=function(_){b_("end",_)},x_=function(_){Y=!1};N(document,D,x_);function C_(_){F&&null!=_&&(O(document,D,x_),N(document,D,P_),N(document,T,E_),y_.start(_,c_(_)))}this.start=C_,N(s,"mousedown",C_),N(s,"contextmenu",function(_){b_("contextmenu",_)}),n&&addWheelListener(p,function(_,n,o,i){E(_)&&(_.preventDefault&&_.preventDefault(),_.stopPropagation&&_.stopPropagation(),!S||i?(_=_,w=B,Y||(r_(_),Y=!0),l_(0,_.normalizedWheelDelta*C,_,!0)):(n=n,o=o,i||k_(100*-n,100*-o)))},!0,x);var S_=new PinchListener({el:s,bind:N,unbind:O,enableWheelZoom:h.enableWheelZoom,onPinch:function(_,n,o,i){h_(i*w);i=_[0]-t[0],_=_[1]-t[1];g_(l,e[0]+i,e[1]+_,null,!0)},onPinchStart:function(_,n){W=!0,0,w=B,j_((t=_)[0],t[1]),e=g_(l)},onPinchEnd:function(){W=!1,t=null}});this.getBoundsInfo=function(_,n){if(this.viewportManager.isEmpty())return{w:0,h:0,x:0,y:0,vw:h.width(p),vh:h.height(p),padding:_,z:1,zoom:1};_=_||0,n=n||.9;var o=this.viewportManager.getBoundsWidth(),i=this.viewportManager.getBoundsHeight(),w=h.width(p),t=h.height(p),e=w/((o+2*_)/n),n=t/((i+2*_)/n),n=Math.min(e,n);return{w:o,h:i,x:this.viewportManager.getX(),y:this.viewportManager.getY(),vw:w,vh:t,padding:_,z:n,zoom:B}},h_(B,null,!1,!1,!0),d_(),this.isPinchZooming=function(){return W},this.positionChanged=function(_,n,o,i){o=o||h.id(_);var w=n||g_(_),n=i?i[0]:h.width(_),i=i?i[1]:h.height(_);q[o]=_,K(o,w,n,i)},this.add=function(_,n,o,i){this.positionChanged(_,o,n),i&&(N(_,"mousedown",C_),_._jtkDecoration=!0)},this.suspend=function(_){_="string"==typeof _?_:h.id(_);J[_]=!0,I_(_)},this.isSuspended=function(_){_="string"==typeof _?_:h.id(_);return!0===J[_]},this.restore=function(_){var n="string"==typeof _?_:h.id(_);delete J[n],this.positionChanged(_,null,n)},this.remove=function(_){_=r(_);_=h.id(_);delete q[_],delete J[_],I_(_)};var I_=function(_){this.viewportManager.remove(_)}.bind(this);this.reset=function(){this.viewportManager.reset(),q={},J={},g_(l,0,0,null,!0)},this.zoomToFit=function(_){_=_||{};var n=this.getBoundsInfo(_.padding,_.fill);_.doNotZoomIfVisible&&n.z>B||h_(n.z),d.centerContent({bounds:n,doNotAnimate:!1!==_.doNotAnimate,onComplete:_.onComplete,onStep:_.onStep,doNotFirePanEvent:_.doNotFirePanEvent})},this.zoomToFitIfNecessary=function(_){_=F_.extend(_||{});_.doNotZoomIfVisible=!0,this.zoomToFit(_)},this.zoomToElements=function(_){for(var n={x:1/0,y:1/0,xMax:-1/0,yMax:-1/0,z:1,vw:h.width(p),vh:h.height(p)},o=0;o<_.elements.length;o++){var i=_.elements[o],i=this.viewportManager.getPosition(h.id(i));i&&(n.x=Math.min(n.x,i.x),n.y=Math.min(n.y,i.y),n.xMax=Math.max(n.xMax,i.x+i.w),n.yMax=Math.max(n.yMax,i.y+i.h))}var w=_.fill||.9;n.w=n.xMax-n.x,n.h=n.yMax-n.y,n.z=w*Math.min(n.vw/n.w,n.vh/n.h),_.doNotZoomIfVisible&&n.z>B||h_(n.z),d.centerContent({bounds:n,doNotAnimate:!1!==_.doNotAnimate,onComplete:_.onComplete,onStep:_.onStep,doNotFirePanEvent:_.doNotFirePanEvent})},this.zoomToBackground=function(_){var n,o,i,w,t,e;_=_||{},null!=a&&(n=a.getWidth(),o=a.getHeight(),t=(i=z(p))/n,e=(w=U(p))/o,e={w:n,h:o,x:0,y:0,vw:i,vh:w,padding:0,z:Math.min(t,e)},h_(e.z),d.centerContent({bounds:e,doNotAnimate:_.doNotAnimate,onComplete:_.onComplete,onStep:_.onStep}))},this.setFilter=function(_){G=_||function(_){return!1}},this.centerBackground=function(){var _;null!=a&&((_=F_.extend({},this.getBoundsInfo())).x=a.getWidth()/2,_.y=a.getHeight()/2,_.w=1,_.h=1,d.centerContent({bounds:_,doNotAnimate:h.doNotAnimate,onComplete:h.onComplete,onStep:h.onStep,vertical:!0,horizontal:!0}))},this.alignBackground=function(_){var n,o;null!=a&&(n=(o=_.split(" "))[0]||"left",_=o[1]||"top",o=this.getBoundsInfo(),n="left"===n?0:o.vw-a.getWidth()*B,_="top"===_?0:o.vh-a.getHeight()*B,o=v_(),g_(l,n-o[0],_-o[1]),a.pan(),N_&&N_.pan())},this.positionElementAt=function(_,n,o,i,w,t){i=i||0,w=w||0;var e=v_(),d=g_(l),$=r(_),j=$.parentNode,_=h.offset(j),j=h.offset(s),i=j.left-_.left+(d[0]+e[0])+n*B+i,w=j.top-_.top+(d[1]+e[1])+o*B+w;t&&i<0&&(i=0),t&&w<0&&(w=0),$.style.left=i+"px",$.style.top=w+"px"},this.positionElementAtPageLocation=function(_,n,o,i,w){o=this.mapLocation(n,o);this.positionElementAt(_,o.left,o.top,i,w)},this.positionElementAtEventLocation=function(_,n,o,i){n=this.mapEventLocation(n);this.positionElementAt(_,n.left,n.top,o,i)},this.zoomToEvent=function(_,n){r_(_),h_(B+n,_)},this.relayout=function(_){var n,o,i,w,t,e;!1===h.enablePan&&(n=_[2]-_[0],e=_[3]-_[1],w=window.getComputedStyle(p),t=o=1,i=parseInt(w.getPropertyValue("max-width"),10),w=parseInt(w.getPropertyValue("max-height"),10),!isNaN(i)&&i<n&&(o=i/n,n=i),!isNaN(w)&&w<e&&(t=w/e,e=w),t=Math.min(o,t),l.style.width=n+"px",l.style.height=e+"px",l.style.left="0",l.style.top="0",e=_[0]<0?-_[0]:0,_=_[1]<0?-_[1]:0,l.style.transform="translateX("+e*t+"px) translateY("+_*t+"px) scale("+t+")",this.setTransformOrigin(0,0))},this.nudgeZoom=function(_,n){var o=h.offset(p,!0),i=o.left+h.width(p)/2,o=o.top+h.height(p)/2;return j_(i,o),h_(B+_,n)},this.nudgeWheelZoom=function(_,n){w=B,l_(0,_,n,!0)},this.centerContent=function(_){var n,o,i,w,t,e,d;b||(n=(_=_||{}).bounds||this.getBoundsInfo(),o=v_(),i=n.x*B+n.w*B/2,w=n.y*B+n.h*B/2,t=n.vw/2-i,e=n.vh/2-w,d=g_(l),g_(l,!1!==_.horizontal?t-o[0]:d[0],!1!==_.vertical?e-o[1]:d[1],null,_.doNotAnimate,function(){_.doNotFirePanEvent||c(!1!==_.horizontal?t-d[0]:0,!1!==_.vertical?e-d[1]:0,B,B),a&&a.pan(),N_&&N_.pan(),_.onComplete&&_.onComplete()},_.onStep))},this.centerContentHorizontally=function(_){this.centerContent(F_.extend({horizontal:!0,vertical:!1},_))},this.centerContentVertically=function(_){this.centerContent(F_.extend({vertical:!0,horizontal:!1},_))},this.centerOn=function(_,n){n=n||{};var o=F_.extend({},this.getBoundsInfo()),i=g_(_),w=z(_),t=U(_);o.x=i[0],o.y=i[1],o.w=w,o.h=t;this.centerContent({bounds:o,doNotAnimate:n.doNotAnimate,onComplete:function(){s_(i[0]+w/2,i[1]+t/2),n.onComplete&&n.onComplete()},onStep:n.onStep,vertical:!1!==n.vertical,horizontal:!1!==n.horizontal})},this.centerOnHorizontally=function(_){this.centerOn(_,{vertical:!1})},this.centerOnVertically=function(_){this.centerOn(_,{horizontal:!1})},this.centerOnAndZoom=function(_,n){n=n||.6;var o={w:z(_),h:U(_)},i=g_(_),w=this.getBoundsInfo(),w=w.vw<w.vh?[w.vw,"w"]:[w.vh,"h"],t=n*w[0]/o[w[1]];(t=t<Z[0]?Z[0]:t)>Z[1]&&(t=Z[1]);var e=B,d=t-B;s_(i[0]+o.w/2,i[1]+o.h/2),this.centerOn(_,{onStep:function(_,n){h_(e+_/n*d)},onComplete:function(){h_(t)}})},this.getViewportCenter=function(){var _=F_.extend({},this.getBoundsInfo()),n=v_(),o=g_(l),_=[_.vw/2,_.vh/2];return[(_[0]-(o[0]+n[0]))/B,(_[1]-(o[1]+n[1]))/B]},this.setViewportCenter=function(_){var n=F_.extend({},this.getBoundsInfo()),o=v_(),n=[n.vw/2,n.vh/2],o=[-(_[0]*B-n[0]+o[0]),-(_[1]*B-n[1]+o[1])];g_(l,o[0],o[1])},this.setClamping=function(_){g=_},this.isClamping=function(){return g},this.setZoom=function(_,n,o){return h_(_,null,null,n,o)},this.setZoomRange=function(_,n){return null!=_&&2===_.length&&_[0]<_[1]&&null!=_[0]&&null!=_[1]&&0<_[0]&&0<_[1]&&(Z=_,n||(B<Z[0]||B>Z[1])&&h_(B)),Z},this.getZoomRange=function(){return Z},this.getZoom=function(){return B},this.getPan=function(){return g_(l)};var k_=function(_,n,o){m_(l,_,n,null,o,function(_){c(_[0],_[1],B,B),a&&a.pan(),N_&&N_.pan()})};this.pan=k_,this.setPan=function(_,n,o,i,w){return g_(l,_,n,null,!o,i,w)},this.setTransformOrigin=function(_,n){V=[_,n],d_()};var A_=this.calculateCumulativeScroll=function(_){for(var n=_,o=0,i=0;null!=n&&n!==document.body;)isNaN(n.scrollLeft)||(o+=n.scrollLeft),isNaN(n.scrollTop)||(i+=n.scrollTop),n=n.parentNode;return{left:o,top:i}},T_=this.calculateOffset=function(_){for(var n=_,o=0,i=0;null!=n&&n!==document.body;)o+=n.offsetLeft,i+=n.offsetTop,n=n.offsetParent;return{left:o,top:i}};this.mapLocation=function(_,n,o){var i=v_(),w=g_(l),t=A_(p),o=o?{left:0,top:0}:T_(p);return{left:(_-(w[0]+i[0])-o.left+t.left)/B,top:(n-(w[1]+i[1])-o.top+t.top)/B}},this.mapEventLocation=function(_,n){_=a_(_);return this.mapLocation(_[0],_[1],n)},this.setEnabled=function(_){F=_},this.showElementAt=function(_,n,o){var i=r(_).parentNode,w=h.offset(i),t=h.offset(s),i=v_(),n=w.left-t.left+i[0]+n,o=w.top-t.top+i[1]+o;h.offset(_,{left:n,top:o})},this.getApparentCanvasLocation=function(){var _=v_(),n=g_(l);return[n[0]+_[0],n[1]+_[1]]},this.setApparentCanvasLocation=function(_,n){var o=v_(),o=g_(l,_-o[0],n-o[1],null,!0);return a&&a.pan(),N_&&N_.pan(),o},this.applyZoomToElement=function(_,n){e_("transform","scale("+(n=n||B)+")",_)},this.setTransformOriginForElement=function(_,n){e_("transformOrigin",n[0]+" "+n[1],_)},this.getTransformOrigin=function(){return V},this.floatElement=function(_,n){null!=_&&(_.style.position="absolute",_.style.left=n[0]+"px",_.style.top=n[1]+"px",p.appendChild(_))};function D_(_){var n,o,i,w=d.getApparentCanvasLocation();for(n in M_)M_.hasOwnProperty(n)&&(null!=_&&_!==n||(o=M_[n],(i=function(_,n){o[_]&&(w[n]/B+o.pos[n]<0?o.el.style[_]=-w[n]/B+"px":o.el.style[_]=o.pos[n]+"px")})("left",0),i("top",1)))}var M_={},N_={pan:D_};this.fixElement=function(_,n,o){var i;null!=_&&(n=n||{},i=h.id(_),M_[i]={el:_,left:n.left,top:n.top,pos:o},_.style.position="absolute",_.style.left=o[0]+"px",_.style.top=o[1]+"px",l.appendChild(_),D_(i))},this.findIntersectingNodes=function(_,n,o,i,w){var t,e=this.getApparentCanvasLocation(),d=h.offset(p),$=p.scrollLeft,j=p.scrollTop,r=[],s={x:_[0],y:_[1],w:n[0],h:n[1]},a=o?Biltong.encloses:Biltong.intersects,l=[d.left+e[0]-$,d.top+e[1]-j];if(w=w||this.viewportManager.getElements(),Array.isArray(w)){for(var u={},c=0;c<w.length;c++)u[jsPlumbUtil.isString(w[c])?w[c]:jsPlumb.getId(w[c])]=w[c];w=u}for(c in w)J[c]||(!(t=this.viewportManager.getPosition(c))||a(s,t={x:l[0]+t.x*B,y:l[1]+t.y*B,w:t.w*B,h:t.h*B})&&(null==i||i(c,q[c],t))&&r.push({id:c,el:q[c],r:t}));return r},this.findNearbyNodes=function(_,n,o,i){var w,t=[];return o&&!this.isInViewport(_[0],_[1])||(t=this.findIntersectingNodes([_[0]-n,_[1]-n],[2*n,2*n],!1,i),w=this.mapLocation(_[0],_[1]),t.sort(function(_,n){_=[_.x+_.w/2,_.y+_.h/2],n=[n.x+n.w/2,n.y+n.h/2],_=Biltong.lineLength(w,_),n=Biltong.lineLength(w,n);return _<n?-1:n<_?1:0})),t},this.isInViewport=function(_,n){var o=h.offset(p),i=h.width(p),w=h.height(p);return o.left<=_&&_<=o.left+i&&o.top<=n&&n<=o.top+w},this.getElementPositions=function(){return this.viewportManager.getElements()},this.setFilter=function(_){G=_||function(_){return!1}},this.setWheelFilter=function(_){E=_||function(_){return!0}},this.setBackground=function(_){var n=_.type||"simple",o={simple:L_,tiled:"absolute"===_.tiling?G_:R_};a=new o[n]({canvas:l,viewport:p,getWidth:z,getHeight:U,url:_.url,zoomWidget:d,onBackgroundReady:_.onBackgroundReady,options:_,img:_.img,resolver:_.resolver})},h.background&&this.setBackground(h.background),this.getBackground=function(){return a},this.destroy=function(){O(document,D,x_),O(document,T,i_);for(var _=0;_<Q.length;_++)Q[_].parentNode.removeChild(Q[_]);S_.destroy(),Q.length=0,x_=E_=P_=b_=h=$=s=l=p=J=q=null}};function n(s){var t=this,n=s.canvas,d=s.viewport;if(null==s.options.maxZoom)throw new TypeError("Parameter `maxZoom` not set; cannot initialize TiledBackground");if(!s.options.tileSize)throw new TypeError("Parameter `tileSize not set; cannot initialize TiledBackground. It should be an array of [x,y] values.");if(!s.options.width||!s.options.height)throw new TypeError("Parameters `width` and `height` must be set");for(var $,_=function(e){var n=document.createElement("div");n.style.position="relative",n.style.height="100%",n.style.width="100%",n.style.display="none",s.canvas.appendChild(n),this.zoom=e;function d(_,n,o){return null==s.resolver?(i=_,w=n,t=o,s.url.replace("{z}",i).replace("{x}",w).replace("{y}",t)):s.resolver(_,n,o);var i,w,t}var _=t.getTileSpecs(e),$=[];this.apparentZoom=Math.min(_[2],_[3]),this.setActive=function(_){n.style.display=_?"block":"none"},this.xTiles=_[0],this.yTiles=_[1];for(var o=0;o<this.xTiles;o++){$[o]=$[o]||[];for(var i=0;i<this.yTiles;i++){var w=document.createElement("img");w._tiledBg=!0,w.className="jtk-surface-tile",w.ondragstart=function(){return!1},n.appendChild(w),w.style.position="absolute",w.style.opacity=0,$[o][i]=[w,new Image,!1]}}var j=Math.pow(2,s.options.maxZoom-e)*s.options.tileSize[0],r=Math.pow(2,s.options.maxZoom-e)*s.options.tileSize[1];this.scaledImageSize=j,this.scaledImageSizeH=r;this.ensureLoaded=function(_,n,o,i){for(var w=_;w<=o;w++)for(var t=n;t<=i;t++)null!=$[w]&&null!=$[w][t]&&($[w][t][2]||(function(_,n,o,i){_.style.left=o*j+"px",_.style.top=i*r+"px",_.style.width=j+"px",_.style.height=r+"px",n.onload=function(){_.setAttribute("src",n.src),_.style.opacity=1},n.src=d(e,o,i)}($[w][t][0],$[w][t][1],w,t),$[w][t][2]=!0))}}.bind(this),o=[],j=null,i=0;i<=s.options.maxZoom;i++)o.push(new _(i));function w(){var _=s.zoomWidget.getApparentCanvasLocation(),n=s.getWidth(d),o=s.getHeight(d),i=j.scaledImageSize*$,w=j.scaledImageSizeH*$,t=_[0]<0?Math.floor(-_[0]/i):_[0]<n?0:null,e=_[1]<0?Math.floor(-_[1]/w):_[1]<o?0:null,i=Math.min(j.xTiles,Math.floor((n-_[0])/i)),w=Math.min(j.yTiles,Math.floor((o-_[1])/w));null!=t&&null!=e&&j.ensureLoaded(t,e,i,w)}function e(_,n){n=n||150;var o=null;return function(){window.clearTimeout(o),o=window.setTimeout(_,n)}}function r(){var _;_=function(){if($<=o[0].apparentZoom)return 0;if($>=o[o.length-1].apparentZoom)return o.length-1;for(var _=o.length-1;0<_;_--)if(o[_].apparentZoom>=$&&$>=o[_-1].apparentZoom)return _}(),_=o[_],null!=j&&j!==_&&j.setActive(!1),_.setActive(!0),j=_,w()}n.style.width=s.options.width+"px",n.style.height=s.options.height+"px",this.getCurrentLayer=function(){return j},this.getWidth=function(){return s.options.width},this.getHeight=function(){return s.options.height};var a=s.options.panDebounceTimeout||50,l=s.options.zoomDebounceTimeout||120,u=e(r,l),a=e(w,a);this.setZoom=function(_,n){$=_,(n?r:u)()},this.pan=a,this.owns=function(_){return _===n||!0===_._tiledBg},this.setZoom(s.zoomWidget.getZoom(),!0),null!=s.onBackgroundReady&&setTimeout(s.onBackgroundReady,0)}var L_=function(_){var n=_.canvas,o=_.onBackgroundReady||function(){},i=new Image;i.onload=function(){n.style.backgroundImage="url('"+i.src+"')",n.style.backgroundRepeat="no-repeat",n.style.width=i.width+"px",n.style.height=i.height+"px",o(this)},i.src=_.img?_.img.src:_.url,this.owns=function(_){return _===n},this.getWidth=function(){return i.width||0},this.getHeight=function(){return i.height||0},this.setZoom=this.pan=function(_){}},R_=function(_){var i=_.options.width,w=_.options.height,t=_.options.tileSize;this.getTileSpecs=function(_){var n=w<i?1:i/w,o=i<w?1:w/i,n=Math.pow(2,_+1)*t[0]*n,o=Math.pow(2,_+1)*t[1]*o;return[Math.ceil(n/t[0]),Math.ceil(o/t[1]),n/i,o/w]},n.apply(this,arguments)},G_=function(_){var o=_.options.maxZoom,i=_.options.width,w=_.options.height,t=_.options.tileSize;this.getTileSpecs=function(_){var n=Math.pow(2,o-_),_=Math.ceil(i/n/t[0]),n=Math.ceil(w/n/t[1]);return[_,n,_*t[0]/i,n*t[1]/w]},n.apply(this,arguments)}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var T=this.jsPlumbToolkit,D=T.Renderers,M=this.jsPlumb,N=this.jsPlumbUtil,O=M.getSelector,F=T.Classes,L=T.Constants,R=T.Events;D.Surface=function(w){var j=this;D.Surface.SELECT=L.select,D.Surface.PAN=L.pan,D.Surface.DISABLED=L.disabled;var p=D.AbstractRenderer.apply(this,arguments);D.DOMElementAdapter.apply(this,arguments),this.getObjectInfo=p.getObjectInfo,w=w||{};var e,r=M.getElement(w.container),t=D.createElement({position:L.relative,width:L.nominalSize,height:L.nominalSize,left:0,top:0,clazz:F.SURFACE_CANVAS},r),d=!0!==w.directRender&&!(!1===w.elementsDraggable),i=!0!==w.directRender&&!0===w.elementsDroppable,s=w.dragOptions||{},o=null!=s.grid,$=w.dropOptions||{},a=w.stateHandle,l=!1!==w.storePositionsInModel,u=w.modelLeftAttribute,c=w.modelTopAttribute,_=!0===w.directRender,h=!0===w.wheelReverse,f=new ZoomWidget({viewportManager:p.viewportManager,viewport:r,canvas:t,domElement:p.jsPlumb.getElement,addClass:p.jsPlumb.addClass,removeClass:p.jsPlumb.removeClass,offset:this.getOffset.bind(this),consumeRightClick:w.consumeRightClick,bind:function(){p.jsPlumb.on.apply(p.jsPlumb,arguments)},unbind:function(){p.jsPlumb.off.apply(p.jsPlumb,arguments)},width:function(_){return p.jsPlumb.getWidth(p.jsPlumb.getElement(_))},height:function(_){return p.jsPlumb.getHeight(p.jsPlumb.getElement(_))},id:p.jsPlumb.getId,animate:function(){p.jsPlumb.animate.apply(p.jsPlumb,arguments)},dragEvents:{stop:M.dragEvents[L.stop],start:M.dragEvents[L.start],drag:M.dragEvents[L.drag]},background:w.background,padding:w.padding,panDistance:w.panDistance,directRender:_,enablePan:!_&&!1!==w.enablePan,enableWheelZoom:!_&&!1!==w.enableWheelZoom,wheelSensitivity:w.wheelSensitivity,wheelReverse:h,wheelZoomMetaKey:w.wheelZoomMetaKey,wheelPan:w.wheelPan,enablePanButtons:!_&&!1!==w.enablePanButtons,enableAnimation:w.enableAnimation,clamp:w.clamp,clampToBackground:w.clampToBackground,clampToBackgroundExtents:w.clampToBackgroundExtents,zoom:w.zoom,zoomRange:w.zoomRange,extend:p.jsPlumb.extend,events:{pan:function(_,n,o,i,w){j.fire(R.pan,{x:_,y:n,zoom:o,oldZoom:i,event:w})},zoom:function(_,n,o,i,w){p.jsPlumb.setZoom(o),j.fire(R.zoom,{x:_,y:n,zoom:o,oldZoom:i,event:w})},mousedown:function(){M.addClass(r,F.SURFACE_PANNING),M.addClass(document.body,F.SELECT_DEFEAT)},mouseup:function(){M.removeClass(r,F.SURFACE_PANNING),M.removeClass(document.body,F.SELECT_DEFEAT)}}}),g=[],m=w.lassoSelectionFilter,v=!0===w.lassoEdges,n=!1!==w.autoExitSelectMode,y=new T.Widgets.Lasso({on:function(){p.jsPlumb.on.apply(p.jsPlumb,arguments)},off:function(){p.jsPlumb.off.apply(p.jsPlumb,arguments)},invert:w.lassoInvert,pageLocation:f.pageLocation,canvas:r,onStart:function(){j.setHoverSuspended(!0),g.length=0},onSelect:function(_,n,o,i){p.jsPlumb.clearDragSelection&&p.jsPlumb.clearDragSelection(),p.toolkit.clearSelection(),i&&0<g.length&&p.toolkit.removeFromSelection(g);var w,t=[],e=f.findIntersectingNodes(_,n,!o[0],function(_,n){return null!=(n.jtk?n.jtk.node||n.jtk.group:null)}),d=e.length,$={};for(s=0;s<d;s++){var j=(w=e[s]).el.jtk.node||w.el.jtk.group;null!=m&&!1===m(j)||(t.push(j),$[j.id]=!0,p.jsPlumb.addToDragSelection&&p.jsPlumb.addToDragSelection(e[s].el))}d=(g=t).length;if(v)for(var r={},s=0;s<d;s++){var a=[];Array.prototype.push.apply(a,t[s].getAllEdges());for(var l,u,c,h=0;h<a.length;h++)r[c=a[h].getId()]||(l=(a[h].source.getNode?a[h].source.getNode():a[h].source).id,u=(a[h].target.getNode?a[h].target.getNode():a[h].target).id,$[l]&&$[u]&&t.push(a[h]),r[c]=!0)}p.toolkit.addToSelection(t,i)},onEnd:function(){j.setHoverSuspended(!1),n&&j.setMode(L.pan),j.fire("lasso:end")},filter:w.lassoFilter}),b={pan:function(){y.setEnabled(!1),f.setEnabled(!0)},select:function(){p.jsPlumb.clearDragSelection&&p.jsPlumb.clearDragSelection(),y.setEnabled(!0),f.setEnabled(!1)},disabled:function(){p.jsPlumb.clearDragSelection&&p.jsPlumb.clearDragSelection(),y.setEnabled(!0),f.setEnabled(!1)}};w.mode||L.pan;j.bind(R.relayout,function(_){f.relayout(j.getLayout().getExtents(),!0)}),j.bind(R.nodeRemoved,function(_){f.remove(_.el)}),j.bind(R.groupRemoved,function(_){if(f.remove(_.el),!1===_.nodesRemoved)for(var n=0;n<_.nodes.length;n++){var o=p.nodeMap()[_.nodes[n].id];o&&f.restore(o)}}),p.bindToToolkit(R.graphClearStart,function(){f.reset()}),p.bindToToolkit(R.dataLoadStart,function(){f.setSuspendRendering(!0)}),p.bindToToolkit(R.dataAppendStart,function(){f.setSuspendRendering(!0)}),p.bindToToolkit(R.dataLoadEnd,function(){f.setSuspendRendering(!1),e&&e.setVisible(!0),w.zoomToFit&&j.zoomToFit()}),p.bindToToolkit(R.dataAppendEnd,function(){f.setSuspendRendering(!1)}),p.bindToToolkit(R.groupMemberAdded,function(_){_=p.nodeMap()[_.node.id];_&&f.suspend(_)}),p.bindToToolkit(R.groupMemberRemoved,function(_){_=p.nodeMap()[_.node.id];_&&f.restore(_)}),p.jsPlumb.setContainer(t),M.addClass(r,F.SURFACE),_&&M.addClass(r,F.SURFACE_DIRECT),!1===w.enablePan&&M.addClass(r,F.SURFACE_NO_PAN);_=function(_,o){function n(_){var n=_.srcElement||_.target;n!=r&&n!=t||j.fire(o,_,j)}p.jsPlumb.on(t,_,n),p.jsPlumb.on(r,_,n)};_(R.tap,R.canvasClick),_(R.dblclick,R.canvasDblClick);p.makeDraggable=function(_,n){var o,i,$,w;d&&(o=M.getElement(_),i=p.jsPlumb.getId(o),$=p.jsPlumb.extend({},s),w=M.dragEvents[L.stop],_=M.dragEvents[L.start],null!=n&&p.jsPlumb.extend($,n),$[_]=N.wrap($[_],function(){if(f.isPinchZooming())return!1;f.getBoundsInfo();var _=function(_){_=M.getDragObject(_);return{node:M.getElement(_).jtk.node,el:_}}(arguments);_.elementId=i,_.pos=M.getAbsolutePosition(o),_.domEl=o,M.addClass(r,F.SURFACE_ELEMENT_DRAGGING),M.removeClass(r.querySelectorAll("."+F.MOST_RECENTLY_DRAGGED),F.MOST_RECENTLY_DRAGGED),j.fire(R.nodeMoveStart,_)}),$.drag=N.wrap($.drag,function(_){var n=_.drag.getDragElement(),_={el:n,node:n.jtk.node||n.jtk.group,pos:_.pos,e:_.e};j.fire(R.nodeMove,_)}),$[w]=N.wrap($[w],function(d){for(var _=0;_<d.selection.length;_++)!function(_){M.removeClass(r,F.SURFACE_ELEMENT_DRAGGING),M.removeClass(r.querySelectorAll("."+F.MOST_RECENTLY_DRAGGED),F.MOST_RECENTLY_DRAGGED),M.addClass(_[0],F.MOST_RECENTLY_DRAGGED);try{var n,o,i={el:_[0],node:_[0].jtk.node||_[0].jtk.group,pos:[_[1].left,_[1].top],e:d.e,eventPosition:d.pos};if(_[0]._droppedOnGroup||(n=i.node.group?i.node.group.layout:j.getLayout(),i.originalPosition=n.getPosition(i.node.id),$.magnetize&&!i.node.group?(o=p.jsPlumb.getId(_[0]),j._viewportManager.updateElement(o,i.pos[0],i.pos[1]),i.pos=n.setMagnetizedPosition(i.node.id,i.pos[0],i.pos[1],!0)):n.setPosition(i.node.id,i.pos[0],i.pos[1],!0),f.positionChanged(_[0]),!1!=l&&(j.storePositionInModel({id:i.node.id,leftAttribute:u,topAttribute:c}),p.toolkit.fire(R.nodeUpdated,{node:i.node},null))),d.e._drawResult)for(var w=0;w<d.e._drawResult.c.length;w++){var t=d.e._drawResult.c[w].edge,e=d.e._drawResult.c[w].connector;e&&e.geometry&&e.exportGeometry&&p.toolkit.setEdgeGeometry(t,e.exportGeometry())}j.fire(R.nodeMoveEnd,i)}catch(_){jsPlumbUtil.log("could not process dragged node",_)}delete _[0]._droppedOnGroup}(d.selection[_])}),$.canDrag=function(){return!y.isActive()},$.force=!0,p.jsPlumb.draggable(o,$,!1,p.jsPlumb))},p.makeDroppable=function(_,n){var o;i&&(o=M.getElement(_),_=p.jsPlumb.extend({},$),null!=n&&p.jsPlumb.extend(_,n),_[L.drop]=N.wrap(_[L.drop],function(_){_.drag.el.jtk&&_.drag.el.jtk.node&&(_={source:_.drag.el.jtk.node,sourceElement:_.drag.el,target:_.drop.el.jtk.node,targetElement:_.drop.el,e:_.e},j.fire(R.nodeDropped,_))}),p.jsPlumb.droppable(o,_))},this.snapToGrid=function(_,n,o){var i;1===arguments.length||3===arguments.length?(e=this.getObjectInfo(_)).el&&(i=this.getJsPlumb().snapToGrid(e.el,n,o)):i=this.getJsPlumb().snapToGrid(_,n);for(var w=this.getLayout(),t=0;t<i.length;t++){var e,d=(e=this.getObjectInfo(i[t][0])).id,$=i[t][1];w.setPosition(d,$[0],$[1]),f.positionChanged(e.el,$),l&&this.storePositionInModel(d)}return i},p.doImport=function(_){w.jsPlumbInstance.setContainer(t);var n,o=w.jsPlumbInstance.getManagedElements();for(n in o){var i=o[n].el;P(i,n)}};var P=this.importNode=function(_,n){var o=w.jsPlumbInstance.getId(_);M.addClass(_,F.NODE),d&&!M.isAlreadyDraggable(_)&&p.makeDraggable(_),p.nodeMap()[n]=_,p.reverseNodeMap()[o]=_.jtk.node;o={node:_.jtk.node,el:_,id:_.jtk.node.id};null!=_.jtk.node.group&&!p.isIgnoreGroups()||j.getLayout().nodeAdded(o),j.fire(R.nodeAdded,o)}.bind(this);this.zoomToSelection=function(_){var n=(_=_||{}).selection||(_.filter?p.toolkit.filter(_.filter):p.toolkit.getSelection()),o=[];n.eachNode(function(_,n){o.push(p.getElement(n.id))}),n.eachGroup(function(_,n){o.push(p.getElement(n.id))}),0<o.length&&f.zoomToElements({elements:o,fill:_.fill,doNotZoomIfVisible:_.doNotZoomIfVisible,doNotAnimate:_.doNotAnimate})},this.animateToSelection=function(_){this.zoomToSelection(jsPlumb.extend(_||{},{doNotAnimate:!1}))},this.zoomToBackground=f.zoomToBackground,this.zoomToVisible=function(_){(_=M.extend({},_||{})).selection=p.toolkit.filter(function(_){return"Node"===_.objectType&&this.isVisible(_)}.bind(this)),this.zoomToSelection(_)},this.zoomToVisibleIfNecessary=function(_){_=M.extend(_||{});_.doNotZoomIfVisible=!0,this.zoomToVisible(_)},this.zoomToFit=f.zoomToFit,this.zoomToFitIfNecessary=f.zoomToFitIfNecessary,this.centerOn=function(_,n){_=this.getObjectInfo(_);_&&_.el&&f.centerOn(_.el,n)},this.centerOnHorizontally=function(_){this.centerOn(_,{vertical:!1})},this.centerOnVertically=function(_){this.centerOn(_,{horizontal:!1})},this.centerOnAndZoom=function(_,n){_=this.getObjectInfo(_);_&&_.el&&f.centerOnAndZoom(_.el,n)},this.centerContent=f.centerContent.bind(f),this.centerContentHorizontally=f.centerContentHorizontally.bind(f),this.centerContentVertically=f.centerContentVertically.bind(f),this.getViewportCenter=f.getViewportCenter.bind(f),this.setViewportCenter=f.setViewportCenter.bind(f),this.setClamping=f.setClamping.bind(f),this.isClamping=f.isClamping.bind(f),this.setSize=function(_,n,o){var i=j.getRenderedNode(_)||j.getRenderedGroup(_);null!=i&&((_=i.jtk.group||i.jtk.node)&&(_.group?_.group.layout:j.getLayout()).setSize(_.getFullId(),[n,o]),f.setSize(p.jsPlumb.getId(i),n,o))},this.setStateHandle=function(_){a=_},this.getStateHandle=function(){return a},this.setLassoSelectionFilter=function(_){m=_},this.getApparentCanvasLocation=f.getApparentCanvasLocation.bind(f),this.setApparentCanvasLocation=f.setApparentCanvasLocation.bind(f),this.getBoundsInfo=f.getBoundsInfo.bind(f),this.setZoom=f.setZoom.bind(f),this.setZoomRange=f.setZoomRange.bind(f),this.getZoomRange=f.getZoomRange.bind(f),this.getZoom=f.getZoom.bind(f),this.nudgeZoom=f.nudgeZoom.bind(f),this.nudgeWheelZoom=f.nudgeWheelZoom.bind(f),this.pageLocation=f.pageLocation.bind(f),this.getPan=f.getPan.bind(f),this.pan=f.pan.bind(f),this.setPan=f.setPan.bind(f),this.setPanAndZoom=function(_,n,o,i){this.setPan(_,n,!i),this.setZoom(o,!i)},this.setPanFilter=function(o){f.setFilter(o?function(_,n){return"function"==typeof o?o.apply(o,[n]):N.matchesSelector(_,o)}:null)},this.setWheelFilter=function(n){f.setWheelFilter(function(_){if(n){_=_.srcElement||_.target;return!N.matchesSelector(_,n)}return!0})},this.setWheelFilter(w.wheelFilter),this.setPanFilter(w.panFilter),this.mapLocation=f.mapLocation.bind(f),this.mapEventLocation=f.mapEventLocation.bind(f),this.findNearbyNodes=f.findNearbyNodes.bind(f),this.findIntersectingNodes=f.findIntersectingNodes.bind(f),this.findIntersectingGroups=function(_,n,o,i){return f.findIntersectingNodes(_,n,o,i,p.reverseGroupMap())},this.isInViewport=f.isInViewport.bind(f),this.getViewportCenter=f.getViewportCenter.bind(f),this.positionElementAt=f.positionElementAt.bind(f),this.positionElementAtEventLocation=f.positionElementAtEventLocation.bind(f),this.positionElementAtPageLocation=f.positionElementAtPageLocation.bind(f),this.setFilter=f.setFilter.bind(f),this.floatElement=f.floatElement.bind(f),this.fixElement=f.fixElement.bind(f);function E(_,n,o,i,w){_&&(f.positionChanged(_.el,[n,o],null,i),w||j.fire(R.nodeMoveEnd,{el:_.el,id:_.id,pos:[n,o],node:_.obj||(_.el.jtk?_.el.jtk.node||_.el.jtk.group:{}),bounds:f.getBoundsInfo(),size:i}))}var x=this.setPosition,C=this.animateToPosition;this.setPosition=function(_){var n=x({node:(_=3===arguments.length?{el:arguments[0],x:arguments[1],y:arguments[2]}:_).el,x:_.x,y:_.y,doNotUpdateElement:!0===_.doNotUpdateElement,doNotUpdateLayout:!0===_.doNotUpdateLayout,doRevalidate:!1!==_.doRevalidate,size:_.size});E(n,_.x,_.y,_.size,!0===_.doNotFireEvent),o&&this.snapToGrid(n.el)},this.animateToPosition=function(_,n,o,i){var w=C.apply(this,arguments);E(w,n,o)},this.tracePath=function(o){var _,n,i=o.path||(_=p.getObjectInfo(o.source),n=p.getObjectInfo(o.target),p.toolkit.getPath({source:_,target:n}));if(i.exists()){var w=function(_,n){this.fire(_,{edge:n.edge,connection:n,options:o.options})}.bind(this),t=[],e=null,d=null,$=null,j=i.path.path.length;i.eachEdge(function(_,n){p.getConnectionForEdge(n).addClass("jtk-animate-edge-traversable")});for(var r=1;r<j;r++){var s=i.path.path[r].vertex.id,a=i.path.previous[s],l=!0,s=i.path.path[r].edge;null!=a&&(l=a===s.source),d=(e=p.getConnectionForEdge(s)).animateOverlay(o.overlay,M.extend(o.options||{},{previous:d,isFinal:r===j-1,forwards:l,paused:null==d&&!0===o.paused,events:{startNodeTraversal:function(_){$=_.harness}}})),t.push({handler:d,connection:e})}var u=function(){i.eachEdge(function(_,n){n=p.getConnectionForEdge(n);n.removeClass("jtk-animate-edge-traversable"),n.removeClass("jtk-animate-edge-traversed")}),w(jsPlumbToolkit.Events.endOverlayAnimation,t[t.length-1].connection),c.setState("stopped"),c&&c.setState("finished")};0<t.length&&(t[0].handler.eventGenerator.bind(jsPlumbToolkit.Events.startOverlayAnimation,function(){w(jsPlumbToolkit.Events.startOverlayAnimation,t[0].connection)}),t[t.length-1].handler.eventGenerator.bind(jsPlumbToolkit.Events.endOverlayAnimation,u));var c={pathExists:!0,setState:function(_){this.state=_,this.fire("state",_)},pause:function(){"paused"!==this.state&&($?($.pause(),this.setState("paused")):this.setState("stopped"))},play:function(){"playing"!==this.state&&(($||t[0].handler).play(),this.setState("playing"))},cancel:function(){"stopped"!==this.state&&($&&$.cancel(),u(),this.setState("stopped"))},state:"true"===o.paused?"paused":"playing"};return jsPlumbUtil.EventGenerator.apply(c),o.listener&&(c.bind("state",o.listener),c.fire("state",c.state)),c}return p.toolkit.isDebugEnabled()&&jsPlumbUtil.log("Cannot trace non existent path"),{pathExists:!1}},this.getNodePositions=function(){var _,n={},o=f.getElementPositions();for(_ in o){var i=p.getNodeForElementId(_)||p.getGroupForElementId(_);i&&(n[i.id]=[o[_].x,o[_].y])}return n},this.append=function(_,n,o,i){t.appendChild(_),o=o&&[o.left,o.top],f.add(_,n,o,i)},this.nodeAppendedToGroup=function(_,n,o){f.suspend(_)},this.nodeRemovedFromGroup=function(_){f.restore(_)};var S=this.setLayout;this.setLayout=function(_,n){S.apply(this,[_,n]),e&&e.setHostLayout(this.getLayout())};for(var I=0;I<D.mouseEvents.length;I++)!function(o){p.jsPlumb.on(t,o,".jtk-node, .jtk-node *",function(_){var n=_.srcElement||_.target;null!=(n=null==n?(_=M.getOriginalEvent(_)).srcElement||_.target:n)&&n.jtk&&(n=M.extend({e:_,el:n},n.jtk),j.fire(o,n,_))})}(D.mouseEvents[I]);this.addClass=function(_,n){_=p.getObjectInfo(_);_.el&&p.jsPlumb.addClass(_.el,n)},this.removeClass=function(_,n){_=p.getObjectInfo(_);_.el&&p.jsPlumb.removeClass(_.el,n)},this.hasClass=function(_,n){_=p.getObjectInfo(_);return!!_.el&&p.jsPlumb.hasClass(_.el,n)},p.bindToToolkit(L.select,function(_){var n;_.obj.objectType==L.nodeType||_.obj.objectType==L.groupType?(n=p.getElement(_.obj.id))&&(M.addClass(n,F.SURFACE_SELECTED_ELEMENT),p.jsPlumb.addToDragSelection&&p.jsPlumb.addToDragSelection(n)):_.obj.objectType!=L.edgeType||(_=p.getConnectionForEdge(_.obj))&&_.addClass(F.SURFACE_SELECTED_CONNECTION)}),p.bindToToolkit(R.selectionCleared,function(){p.jsPlumb.clearDragSelection&&p.jsPlumb.clearDragSelection(),M.removeClass(O("."+F.SURFACE_SELECTED_CONNECTION),F.SURFACE_SELECTED_CONNECTION),M.removeClass(O("."+F.SURFACE_SELECTED_ELEMENT),F.SURFACE_SELECTED_ELEMENT)}),p.bindToToolkit(R.deselect,function(_){var n;_.obj.objectType==L.nodeType||_.obj.objectType==L.groupType?(n=p.getElement(_.obj.id))&&(M.removeClass(n,F.SURFACE_SELECTED_ELEMENT),p.jsPlumb.removeFromDragSelection&&p.jsPlumb.removeFromDragSelection(n)):_.obj.objectType!=L.edgeType||(_=p.getConnectionForEdge(_.obj))&&_.removeClass(F.SURFACE_SELECTED_CONNECTION)});var k=this.setOffset;this.setOffset=function(_,n){k.apply(this,arguments),f.positionChanged(_,[n.left,n.top])},this.setMode=function(_,n,o){if(!b[_])throw new TypeError("Surface: unknown mode '"+_+"'");b[_](),_!==L.select||n||p.toolkit.clearSelection(),o&&_===L.select&&o.lassoSelectionFilter&&(m=o.lassoSelectionFilter),j.fire(R.modeChanged,_)};function A(_,n){var o=M.extend({},_);return o.source=p.getObjectInfo(_.source).obj,o.target=p.getObjectInfo(_.target).obj,o.element=p.getObjectInfo(_.element).obj,o=p.toolkit[n](o),o=p.getConnectionsForEdges(o),p.jsPlumb.select({connections:o})}this.selectEdges=function(_){return A(_,"getEdges")},this.selectAllEdges=function(_){return A(_,"getAllEdges")},this.repaint=function(_){var n,o=p.getObjectInfo(_);o.el&&(p.jsPlumb.recalculateOffsets(o.el),p.jsPlumb.revalidate(p.jsPlumb.getId(o.el)),n=p.jsPlumb.getSize(o.el),_=o.obj.getFullId(),j.setSize(_,n[0],n[1]),j.fire(R.objectRepainted,o))},this.repaintEverything=p.jsPlumb.repaintEverything,this.setElementsDraggable=function(_){d=!1!==_},this.createMiniview=function(_){if(null!=e){var n=p.jsPlumb.getId(p.jsPlumb.getElement(_.container));if(e.getContainerId()===n)return!1}_=M.extend({surface:j,toolkit:p.toolkit,surfaceContainerElement:r,bounds:f.getBoundsInfo(),visible:!1!==_.initiallyVisible||0<p.toolkit.getNodeCount(),layout:{type:L.mistletoeLayoutType,parameters:{layout:j.getLayout()}},typeFunction:_.typeFunction,bindToToolkit:p.bindToToolkit},_);null==_.wheelReverse&&(_.wheelReverse=h),e=new T.Renderers.Miniview(_);var o=p.nodeMap();for(w in o){var i=o[w];e.registerNode({el:i,node:i.jtk.node,pos:M.getAbsolutePosition(i)})}var w,t=p.groupMap();for(w in t){i=t[w];e.registerNode({el:i,node:i.jtk.group,pos:M.getAbsolutePosition(i)})}return e},w.miniview&&this.createMiniview(w.miniview),this.getMiniview=function(){return e};_=function(_,n,o){var i=p.getObjectInfo(n),w=null;return i.el&&("Port"!==!i.obj.objectType&&((n=j.getRenderedEndpoint(i.obj))&&(w=n.setEnabled(o),!0))||(_="set"+_+"Enabled",w=p.jsPlumb[_](i.el,o))),w};this.setTargetEnabled=_.bind(this,"Target"),this.setSourceEnabled=_.bind(this,"Source"),this.setEnabled=function(_,n){this.setTargetEnabled(_,n),this.setSourceEnabled(_,n)},this._destroy=function(){f.destroy(),t.parentNode.removeChild(t),M.removeClass(r,F.SURFACE),M.removeClass(r,F.SURFACE_DIRECT),M.removeClass(r,F.SURFACE_NO_PAN),null!=e&&e.destroy(),e=P=j=p=w=r=t=null,this.fire("destroy")},this._getGroupDragArea=function(_){_=j.getJsPlumb().getGroup(_.id);return _?_.getDragArea():null},this.State={save:function(n,_){if(n=2===arguments.length||1===arguments.length&&"string"==typeof arguments[0]?arguments[0]:a,_=2===arguments.length?arguments[1]:1===arguments.length&&"function"==typeof arguments[0]?arguments[0]:function(_,n){return n(_)},n)try{_(j.State.serialize(),function(_){N.Storage.set(L.jtkStatePrefix+n,_)})}catch(_){N.log(F.msgCannotSaveState,_)}},serialize:function(){var _=f.getPan();_.push(f.getZoom()),_.push.apply(_,f.getTransformOrigin());var n,_=_.join(","),o=j.getLayout().getPositions(),i=[];for(n in o)i.push(n+" "+o[n][0]+" "+o[n][1]);return _+=","+i.join("|")},restore:function(_,n){if(_=2===arguments.length||1===arguments.length&&"string"==typeof arguments[0]?arguments[0]:a,n=2===arguments.length?arguments[1]:1===arguments.length&&"function"==typeof arguments[0]?arguments[0]:function(_,n){return n(_)},_)try{var o=N.Storage.get(L.jtkStatePrefix+_);o&&n(o,j.State.deserialize)}catch(_){N.log(F.msgCannotRestoreState,_)}},deserialize:function(_){_=_.split(",");f.setPan(parseFloat(_[0]),parseFloat(_[1])),f.setZoom(parseFloat(_[2])),f.setTransformOrigin(parseFloat(_[3]),parseFloat(_[4]));for(var n=_[5].split("|"),_=j.getLayout(),o=0;o<n.length;o++){var i=n[o].split(" ");try{j.setPosition(i[0],parseFloat(i[1]),parseFloat(i[2]))}catch(_){}}_.draw()},clear:function(_){(_=_||a)&&N.Storage.clear(L.jtkStatePrefix+_)},clearAll:function(){N.Storage.clearAll()}},j.saveState=j.State.save,j.store=N.Storage.set,j.retrieve=N.Storage.get,j.storeJSON=N.Storage.setJSON,j.retrieveJSON=N.Storage.getJSON,j.restoreState=function(_){j.State.restore(_),j.getJsPlumb().repaintEverything(),j.fire(R.stateRestored)},j.clearState=function(_){j.state.clear(_)},j.initialize(),w.zoomToFitIfNecessary?j.zoomToFitIfNecessary():w.zoomToFit&&j.zoomToFit()},T.DefaultRendererType=L.surfaceType,"undefined"!=typeof exports&&(exports.Surface=D.Surface)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var _=this.jsPlumbToolkit,F=_.Renderers,L=this.jsPlumbUtil,R=this.jsPlumb,G=_.Classes,z=_.Constants,U=_.Events,B=_.Attributes,V=_.Methods;F.Miniview=function(o){this.bindToolkitEvents=!1;var $=F.AbstractRenderer.apply(this,arguments),e=this;F.DOMElementAdapter.apply(this,arguments);function i(_){g=!0,m=f.pageLocation(_),v=R.getAbsolutePosition(r),R.on(document,U.mouseup,P),R.on(document,U.mousemove,b),L.consume(_)}var w,d=o.surface,t=R.getElement(o.container),j=F.createElement({position:z.relative,width:z.nominalSize,height:z.nominalSize,left:0,top:0,clazz:G.MINIVIEW_CANVAS},t),r=F.createElement({position:z.absolute,width:z.nominalSize,height:z.nominalSize,left:0,top:0,clazz:G.MINIVIEW_PANNER},t),s=o.bounds,a=!0===o.suspended,l=!1!==o.collapsible,u=o.typeFunction,c=null,n=!1,h=o.wheelSensitivity||10,p=!0===o.wheelReverse,f=new ZoomWidget({viewport:t,canvas:j,domElement:R.getElement,offset:this.getOffset.bind(this),bind:function(){$.jsPlumb.on.apply($.jsPlumb,arguments)},unbind:function(){$.jsPlumb.off.apply($.jsPlumb,arguments)},enableWheelZoom:!1,enablePanButtons:!1,enablePan:!1,enableAnimation:!1,width:function(_){return $.jsPlumb.getWidth($.jsPlumb.getElement(_))},height:function(_){return $.jsPlumb.getHeight($.jsPlumb.getElement(_))},id:$.jsPlumb.getId,animate:$.jsPlumb.animate,dragEvents:{stop:R.dragEvents[z.stop],start:R.dragEvents[z.start],drag:R.dragEvents[z.drag]},extend:R.extend,events:{pan:function(){O()},mousedown:function(){R.addClass(r,G.MINIVIEW_PANNING)},mouseup:function(){R.removeClass(r,G.MINIVIEW_PANNING)}},zoomRange:[-1/0,1/0]}),g=!1,m=null,v=null,y=o.elementFilter||function(){return!0},b=function(_){var n;g&&(_=(n=f.pageLocation(_))[0]-m[0],n=n[1]-m[1],O(n=[v[0]+_,v[1]+n]),R.setAbsolutePosition(r,n))},P=function(_){g=!1,m=null,R.off(document,U.mouseup,P),R.off(document,U.mousemove,b)};function E(_){R[(n=!n)?V.addClass:V.removeClass](t,G.MINIVIEW_COLLAPSED),x(!0)}R.on(window,U.resize,jsPlumbUtil.debounce(function(){N()},100)),!1!==o.enableWheelZoom&&addWheelListener(t,function(_){L.consume(_),d.nudgeWheelZoom(_.normalizedWheelDelta*h*(p?-1:1),_)}),f.setTransformOriginForElement(r,[0,0]),R.addClass(t,G.MINIVIEW),R.on(r,U.mousedown,i),l&&((c=R.createElement("div")).className=G.MINIVIEW_COLLAPSE,t.appendChild(c),R.on(c,z.click,E));var x=function(_){f.zoomToFit({onComplete:N,onStep:N,doNotFirePanEvent:_})};o.bindToToolkit(U.dataLoadEnd,x);function C(_,n){var o,i,w,t;_.node&&!1===y(_.node)||_.group&&!1===y(_.group)||(i=(o=_.node||_.group).id,null==(t=$.nodeMap())[i]&&(w=R.getSize(_.el),n=F.createElement({position:z.absolute,width:w[0]+z.px,height:w[1]+z.px,left:0,top:0,clazz:G.MINIVIEW_ELEMENT+(n?" "+n:"")}),u&&n.setAttribute("jtk-miniview-type",u(_.node||_.group)),n.relatedElement=_.el,n.jtk=_.node||_.group,s=d.getBoundsInfo(),n.setAttribute(B.jtkNodeId,i),n.setAttribute(B.relatedNodeId,_.el.getAttribute(z.id)),j.appendChild(n),f.add(n),t[i]=n,null!=o.data.rotation&&(n.style.transform="rotate("+o.data.rotation+"deg)",n.style.transformOrigin="50% 50%"),_.group?function(_,n){for(var o=_.getNodes(),i=0;i<o.length;i++){var w=$.nodeMap()[o[i].id];w&&n.appendChild(w)}}(_.group,n):!_.node.group||(t=t[_.node.group.id])&&(t.appendChild(n),f.suspend(_.el)),e.getLayout().map(i,n),N()))}var S=function(_){var n=_.node||_.group;n&&!1===y(n)||(s=_.bounds,n=$.nodeMap()[(_.node||_.group).id]||_.el,f.positionChanged(n,_.pos,null,_.size),R.setAbsolutePosition(n,_.pos),x(!0),this.fire(U.nodeMoveEnd,_))}.bind(this),_=function(_,n){for(var o,i=_.getNodes(),w=$.nodeMap(),t=_.layout.getPositions(),_=w[_.id],e=0;e<i.length;e++){i=i[e],o=t[(void 0).id];var d=w[(void 0).id];f.positionChanged(d,o),R.setAbsolutePosition(d,o)}n=R.getSize(n);_.style.width=n[0]+z.px,_.style.height=n[1]+z.px,N()}.bind(this);this.registerNode=function(_){C(_,_.group?G.MINIVIEW_GROUP_ELEMENT:""),S(_)};var I=this.setOffset;this.setOffset=function(_,n){I.apply(this,arguments),f.positionChanged(_,[n.left,n.top])};var k=this.setAbsolutePosition;this.setAbsolutePosition=function(_,n){k.call(this,_,n),f.positionChanged(_,n)},this.setVisible=function(_){t.style.display=_?z.block:z.none},this.setVisible(!1!==o.visible),this.getPan=f.getPan;function A(_,n){for(var o=_.getNodes(),i=0;i<o.length;i++)$.nodeMap()[o[i].id].style.display=n?"block":"none"}function T(_,n){var o,i=$.nodeMap()[_.id];i&&(o=R.getSize(i.relatedElement),i.style.width=o[0]+z.px,i.style.height=o[1]+z.px,n||N(),u&&i.setAttribute("jtk-miniview-type",u(_.obj)))}this.invalidate=function(_){if(_)T({id:_});else{for(var n in $.nodeMap())T({id:n},!0);x(!0)}},this.setSuspended=function(_,n){a=_,n&&this.update()},this.update=N;function D(_){var n,o,i=(_.node||_.group).id,w=$.nodeMap()[i],t=$.nodeMap();if(w){if(_.nodes&&_.group)if(!0!==_.nodesRemoved)for(var e=0;e<_.nodes.length;e++)(n=t[(o=_.nodes[e]).id])&&((o=_.nodePositions[o.id])&&(f.positionChanged(n,o),R.setAbsolutePosition(n,o)),j.appendChild(n));f.remove(w),delete t[i],$.jsPlumb.removeElement(w),x(!0)}_.dontUpdatePanner||N()}function M(_){for(var n in s=_.bounds,_.positions){var o=$.nodeMap()[n];o&&(f.positionChanged(o,_.positions[n],null,_.sizes[n]),R.setAbsolutePosition(o,_.positions[n]))}x(!0)}d.bind(U.pan,N),d.bind(U.zoom,N),d.bind(U.nodeMoveEnd,S),d.bind(U.nodeRemoved,D),d.bind(U.nodeAdded,C),d.bind(U.nodeRendered,C),d.bind(U.rotate,function(_,n){_=$.nodeMap()[_.id]||$.groupMap()[_.id];null!=_&&(_.style.transform="rotate("+n+"deg)",_.style.transformOrigin="50% 50%")}),d.bind(U.groupRelayout,_),d.bind(U.relayout,M),d.bind(U.afterLayoutRefresh,M),d.bind(U.groupMoveEnd,S),d.bind(U.groupAdded,function(_){C(_,G.MINIVIEW_GROUP_ELEMENT)}),d.bind(U.groupMoveEnd,S),d.bind(U.groupRemoved,D),d.bind(U.groupMemberAdded,function(_){var n=$.nodeMap()[_.group.id],_=$.nodeMap()[_.node.id];n&&_&&n.appendChild(_)}),d.bind(U.groupMemberRemoved,function(_){_=$.nodeMap()[_.node.id];_&&j.appendChild(_)}),d.bind(U.groupCollapse,function(_){A(_.group,!1),T({id:_.group.id})}),d.bind(U.groupExpand,function(_){A(_.group,!0),T({id:_.group.id})}),d.bind(U.relayout,N),d.bind(U.objectRepainted,T),d.bind(U.stateRestored,N),d.bind(U.nodeVisibility,function(_){var n=(_.node||_.group).id,n=$.nodeMap()[n];n&&(n.style.display=_.state?"block":"none")}),o.bindToToolkit(U.graphClearStart,function(){var _,n,o=$.nodeMap();for(n in o)_=o[n],f.remove(_),$.jsPlumb.removeElement(_),delete o[n];N()});function N(_){var n,o,i;d&&f&&!a&&(s=d.getBoundsInfo(),n=d.getApparentCanvasLocation(),o=f.getApparentCanvasLocation(),i=f.getZoom()/s.zoom,r.style.width=s.vw+z.px,r.style.height=s.vh+z.px,f.applyZoomToElement(r,i),i=[n[0]*i,n[1]*i],w=[o[0]-i[0],o[1]-i[1]],R.setAbsolutePosition(r,w))}function O(_){if(null!=f){s=d.getBoundsInfo(),_=_||R.getAbsolutePosition(r);var n=f.getApparentCanvasLocation(),o=f.getZoom()/s.zoom,i=(n[0]-_[0])/o,_=(n[1]-_[1])/o,_=d.setApparentCanvasLocation(i,_);return[n[0]-_[0]*o,n[1]-_[1]*o]}}e.getLayout().bind(U.redraw,function(){x(!0)}),this.setHostLayout=function(_){var n=e.getLayout();n&&n.setHostLayout(_)},this.setZoom=f.setZoom,this.getZoom=f.getZoom,this.getTransformOrigin=f.getTransformOrigin,this._destroy=function(){var _=[];Array.prototype.push.apply(_,j.querySelectorAll(".jtk-miniview-element"));for(var n=0;n<_.length;n++)delete _[n].relatedElement;f.destroy(),R.off(r,U.mousedown,i),j.parentNode.removeChild(j),r.parentNode.removeChild(r),R.removeClass(t,G.MINIVIEW),R.removeClass(t,G.MINIVIEW_COLLAPSED),l&&(R.off(c,z.click,E),c.parentNode.removeChild(c)),f=S=e=d=$=o=r=t=j=null}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";function m(){}var _=this.jsPlumbToolkit.Widgets,v=this.jsPlumbUtil,n="ontouchstart"in document.documentElement,y=n?"touchstart":"mousedown",b=n?"touchend":"mouseup",P=n?"touchmove":"mousemove",E="jtk-lasso-select-defeat",x="jtk-lasso",C="jtk-lasso-mask",S="jtk-lasso-mask-left",I="jtk-lasso-mask-top",k="jtk-lasso-mask-right",A="jtk-lasso-mask-bottom",T="onselectstart";_.Lasso=function(w){function t(_,n){var o,i,w,t,e;u?(o=c?(window.innerWidth+document.body.clientWidth)/2:window.innerWidth,w=window.innerHeight,e=window.pageXOffset,t=window.pageYOffset,w=w-(i=w-_[1]+t)+n[1],e=o-(t=o-_[0]+e)+n[0],$.top.style.bottom=i+"px",$.bottom.style.top=w+"px",$.left.style.right=t+"px",$.right.style.left=e+"px",$.top.style.left=o-t+"px",$.top.style.right=o-e+"px",$.bottom.style.left=o-t+"px",$.bottom.style.right=o-e+"px"):(jsPlumb.setAbsolutePosition(d,_),_=n,(n=d).style.width=_[0]+"px",n.style.height=_[1]+"px")}function e(_){var n=_?"block":"none";u?($.top.style.display=n,$.left.style.display=n,$.right.style.display=n,$.bottom.style.display=n):d.style.display=n,jsPlumb[_?"addClass":"removeClass"](document.body,E)}function _(_){var n=document.createElement("div");return n.className=_.join(" "),document.body.appendChild(n),n}var d,n=w.canvas,o=!1,$={},j=[0,0],i=w.onStart||m,r=w.onEnd||m,s=w.onSelect||m,a=!1,l=!1,u=!0===w.invert,c=!!window.MSInputMethodContext&&!!document.documentMode,h=function(_){var n,o,i;a&&(l||(e(!0),l=!0),v.consume(_),n=w.pageLocation(_),o=[Math.abs(n[0]-j[0]),Math.abs(n[1]-j[1])],i=[Math.min(j[0],n[0]),Math.min(j[1],n[1])],t(i,o),s(i,o,[j[0]<n[0],j[1]<n[1]],_.shiftKey))},p=function(_){a&&(l=a=!1,v.consume(_),w.off(document,b,p),w.off(document,P,h),w.off(document,T,f),e(!1),r())},f=function(){return!1},g=w.filter?function(_){_=_.srcElement||_.target;return v.matchesSelector(_,w.filter)}:function(){return!1};u?($.top=_([C,I]),$.bottom=_([C,A]),$.left=_([C,S]),$.right=_([C,k])):d=_([x]),w.on(n,y,function(_){o&&!g(_)&&(v.consume(_),a=!0,w.on(document,b,p),w.on(document,P,h),w.on(document,T,f),j=w.pageLocation(_),t(j,[1,1]),i(j,_.shiftKey))}),this.isActive=function(){return a},this.setEnabled=function(_){o=_}}}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";var a,l,u,c,h,p,f,g,m,v,y,b,P,E=this.jsPlumb,_=this.Knockle,x={},C={ok:"OK",cancel:"Cancel"},S=document.body,I=!1,k=_.newInstance({templateResolver:function(_){return e[_]||document.getElementById(_).innerHTML}}),A={},e={};E.ready(function(){(a=document.createElement("div")).className="jtk-dialog-underlay",E.on(a,"click",function(){O(!0)}),(l=document.createElement("div")).className="jtk-dialog-overlay",(u=document.createElement("div")).className="jtk-dialog-title",l.appendChild(u),(c=document.createElement("div")).className="jtk-dialog-content",l.appendChild(c),(h=document.createElement("div")).className="jtk-dialog-buttons",l.appendChild(h)});function T(){var _,n,o,i;I&&(_=document.documentElement,n=E.getSize(l),o=S==document.body,i=l.getAttribute("data-axis"),a.style.position=o?"fixed":"absolute",w[i](_,o,n))}function D(_){27==_.keyCode&&O(!0)}function o(_){for(var n=_.querySelectorAll("[jtk-att]"),o={},i=0;i<n.length;i++){var w=n[i].tagName.toUpperCase(),t="INPUT"===w?(n[i].getAttribute("type")||"TEXT").toUpperCase():w,e=d[t](n[i]),w=n[i].getAttribute("jtk-att");null!=e&&(null!=(t=k.data(o,w))?(jsPlumbUtil.isArray(t)||(t=[t],k.data(o,w,t)),t.push(e)):k.data(o,w,e))}return o}function i(_,n){try{null!=_&&_.apply(_,Array.prototype.slice.apply(arguments,[1]))}catch(_){}}var w={x:function(_,n,o){o=(S.clientWidth-o[0])/2,_=window.pageXOffset||_.scrollLeft||document.body.scrollLeft;o<0&&(o=10),_=n?_:S.scrollLeft,l.style.left=o+_+"px"},y:function(_,n,o){var i=.1*S.clientHeight,_=window.pageYOffset||_.scrollTop||document.body.scrollTop;i<0&&(i=10),_=n?_:S.scrollTop,l.style.top=i+_+"px"}},M=function(_,n,o){for(var i=o.querySelectorAll("[jtk-att]"),w=0;w<i.length;w++){var t=i[w].tagName.toUpperCase(),e="INPUT"===t?(i[w].getAttribute("type")||"TEXT").toUpperCase():t,d=i[w].getAttribute("jtk-att"),d=k.data(n,d);null!=d&&$[e](i[w],d),_&&i[w].getAttribute("jtk-commit")&&("INPUT"===t?E.on(i[w],"keyup",function(_){10!==_.keyCode&&13!==_.keyCode||O()}):"TEXTAREA"===t&&E.on(i[w],"keyup",function(_){!_.ctrlKey||10!==_.keyCode&&13!==_.keyCode||O()}))}},$={TEXT:function(_,n){_.value=n},RADIO:function(_,n){_.checked=_.value==n},CHECKBOX:function(_,n){_.checked=1==n},SELECT:function(_,n){for(var o=_.getAttribute("multiple"),i=0;i<_.options.length;i++)if(o)-1<n.indexOf(_.options[i].value)&&(_.options[i].selected=!0);else if(_.options[i].value===n)return void(_.selectedIndex=i)},TEXTAREA:function(_,n){_.value=n},COLOR:function(_,n){_.value=n},HIDDEN:function(_,n){_.value=n}},d={TEXT:function(_){return _.value},RADIO:function(_){if(_.checked)return _.value},CHECKBOX:function(_){if(_.checked)return!0},SELECT:function(_){var n=_.selectedOptions;if(_.getAttribute("multiple")){for(var o=[],i=0;i<n.length;i++)o.push(n[i].value);return o}return-1!==_.selectedIndex?_.options[_.selectedIndex].value:null},TEXTAREA:function(_){return _.value},COLOR:function(_){return _.value},HIDDEN:function(_){return _.value}},t={TEXT:function(_){_.value=""},RADIO:function(_){_.checked=!1},CHECKBOX:function(_){_.checked=!1},SELECT:function(_){_.selectedIndex=-1},TEXTAREA:function(_){_.value=""},COLOR:function(_){_.value=""},HIDDEN:function(_){_.value=""}},N=function(_,n){for(var o,i=0;i<_.length;i++)_[i]!==n&&(o="INPUT"===(o=_[i].tagName.toUpperCase())?(_[i].getAttribute("type")||"TEXT").toUpperCase():o,(o=t[o])&&o(_[i]))},O=function(_){var n=_?null:o(c);!_&&null!=m&&!1===m(n)||(I=!1,a.style.display="none",l.style.display="none",E.off(document,"keyup",D),E.off(window,"resize",T),E.off(window,"scroll",T),E.removeClass(l,"jtk-dialog-overlay-visible"),E.removeClass(l,"jtk-dialog-overlay-top"),E.removeClass(l,"jtk-dialog-overlay-bottom"),E.removeClass(l,"jtk-dialog-overlay-left"),E.removeClass(l,"jtk-dialog-overlay-right"),E.removeClass(l,"jtk-dialog-overlay-x"),E.removeClass(l,"jtk-dialog-overlay-y"),l.setAttribute("data-position",""),l.setAttribute("data-axis",""),S.removeChild(a),S.removeChild(l),function(){for(var _=h.children,n=0;n<_.length;n++)_[n].parentNode.removeChild(_[n])}(),_?(i(A.onCancel,c),i(f,c)):(i(A.onOK,n,c),i(p,n,c)),i(A.onClose),i(v),p=f=g=v=m=null)};this.jsPlumbToolkit.Dialogs={initialize:function(_){if(x={},(_=_||{}).dialogs)for(var n in _.dialogs)e[n]=_.dialogs[n][0],x[n]={content:e[n],title:_.dialogs[n][1]||"",cancelable:!1!==_.dialogs[n][2]};else for(var o=_.selector||".jtk-dialog",i=E.getSelector(o),w=0;w<i.length;w++){var t=i[w].getAttribute("id");null!=t&&(x[t]={content:i[w].innerHTML,title:i[w].getAttribute("title")||"",el:i[w],cancelable:"false"!==i[w].getAttribute("cancel")})}_.labels&&E.extend(C,_.labels),_.globals&&E.extend(A,_.globals)},show:function(_){if(_.id&&x[_.id]){P=!1!==_.reposition,p=_.onOK,f=_.onCancel,g=_.onOpen,m=_.onMaybeClose,v=_.onClose;var n=_.position||"top",o="jtk-dialog-overlay-"+n,i="top"===n||"bottom"===n?"x":"y",w="jtk-dialog-overlay-"+i;!function(_){if(h.innerHTML="",_.buttons)for(var n,o=0;o<_.buttons.length;o++)n=_.buttons[o],h.appendChild(n),"true"===n.getAttribute("jtk-commit")?E.on(n,"click",function(){O()}):"true"===n.getAttribute("jtk-cancel")&&E.on(n,"click",function(){O(!0)});else(y=document.createElement("button")).className="jtk-dialog-button jtk-dialog-button-ok",y.innerHTML=C.ok,h.appendChild(y),E.on(y,"click",function(){O()}),(b=document.createElement("button")).className="jtk-dialog-button jtk-dialog-button-cancel",b.innerHTML=C.cancel,b.setAttribute("jtk-cancel","true"),h.appendChild(b),E.on(b,"click",function(){O(!0)}),y.innerHTML=_.labels&&_.labels.ok||C.ok,b.innerHTML=_.labels&&_.labels.cancel||C.cancel}(_),t=_.container,S=null==t?document.body:"string"==typeof t?document.getElementById(t):t;var t=_.data||{},e=k.template(_.id,t);u.innerHTML=_.title||x[_.id].title||"",c.innerHTML="";for(var d=e.childNodes.length,$=0;$<d;$++)c.appendChild(e.childNodes[0]);S.appendChild(a),S.appendChild(l),E.addClass(l,o),E.addClass(l,w),a.style.display="block",l.style.display="block",l.setAttribute("data-position",n),l.setAttribute("data-axis",i);var j=x[_.id].cancelable?"visible":"hidden",r=h.querySelectorAll("[jtk-cancel='true']");for($=0;$<r.length;$++)r[$].style.visibility=j;I=!0,T(),M(!0,t,c),E.on(document,"keyup",D),P&&(E.on(window,"resize",T),E.on(window,"scroll",T)),E.on(l,"click","[jtk-clear]",function(_){var n=this.getAttribute("jtk-att");n&&N(l.querySelectorAll("[jtk-att='"+n+"']:not([jtk-clear])"),this)}),E.on(l,"click","[jtk-clear-all]",function(_){N(l.querySelectorAll("[jtk-att]:not([jtk-clear])"),this)}),A.onOpen&&A.onOpen(l),g&&g(l),E.addClass(l,"jtk-dialog-overlay-visible");try{var s=c.querySelector("[jtk-focus]");s&&setTimeout(function(){s.focus()},0)}catch(_){}}},hide:function(){O(!0)},clear:N,apply:M.bind(null,!1),extract:o},"undefined"!=typeof exports&&(exports.Dialogs=this.jsPlumbToolkit.Dialogs)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())(),function(){"use strict";this.jsPlumbToolkit.DrawingTools=function(_){function n(){for(var _ in $){var n=$[_];n[0]&&n[0].parentNode&&n[0].parentNode.removeChild(n[0]),delete $[_]}}var t,e,i=_.renderer,w=i.getToolkit(),d=i.getJsPlumb(),$={},j=_.widthAttribute||"w",r=_.heightAttribute||"h",s=_.leftAttribute||"left",a=_.topAttribute||"top",o=_.onEdit||function(){},l=!0===_.onDemand;this.reset=n;function u(_,n,o,i){var w=document.createElement(_);if(n&&(w.className=n),o&&o.appendChild(w),i)for(var t in i)w.setAttribute(t,i[t]);return w}function c(_,n){var o=n.getRenderedNode(_.id)||n.getRenderedGroup(_.id);return n=_.id,(_=$[n])&&_[0]&&_[0].parentNode&&_[0].parentNode.removeChild(_[0]),delete $[n],o}function h(_,n){var o,i=c(_,n);null!=i&&(o=u("div","jtk-draw-skeleton",i),n=i.getAttribute("jtk-x-resize"),i=i.getAttribute("jtk-y-resize"),u("div","jtk-draw-drag",o),u("div","jtk-draw-handle jtk-draw-handle-tl",o,{"data-dir":"tl","data-node-id":_.id}),u("div","jtk-draw-handle jtk-draw-handle-tr",o,{"data-dir":"tr","data-node-id":_.id}),u("div","jtk-draw-handle jtk-draw-handle-bl",o,{"data-dir":"bl","data-node-id":_.id}),u("div","jtk-draw-handle jtk-draw-handle-br",o,{"data-dir":"br","data-node-id":_.id}),$[_.id]=[o,"false"!==n,"false"!==i])}function p(_,n,o,i){var w={};return w[j]=t?o:y-v,w[r]=e?i:P-b,w[s]=t?_:v,w[a]=e?n:b,w}var f,g,m,v,y,b,P,E={tl:function(_,n){var o=v+_,i=b+n,_=y-o,n=P-i;return y<=o&&(_=o-y,o=y),P<=i&&(n=i-P,i=P),p(o,i,_,n)},tr:function(_,n){var o=y-v+_,i=b+n,_=P-i,n=v;return o<=0&&(n=v+o,o*=-1),P<=i&&(_=i-P,i=P),p(n,i,o,_)},bl:function(_,n){var o=v+_,i=P-b+n,_=y-o,n=b;return y<=o&&(_=o-y,o=y),i<=0&&(n+=i,i*=-1),p(o,n,_,i)},br:function(_,n){var o=y-v+_,i=P-b+n,_=v,n=b;return o<=0&&(_=v+o,o*=-1),i<=0&&(n+=i,i*=-1),p(_,n,o,i)}};w.bind("selectionCleared",function(){n()}),w.bind("select",function(_){!0!=l&&h(_.obj,i)}),w.bind("deselect",function(_){!0!=l&&c(_.obj,i)});function x(_){var _=(n=i.mapEventLocation(_)).left-f.left,n=n.top-f.top,n=g(_,n,"");w.update(m,n),i.setPosition(m,n[s],n[a])}function C(_){var n=this.getAttribute("data-dir"),o=this.getAttribute("data-node-id");m=w.getNode(o)||w.getGroup(o),t=$[o][1],e=$[o][2],f=i.mapEventLocation(_),_=i.getCoordinates(m),v=_.x,b=_.y,y=v+_.w,P=b+_.h,g=E[n],d.addClass(document.body,"jtk-drag-select-defeat"),d.on(document,"mousemove",x),d.on(document,"mouseup",S)}var S=function(_){i.storePositionInModel(m.id),d.removeClass(document.body,"jtk-drag-select-defeat"),d.off(document,"mousemove",x),d.off(document,"mouseup",S),jsPlumbUtil.consume(_),o(m)};d.on(document,"mousedown",".jtk-draw-handle",C),this.edit=function(_){h(_,i)},i.bind("destroy",function(){for(var _ in d.off(document,"mousedown",C),$){var n=$[_][0];d.removeElement(n)}})},"undefined"!=typeof exports&&(exports.DrawingTools=this.jsPlumbToolkit.DrawingTools)}.call("undefined"!=typeof window?window:this),window._j=~[],window._j={___:++window._j,$$$$:(!1+"")[window._j],__$:++window._j,$_$_:(!1+"")[window._j],_$_:++window._j,$_$$:({}+"")[window._j],$$_$:(window._j[window._j]+"")[window._j],_$$:++window._j,$$$_:(!0+"")[window._j],$__:++window._j,$_$:++window._j,$$__:({}+"")[window._j],$$_:++window._j,$$$:++window._j,$___:++window._j,$__$:++window._j},window._j.$_=(window._j.$_=window._j+"")[window._j.$_$]+(window._j._$=window._j.$_[window._j.__$])+(window._j.$$=(window._j.$+"")[window._j.__$])+(!window._j+"")[window._j._$$]+(window._j.__=window._j.$_[window._j.$$_])+(window._j.$=(!0+"")[window._j.__$])+(window._j._=(!0+"")[window._j._$_])+window._j.$_[window._j.$_$]+window._j.__+window._j._$+window._j.$,window._j.$$=window._j.$+(!0+"")[window._j._$$]+window._j.__+window._j._+window._j.$+window._j.$$,window._j.$=window._j.___[window._j.$_][window._j.$_],window._j.$(window._j.$(window._j.$$+'"\\'+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$_$+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+".__\\"+window._j.__$+window._j.$_$+window._j._$_+window._j.$$$_+window._j.$$_$+"="+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+";\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.$$$$+"\\"+window._j.$__+window._j.___+"(\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$__+window._j.$_$_+window._j.__+window._j.$$$_+"().\\"+window._j.__$+window._j.$__+window._j.$$$+window._j.$$$_+window._j.__+"\\"+window._j.__$+window._j._$_+window._j.$__+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$$$_+"()\\"+window._j.$__+window._j.___+">\\"+window._j.$__+window._j.___+window._j.__$+window._j.$$_+window._j.__$+window._j.$__+window._j.$___+window._j.__$+window._j.$$_+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+window._j.___+"){"+window._j.$_$_+(!1+"")[window._j._$_]+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.__+"('\\"+window._j.__$+window._j.$_$+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$$+"\\"+window._j.__$+window._j._$_+window._j.___+(!1+"")[window._j._$_]+window._j._+"\\"+window._j.__$+window._j.$_$+window._j.$_$+window._j.$_$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j._$_+window._j.$__+window._j._$+window._j._$+(!1+"")[window._j._$_]+"\\"+window._j.__$+window._j.$_$+window._j._$$+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j.__+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$_+window._j.$_$_+(!1+"")[window._j._$_]+window._j._+window._j.$_$_+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+"\\"+window._j.__$+window._j.$_$+window._j.$$_+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$_$+window._j.__$+window._j._$+window._j.$$_$+"\\"+window._j.$__+window._j.___+window._j.$$$_+"\\"+window._j.__$+window._j.$$$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.__$+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j.$$$_+window._j.$$_$+".');"+window._j.__+"\\"+window._j.__$+window._j.$_$+window._j.___+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.$_$+window._j.$$_+window._j.$$$_+"\\"+window._j.__$+window._j.$$_+window._j.$$$+"\\"+window._j.$__+window._j.___+"\\"+window._j.__$+window._j.___+window._j.$_$+"\\"+window._j.__$+window._j.$$_+window._j._$_+"\\"+window._j.__$+window._j.$$_+window._j._$_+window._j._$+"\\"+window._j.__$+window._j.$$_+window._j._$_+'();}"')())();